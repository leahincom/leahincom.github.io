<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source Code Pro:300,300italic,400,400italic,700,700italic|Source Code Pro, Noto Sans KR:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"leahincom.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Hooks    ê¸°ë³¸ Hook    useState1const [state, setState] &#x3D; useState(initialState);  useState() : state ì™€ setState ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜  initialState : ì´ˆê¸°ê°’ ë³´í†µ null ì´ë‚˜ &quot;&quot; ë“±ì˜ default valueë¡œ ì„¤ì •í•œë‹¤.     state :">
<meta property="og:type" content="article">
<meta property="og:title" content="Hooks">
<meta property="og:url" content="https://leahincom.github.io/2021/05/05/THUREE-Hooks/index.html">
<meta property="og:site_name" content="leah">
<meta property="og:description" content="Hooks    ê¸°ë³¸ Hook    useState1const [state, setState] &#x3D; useState(initialState);  useState() : state ì™€ setState ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜  initialState : ì´ˆê¸°ê°’ ë³´í†µ null ì´ë‚˜ &quot;&quot; ë“±ì˜ default valueë¡œ ì„¤ì •í•œë‹¤.     state :">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://coder.earth/static/usecallback_1-aa6572c6cb98757914009ef9063d2204-04c70.png">
<meta property="og:image" content="https://coder.earth/static/usecallback_5-0aacccaf0b04a87b0fa2cf7eab59baaf-04c70.png">
<meta property="og:image" content="https://coder.earth/static/usecallback_7-bd85d59569c0dc834c931abc121027b8-04c70.png">
<meta property="article:published_time" content="2021-05-05T14:44:17.000Z">
<meta property="article:modified_time" content="2021-07-24T09:56:50.825Z">
<meta property="article:author" content="JungHyun">
<meta property="article:tag" content="SOPT">
<meta property="article:tag" content="WEB">
<meta property="article:tag" content="ReactJS">
<meta property="article:tag" content="Hooks">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://coder.earth/static/usecallback_1-aa6572c6cb98757914009ef9063d2204-04c70.png">

<link rel="canonical" href="https://leahincom.github.io/2021/05/05/THUREE-Hooks/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Hooks | leah</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">leah</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">my dev_log</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://leahincom.github.io/2021/05/05/THUREE-Hooks/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/profile.jpeg">
      <meta itemprop="name" content="JungHyun">
      <meta itemprop="description" content="Continuously Growing Developer">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="leah">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Hooks
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-05-05 15:44:17" itemprop="dateCreated datePublished" datetime="2021-05-05T15:44:17+01:00">2021-05-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-07-24 10:56:50" itemprop="dateModified" datetime="2021-07-24T10:56:50+01:00">2021-07-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/sopt/" itemprop="url" rel="index"><span itemprop="name">SOPT</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/sopt/thuree/" itemprop="url" rel="index"><span itemprop="name">THUREE</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="Hooks"><a href="#Hooks" class="headerlink" title="Hooks"></a>Hooks</h2><br />



<h3 id="ê¸°ë³¸-Hook"><a href="#ê¸°ë³¸-Hook" class="headerlink" title="ê¸°ë³¸ Hook"></a>ê¸°ë³¸ Hook</h3><br />



<h4 id="useState"><a href="#useState" class="headerlink" title="useState"></a>useState</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [state, setState] = useState(initialState);</span><br></pre></td></tr></table></figure>
<ul>
<li><p><code>useState()</code> : <code>state</code> ì™€ <code>setState</code> ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜</p>
<ul>
<li><code>initialState</code> : ì´ˆê¸°ê°’<ul>
<li>ë³´í†µ <code>null</code> ì´ë‚˜ <code>&quot;&quot;</code> ë“±ì˜ default valueë¡œ ì„¤ì •í•œë‹¤.</li>
</ul>
</li>
</ul>
</li>
<li><p><code>state</code> : ìƒíƒœ ìœ ì§€ (ì €ì¥) ê°’</p>
<ul>
<li>ìµœì´ˆ ë Œë”ë§ ì‹œ ë°˜í™˜ëœ <code>state</code> ëŠ” <code>initialValue</code> ì´ë‹¤.</li>
</ul>
</li>
<li><p><code>setState</code> : <code>state</code> ê°’ì„ ê°±ì‹ í•˜ëŠ” í•¨ìˆ˜</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setState(newState);</span><br></pre></td></tr></table></figure>
<ul>
<li>ìƒˆ <code>state</code> ê°’ì„ ë°›ìœ¼ë©´ ì»´í¬ë„ŒíŠ¸ ë¦¬ë Œë”ë§ì„ íì— ë“±ë¡í•œë‹¤.</li>
<li>ë¦¬ë Œë”ë§ ì‹œ <code>useState</code> ê°€ ë°˜í™˜í•˜ëŠ” ì²«ë²ˆì§¸ ê°’ (ì¸ì) ì€ ê°±ì‹ ëœ ìµœì‹  <code>state</code> ì´ë‹¤.</li>
</ul>
</li>
</ul>
<br />



<blockquote>
<p>Note</p>
<p>React guarantees that <code>setState</code> function identity is stable and wonâ€™t change on re-renders. This is why itâ€™s safe to omit from the <code>useEffect</code> or <code>useCallback</code> dependency list.</p>
</blockquote>
<br />

<h5 id="Functional-Updates"><a href="#Functional-Updates" class="headerlink" title="Functional Updates"></a>Functional Updates</h5><blockquote>
<p> í•¨ìˆ˜ì  ê°±ì‹ </p>
</blockquote>
<br />



<ol>
<li><p><code>setState</code> ê°€ ê°’ì„ ê°±ì‹ í•˜ëŠ” ê³¼ì •ì„ ì§ì ‘ ì½”ë“œë¡œ ì‘ì„±í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [state, setState] = useState(&#123;&#125;);</span><br><span class="line">setState(<span class="function"><span class="params">prevState</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// Object.assign would also work</span></span><br><span class="line">  <span class="keyword">return</span> &#123;...prevState, ...updatedValues&#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ê°±ì‹ ëœ ê°ì²´ë¥¼ ìë™ìœ¼ë¡œ mergeí•˜ëŠ” <code> useState</code> ì™€ ë°˜ëŒ€ë¡œ, <code>setState</code> ëŠ” <code>initialValue</code> ë¥¼ ìœ ì§€í•œë‹¤.</p>
</blockquote>
<p>ì´ì „ <code>state</code> ë¥¼ ì´ìš©í•´ì„œ ê°’ì„ <strong>ê°±ì‹ </strong>í•˜ëŠ” ê²½ìš°, ì´ì „ ê°’ì„ ë°›ì•„ ê°±ì‹ ëœ ê°’ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ <code>setState</code> ë¡œ ì „ë‹¬í•˜ë©´ ëœë‹¤.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Counter</span> (<span class="params">&#123; initialCount &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(initialCount);</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      Count: &#123;count&#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// ì´ˆê¸°í™”</span></span><br><span class="line">      &lt;button onClick=&#123;<span class="function">() =&gt;</span> setCount(initialCount)&#125;&gt;Reset&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// ì´ì „ ê°’ì„ ì´ìš©í•´ì„œ ê°’ì„ ê°±ì‹ í•˜ëŠ” ê²½ìš°</span></span><br><span class="line">			<span class="comment">// parameter value : í˜„ì¬ ê°’</span></span><br><span class="line">			<span class="comment">// return value : ê°±ì‹ í•  ê°’</span></span><br><span class="line">      &lt;button onClick=&#123;<span class="function">() =&gt;</span> setCount(<span class="function"><span class="params">prevCount</span> =&gt;</span> prevCount - <span class="number">1</span>)&#125;&gt;-&lt;/button&gt;</span><br><span class="line">      &lt;button onClick=&#123;<span class="function">() =&gt;</span> setCount(<span class="function"><span class="params">prevCount</span> =&gt;</span> prevCount + <span class="number">1</span>)&#125;&gt;+&lt;/button&gt;</span><br><span class="line">    &lt;/&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br />



</li>
</ol>
<blockquote>
<p>Note</p>
<p>Another option is <code>useReducer</code>, which is more suited for managing state objects that contain multiple sub-values.</p>
</blockquote>
<br />



<ol start="2">
<li>ì—…ë°ì´íŠ¸ í•¨ìˆ˜ (setStateì— ì „ë‹¬í•œ í•¨ìˆ˜) ê°€ í˜„ì¬ ìƒíƒœì™€ ì •í™•íˆ ë™ì¼í•œ ê°’ì„ ë°˜í™˜í•œë‹¤ë©´ ë°”ë¡œ ë’¤ì— ì¼ì–´ë‚  ë¦¬ë Œë”ë§ì€ ì™„ì „íˆ ê±´ë„ˆë›°ê²Œ ëœë‹¤.</li>
</ol>
<br />



<blockquote>
<p><strong>Reactì—ì„œ <code>&#123;&#125;</code> ë¥¼ ì“°ëŠ” ê²½ìš°</strong></p>
<ul>
<li>JSX ë‚´ë¶€ì—ì„œëŠ” ê°ì²´ë¥¼ ë°›ì•„ì˜´<ul>
<li><code>&#123;&#123;&#125;&#125;</code> : ê°ì²´ë¥¼ ë°›ì•„ì˜¤ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ JSX ë‚´ë¶€ì—ì„œ ìƒì„±í•  ë•Œ</li>
</ul>
</li>
<li>JSX ì™¸ë¶€ì—ì„œëŠ” ì¼ë°˜ JSì˜ ë¬¸ë²• ì¤‘ function destructurizingì„ ì‹¤í–‰</li>
</ul>
</blockquote>
<br />



<h5 id="Lazy-Initial-State"><a href="#Lazy-Initial-State" class="headerlink" title="Lazy Initial State"></a>Lazy Initial State</h5><blockquote>
<p> ì§€ì—° ì´ˆê¸° state</p>
</blockquote>
<br />



<p><code>initialState</code> ì¸ìëŠ” ì´ˆê¸° ë Œë”ë§ ì‹œì— ì‚¬ìš©í•˜ëŠ” <code>state (ê°’)</code> ìœ¼ë¡œ, ë¦¬ë Œë”ë§ ì‹œ ì´ ê°’ì€ ë¬´ì‹œëœë‹¤.</p>
<p>ë§Œì•½ ì´ˆê¸° stateê°€ ê³ ë¹„ìš© ê³„ì‚°ì˜ ê²°ê³¼ë¼ë©´, ì´ˆê¸° ë Œë”ë§ ì‹œì—ë§Œ ì‹¤í–‰ë  í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ì—¬ ì „ë‹¬í•˜ëŠ” ê²ƒì´ íš¨ìœ¨ì ì´ë‹¤.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [state, setState] = useState(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> initialState = someExpensiveComputation(props);</span><br><span class="line">  <span class="keyword">return</span> initialState;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<br />



<h5 id="Bailing-Out-of-a-State-Update"><a href="#Bailing-Out-of-a-State-Update" class="headerlink" title="Bailing Out of a State Update"></a>Bailing Out of a State Update</h5><blockquote>
<p>state ê°±ì‹ ì˜ ì·¨ì†Œ</p>
</blockquote>
<br />



<p>ì•ì„œ ì„¤ëª…í•œ <em>â€œì—…ë°ì´íŠ¸ í•¨ìˆ˜ (setStateì— ì „ë‹¬í•œ í•¨ìˆ˜) ê°€ í˜„ì¬ ìƒíƒœì™€ ì •í™•íˆ ë™ì¼í•œ ê°’ì„ ë°˜í™˜í•œë‹¤ë©´ ë°”ë¡œ ë’¤ì— ì¼ì–´ë‚  ë¦¬ë Œë”ë§ì€ ì™„ì „íˆ ê±´ë„ˆë›°ê²Œ ëœë‹¤.â€</em> ë¥¼ ì¶”ê°€ì ìœ¼ë¡œ ì„¤ëª…í•˜ìë©´,</p>
<p>State Hookì„ í˜„ì¬ stateì™€ ë™ì¼í•œ ê°’ìœ¼ë¡œ ê°±ì‹  (update) í•  ê²½ìš°, ë¦¬ì•¡íŠ¸ëŠ” children or firing effectsë¥¼ ë Œë”ë§í•˜ëŠ” ê³¼ì •ì„ ê±´ë„ˆë›°ê³  ì‹¤í–‰ (ì²˜ë¦¬) ì„ ì¢…ë£Œí•œë‹¤.</p>
<br />



<blockquote>
<p>Note</p>
<p>React may still need to render that specific component again before bailing out. That shouldnâ€™t be a concern because React wonâ€™t unnecessarily go â€œdeeperâ€ into the tree. If youâ€™re doing expensive calculations while rendering, you can optimize them with <code>useMemo</code>.</p>
</blockquote>
<br />



<h4 id="useEffect"><a href="#useEffect" class="headerlink" title="useEffect"></a>useEffect</h4><p>í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ ë‚´ì—ì„œëŠ” <em>Reactâ€™s render phase</em>ì— ë”°ë¼ <em>Mutations, subscriptions, timers, logging, and other side effects</em> ê°€ í—ˆìš©ë˜ì§€ ì•ŠëŠ”ë‹¤.</p>
<p>ì´ë¥¼ ìœ„í•´ <code>useEffect</code> ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useEffect(didUpdate);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>useEffect()</code> : ëª¨ë“  ë Œë”ë§ì´ ì™„ë£Œëœ í›„ / ì–´ë–¤ ê°’ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œì—ë§Œ ë™ì‘ ( <code>didUpdate</code> ) ì„ ìˆ˜í–‰</li>
<li><code>didUpdate</code> : íŠ¹ì • effectë¥¼ ë°œìƒì‹œí‚¤ëŠ” (ëª…ë ¹í˜•) í•¨ìˆ˜</li>
</ul>
<br />



<h5 id="Cleaning-Up-an-Effect"><a href="#Cleaning-Up-an-Effect" class="headerlink" title="Cleaning Up an Effect"></a>Cleaning Up an Effect</h5><blockquote>
<p>effect ì •ë¦¬</p>
</blockquote>
<br />



<p>EffectëŠ” ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì—ì„œ ì œê±°ë  ë•Œ ì •ë¦¬ë˜ì–´ì•¼ í•˜ëŠ” ìš”ì†Œ (e.g. subscription, timer ID ë“±) ë¥¼ ë§Œë“¤ê³¤ í•œë‹¤. ì´ë¥¼ ì •ë¦¬í•˜ëŠ” í•¨ìˆ˜ë¥¼ <code>useEffect</code> ì— ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">useEffect(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// new subscription is created on every update</span></span><br><span class="line">  <span class="keyword">const</span> subscription = props.source.subscribe();</span><br><span class="line">  <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// Clean up the subscription</span></span><br><span class="line">    subscription.unsubscribe();</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>clean-up function</code> (e.g. <code>subscription.unsubscribe()</code> )ì€ <strong>ì»´í¬ë„ŒíŠ¸ê°€ ì œê±°ë˜ê¸°(=== ë‹¤ìŒì˜ effect) <em>ì´ì „</em> ì— ì‹¤í–‰ë˜ì–´</strong> memory leaksë¥¼ ë°©ì§€í•œë‹¤.</li>
<li>ì»´í¬ë„ŒíŠ¸ê°€ ì—¬ëŸ¬ë²ˆ ë¦¬ë Œë”ë§ ë  ê²½ìš°, <strong>ì´ì „ì˜ effectëŠ” ë‹¤ìŒì˜ effectê°€ ì‹¤í–‰ë˜ê¸° <em>ì´ì „</em> ì— ì •ë¦¬ëœë‹¤.</strong></li>
</ul>
<br />



<h5 id="Timing-of-Effects"><a href="#Timing-of-Effects" class="headerlink" title="Timing of Effects"></a>Timing of Effects</h5><blockquote>
<p>effect íƒ€ì´ë°</p>
</blockquote>
<br />



<p><code>useEffect</code>ì— ì „ë‹¬ëœ í•¨ìˆ˜ì˜ ê²½ìš° ë ˆì´ì•„ì›ƒ ë°°ì¹˜ê³¼ ê·¸ë¦¬ê¸°ë¥¼ ì™„ë£Œí•œ í›„, ì§€ì—°ëœ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ëŠ” ë™ì•ˆ ì‹¤í–‰ëœë‹¤. ì´ëŠ” ë¸Œë¼ìš°ì €ê°€ í™”ë©´ì„ ì—…ë°ì´íŠ¸í•˜ëŠ” ê³¼ì •ì„ ë°©í•´í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì—, ì—¬ëŸ¬ <em>side effects (e.g. setting up subscriptions and event handlers)</em> ë¥¼ ì‹¤í–‰í•˜ê¸°ì— ì í•©í•œ ë•Œì´ë‹¤.</p>
<p><code>useEffect</code> ëŠ” ë¸Œë¼ìš°ì €ê°€ ê·¸ë ¤ì§€ê¸° ì´ì „ê¹Œì§€ëŠ” ëŒ€ê¸°í•˜ì§€ë§Œ, ìƒˆë¡œìš´ ë Œë”ë§ì´ ë°œìƒí•˜ê¸° ì´ì „ì— ì‹¤í–‰ë˜ëŠ” ê²ƒì„ ë³´ì¥í•œë‹¤. ë¦¬ì•¡íŠ¸ëŠ” ì–¸ì œë‚˜ ìƒˆë¡œìš´ ì—…ë°ì´íŠ¸ê°€ ë°œìƒí•˜ê¸° ì´ì „ì— ì´ì „ì˜ ë Œë”ë§ effectë¥¼ ëª¨ë‘ ì œê±°í•œë‹¤.</p>
<br />



<blockquote>
<p><code>useLayoutEffect</code></p>
<p>DOM ë³€ê²½ê³¼ ê°™ì´ ì‚¬ìš©ìì—ê²Œ effectê°€ ë³´ì—¬ì§€ëŠ” ê²½ìš°, visual inconsistency ë°©ì§€ë¥¼ ìœ„í•´ ë‹¤ìŒ execution (event) ì´ ì‹¤í–‰ë˜ê¸° ì´ì „ì— í˜„ì¬ í™”ë©´ì´ ë Œë”ë§ì´ ë¨ê³¼ ë™ì‹œì— effectê°€ (<em>synchronously</em>) ë°œìƒí•˜ì—¬ì•¼ í•œë‹¤.</p>
</blockquote>
<br />



<h5 id="Conditionally-Firing-an-Effect"><a href="#Conditionally-Firing-an-Effect" class="headerlink" title="Conditionally Firing an Effect"></a>Conditionally Firing an Effect</h5><blockquote>
<p>ì¡°ê±´ë¶€ effect ë°œìƒ</p>
</blockquote>
<br />



<p>Effectì˜ default behaviorì€ ë Œë”ë§ì´ ëª¨ë‘ ì™„ë£Œëœ ì´í›„ ì‹¤í–‰ë˜ëŠ” ê²ƒì´ë‹¤. ì´ëŠ” í•´ë‹¹ effectì˜ dependency ì¤‘ í•˜ë‚˜ê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ìƒˆë¡œ ì‹¤í–‰ë¨ì„ ì˜ë¯¸í•œë‹¤.</p>
<p>ì•ì„  ì˜ˆì œë¥¼ í†µí•´ì„œ ìì„¸íˆ ë³´ë©´,</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">useEffect(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// new subscription is created on every update</span></span><br><span class="line">  <span class="keyword">const</span> subscription = props.source.subscribe();</span><br><span class="line">  <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// Clean up the subscription</span></span><br><span class="line">    subscription.unsubscribe();</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><code>subscription</code> ì€ ë§¤ ì—…ë°ì´íŠ¸ë§ˆë‹¤ ìƒì„±ë  í•„ìš” ì—†ì´, <code>source prop</code> ì´ ë³€í•  ë•Œë§Œ ìƒˆë¡œ ìƒì„±ë˜ë©´ ëœë‹¤.</p>
<p>ì´ì™€ ê°™ì€ í˜„ìƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´, <code> useEffect</code> ì˜ 2ë²ˆì§¸ argumentë¡œ effectê°€ ì˜ì¡´í•˜ëŠ” (<em>depend on, dependency</em>) ë°°ì—´ì„ ì „ë‹¬í•œë‹¤.</p>
<p>ë”°ë¼ì„œ ìœ„ ì˜ˆì œë¥¼ ìˆ˜ì •í•´ë³´ë©´,</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">useEffect(</span><br><span class="line">  <span class="comment">// ì „ë‹¬í•˜ëŠ” í•¨ìˆ˜ëŠ” ë™ì¼í•˜ë˜,</span></span><br><span class="line">  () =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> subscription = props.source.subscribe();</span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      subscription.unsubscribe();</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ë‘ë²ˆì§¸ ì¸ìë¡œ dependency array (depend oní•˜ëŠ” ë°°ì—´) ì„ ì „ë‹¬í•œë‹¤.</span></span><br><span class="line">  [props.source],</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>ì´ë¥¼ í†µí•´ <code>subscription</code>ì€ <code>props.source</code>ê°€ ë³€ê²½ë  ë•Œì—ë§Œ ì¬ìƒì„±ëœë‹¤.</p>
<br />



<p>ë§Œì•½ effectë¥¼ (mount ë˜ëŠ” unmount ì‹œ) í•œ ë²ˆë§Œ ìˆ˜í–‰í•˜ê³  ì‹¶ë‹¤ë©´ ë‘ë²ˆì§¸ ì¸ìë¡œ ë¹ˆ ë°°ì—´ ( <code>[]</code> ) ì„ ì „ë‹¬í•˜ë©´ ëœë‹¤. ì´ë¥¼ í†µí•´ effectëŠ” ì»´í¬ë„ŒíŠ¸ ë²”ìœ„ì—ì„œ ê°€ì ¸ì˜¨ ê°’ë“¤ (e.g. props, state ë“±) ì— ì „í˜€ ì˜ì¡´í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ í•´ë‹¹ ê°’ë“¤ì´ ë³€ê²½ë˜ì–´ë„ ë‹¤ì‹œ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤.</p>
<p>ë¹ˆ ë°°ì—´ ( <code>[]</code> ) ì€ effect ì•ˆì— ìˆëŠ” <code>props</code> ì™€ <code>state</code> ê°€ í•­ìƒ ì´ˆê¸°ê°’ì„ ê°€ì§€ê²Œ ë¨ì„ ì˜ë¯¸í•œë‹¤. ì´ëŠ” <code>componentDidMount</code> ì™€ <code>componentWillUnMount</code> ì˜ ê¸°ëŠ¥ê³¼ ê°™ë‹¤.</p>
<br />



<blockquote>
<p>ë‘ë²ˆì§¸ ì¸ìë¡œ ì „ë‹¬í•˜ëŠ” ë°°ì—´ì€ effectì— ì‚¬ìš©ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ ë²”ìœ„ì˜ ëª¨ë“  ê°’ (e.g. props, state ë“±) ë“¤ì„ í¬í•¨í•´ì•¼ í•œë‹¤. ì´ë¥¼ ìœ„ë°˜í•  ì‹œ ì´ì „ ë Œë”ë§ì—ì„œ ì„¤ì •í•œ ê°’ì„ ì°¸ì¡°í•˜ëŠ” ë²„ê·¸ê°€ ë°œìƒí•œë‹¤.</p>
<p>ì´ë ‡ê²Œ ì „ë‹¬ëœ dependency ë°°ì—´ì€ effect í•¨ìˆ˜ì— ì¸ìë¡œ ì „ë‹¬ë˜ì§€ ì•ŠëŠ”ë‹¤. í•˜ì§€ë§Œ effect í•¨ìˆ˜ ë‚´ì—ì„œ ì°¸ì¡°ëœ ëª¨ë“  ê°’ë“¤ì´ í•´ë‹¹ ë°°ì—´ì— í¬í•¨ë˜ì–´ì•¼ í•˜ë¯€ë¡œ, ì „ë‹¬ ì—¬ë¶€ëŠ” ìœ ì˜ë¯¸í•˜ì§€ ì•Šë‹¤.</p>
</blockquote>
<br />



<h4 id="useContext"><a href="#useContext" class="headerlink" title="useContext"></a>useContext</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> value = useContext(MyContext);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>useContext()</code> : <em>( <code>React.createContext</code> ë¥¼ í†µí•´ ë°˜í™˜ëœ ê°’ì¸ )</em> context ê°ì²´ì— **í˜„ì¬ context ê°’ (<code>MyContext</code>) **ì„ ë°˜í™˜í•œë‹¤.<ul>
<li>ê°€ì¥ ê°€ê¹Œìš´ ìƒìœ„ ì»´í¬ë„ŒíŠ¸ <code>&lt;MyContext.Provider&gt;</code> ê°€ ì—…ë°ì´íŠ¸ ë˜ë©´, <code>useContext</code> ëŠ” í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì— ì „ë‹¬ (í¬í•¨) ëœ <strong>ê°€ì¥ ìµœì‹ </strong>ì˜ context value ì— ë”°ë¼ í™”ë©´ì„ ë¦¬ë Œë”ë§ í•œë‹¤.</li>
</ul>
</li>
<li><code>MyContext</code> : <strong>í˜„ì¬ context ê°’ (ê°ì²´)</strong> ìœ¼ë¡œ, íŠ¸ë¦¬ êµ¬ì¡°ì—ì„œ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì˜ <strong>ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì´ë©´ì„œ ê°€ì¥ ê°€ê¹Œìš´</strong> <code>&lt;MyContext.Provider&gt;</code> ì˜ <code>value prop</code> ì— ë”°ë¼ ê²°ì •ëœë‹¤.<ul>
<li><code>useContext()</code> ì˜ ì¸ìëŠ” <strong>context ê°ì²´</strong>ì—¬ì•¼ í•œë‹¤.<ul>
<li><strong>Correct:</strong> <code>useContext(MyContext)</code></li>
<li><strong>Incorrect:</strong> <code>useContext(MyContext.Consumer)</code></li>
<li><strong>Incorrect:</strong> <code>useContext(MyContext.Provider)</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<br />



<p><code>useContext</code> ë¥¼ ì‚¬ìš©í•œ ì»´í¬ë„ŒíŠ¸ëŠ” context ê°’ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ ë¦¬ë Œë”ë§ëœë‹¤. ë¦¬ë Œë”ë§ ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë¹„ì‹¸ë‹¤ë©´, <code>momoization</code> ì„ ì´ìš©í•´ íš¨ìœ¨ì„±ì„ ë†’ì¼ ìˆ˜ ìˆë‹¤.</p>
<blockquote>
<p>ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ <code>React.memo</code> ë‚˜ <code>shouldComponentUpdate</code> ë¥¼ ì“°ë”ë¼ë„, <code>useContext</code> ë¥¼ ì‚¬ìš©í•œ ì»´í¬ë„ŒíŠ¸ë¶€í„° ë¦¬ë Œë”ë§ì´ ì§„í–‰ (ì‹œì‘) ëœë‹¤.</p>
</blockquote>
<br />



<p><code>useContext</code> ëŠ” contextë¥¼ <strong>ì½ê³  ë³€ê²½ì‚¬í•­ì„ êµ¬ë… (í™•ì¸)</strong> í•˜ëŠ” ê²ƒë§Œ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì—, í•´ë‹¹ contextì˜ ê°’ì„ <strong>ì „ë‹¬</strong>í•˜ê¸° ìœ„í•´ íŠ¸ë¦¬ êµ¬ì¡° ë‚´ ìƒìœ„ ì»´í¬ë„ŒíŠ¸ë¡œì„œ <code>&lt;MyContext.Provider&gt;</code> ê°€ í•„ìš”í•˜ë‹¤.</p>
<br />



<h5 id="Putting-it-together-with-Context-Provider"><a href="#Putting-it-together-with-Context-Provider" class="headerlink" title="Putting it together with Context.Provider"></a>Putting it together with Context.Provider</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> themes = &#123;</span><br><span class="line">  light: &#123;</span><br><span class="line">    foreground: <span class="string">&quot;#000000&quot;</span>,</span><br><span class="line">    background: <span class="string">&quot;#eeeeee&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  dark: &#123;</span><br><span class="line">    foreground: <span class="string">&quot;#ffffff&quot;</span>,</span><br><span class="line">    background: <span class="string">&quot;#222222&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> ThemeContext = React.createContext(themes.light);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;ThemeContext.Provider value=&#123;themes.dark&#125;&gt;</span><br><span class="line">      &lt;Toolbar /&gt;</span><br><span class="line">    &lt;/ThemeContext.Provider&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Toolbar</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;ThemedButton /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ThemedButton</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// useContextì˜ ì¸ìë¡œì„œ ThemeContext ê°ì²´ ì „ë‹¬</span></span><br><span class="line">  <span class="comment">// theme = &lt;ThemeContext.Provider&gt;ì˜ valueì¸ &#123;themes.dark&#125; // ê°ì²´</span></span><br><span class="line">  <span class="keyword">const</span> theme = useContext(ThemeContext);</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;button style=&#123;&#123; <span class="attr">background</span>: theme.background, <span class="attr">color</span>: theme.foreground &#125;&#125;&gt;</span><br><span class="line">      I am styled by theme context!</span><br><span class="line">    &lt;/button&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br />

<br />



<hr>
<h3 id="ì¶”ê°€-Hooks"><a href="#ì¶”ê°€-Hooks" class="headerlink" title="ì¶”ê°€ Hooks"></a>ì¶”ê°€ Hooks</h3><br />



<h4 id="useReducer"><a href="#useReducer" class="headerlink" title="useReducer"></a>useReducer</h4><p><code>useState()</code> ì˜ ëŒ€ì²´ì¬ë¡œì„œ ì‚¬ìš©í•œë‹¤. ì—¬ëŸ¬ í•˜ìœ„ ê°’ì„ í¬í•¨í•˜ê±°ë‚˜ ë‹¤ìŒ stateê°€ ì´ì „ì˜ state ê°’ì— ì˜í–¥ì„ ë°›ëŠ” ë³µì¡í•œ state ë¡œì§ì„ ê°€ì§„ ê²½ìš° ì„ í˜¸ëœë‹¤.</p>
<p>ì»´í¬ë„ŒíŠ¸ì˜ state ì—…ë°ì´íŠ¸ ë¡œì§ì„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë¶„ë¦¬í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ ë°”ê¹¥ì—ì„œ ì‘ì„±í•˜ê±°ë‚˜ ë‹¤ë¥¸ íŒŒì¼ì—ì„œ ì‘ì„±í•œ í›„ ë¶ˆëŸ¬ì™€ì„œ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤.</p>
<p>ë˜í•œ <code>callback</code> ëŒ€ì‹  <code>dispatch</code>ë¥¼ ì „ë‹¬í•œ ìˆ˜ ìˆì–´ <strong>deep update</strong>ë¥¼ ìš”êµ¬í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì˜ ê²½ìš° performanceë¥¼ ìµœì í™”í•  ìˆ˜ ìˆë‹¤.</p>
<blockquote>
<p><em>What is <strong>deep update</strong> in React?</em></p>
<p>ë¨¼ì €, Reactì—ì„œ <strong>update</strong>ë€; <code>useState()</code> ë¥¼ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©ê°€ëŠ¥í•œ í•¨ìˆ˜ë¡œ, ì»´í¬ë„ŒíŠ¸ stateê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œ ë¦¬ì•¡íŠ¸ì—ê²Œ ì´ë¥¼ ì•Œë¦¼ìœ¼ë¡œì¨ í•´ë‹¹ stateì— ì¢…ì†ëœ UIë¥¼ ì—…ë°ì´íŠ¸í•˜ê¸° ìœ„í•´ ì»´í¬ë„ŒíŠ¸ì—ê²Œ ë¦¬ë Œë”ë§ì´ í•„ìš”í•˜ë‹¤ëŠ” ê²ƒì„ ì „ë‹¬í•œë‹¤. </p>
<p>ë”°ë¼ì„œ, <strong>deep update</strong>ë€ <em>deep nested ê°ì²´ (many pieces of informationê³¼ fixed ìŠ¤í‚¤ë§ˆë¥¼ ê°€ì§„) ë¥¼ update</em> í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. </p>
</blockquote>
<br />



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [state, dispatch] = useReducer(reducer, initialArg, init);</span><br></pre></td></tr></table></figure>
<ul>
<li><p><code>useReducer()</code> : <code>reducer</code> ë¥¼ ë°›ì•„ í˜„ì¬ <code>state</code>ì™€ ì§ì§€ì–´ì§„ <code>dispatch</code> í•¨ìˆ˜ë¥¼ ë°˜í™˜í•œë‹¤.</p>
</li>
<li><p><code>reducer</code> : í˜„ì¬ <code>state</code>ì™€ <code>action</code> ê°ì²´ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì•„ì™€ì„œ ( <code>(state, action)</code> ) ìƒˆë¡œìš´ stateë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜</p>
<ul>
<li><p><code>(state, action) =&gt; newState</code> ì˜ êµ¬ì¡°ë¥¼ ê°€ì§„ë‹¤.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reducer</span>(<span class="params">state, action</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ìƒˆë¡œìš´ stateë¥¼ ë§Œë“œëŠ” ë¡œì§</span></span><br><span class="line">  <span class="comment">// const nextState = ...</span></span><br><span class="line">  <span class="keyword">return</span> nextState;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>ë°˜í™˜í•˜ëŠ” í•´ë‹¹ stateëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ì§€ë‹ <strong>ìƒˆë¡œìš´ state</strong>ê°€ ëœë‹¤.</p>
</li>
<li><p><code>action</code> : ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•œ ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆë‹¤.</p>
<ul>
<li><p>ì£¼ë¡œ <code>type</code> ê°’ì„ ì§€ë‹Œ ê°ì²´ í˜•íƒœë¡œ ì‚¬ìš©í•œë‹¤.</p>
<blockquote>
<p><code> type</code> ì˜ ê²½ìš°, <strong>ëŒ€ë¬¸ì</strong> ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ <code>_</code> ë¡œ ì‹œì‘í•˜ëŠ” ê´€ìŠµì´ ìˆë‹¤.</p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
<li><p><code>state</code> : ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìƒíƒœ</p>
</li>
<li><p><code>dispatch</code> : <code>action</code> ì„ (ì¸ìë¡œ ë°›ì•„) ë°œìƒì‹œí‚¤ëŠ” í•¨ìˆ˜</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dispatch(&#123; <span class="attr">type</span>: <span class="string">&#x27;INCREMENT&#x27;</span> &#125;)</span><br></pre></td></tr></table></figure>
<br />



</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initialState = &#123;<span class="attr">count</span>: <span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reducer</span>(<span class="params">state, action</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">switch</span> (action.type) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;increment&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> &#123;<span class="attr">count</span>: state.count + <span class="number">1</span>&#125;;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;decrement&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> &#123;<span class="attr">count</span>: state.count - <span class="number">1</span>&#125;;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Counter</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [state, dispatch] = useReducer(reducer, initialState);</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      Count: &#123;state.count&#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// dispatchì˜ ì¸ìë¡œ action (type) ì „ë‹¬</span></span><br><span class="line">      &lt;button onClick=&#123;<span class="function">() =&gt;</span> dispatch(&#123;<span class="attr">type</span>: <span class="string">&#x27;decrement&#x27;</span>&#125;)&#125;&gt;-&lt;/button&gt;</span><br><span class="line">      &lt;button onClick=&#123;<span class="function">() =&gt;</span> dispatch(&#123;<span class="attr">type</span>: <span class="string">&#x27;increment&#x27;</span>&#125;)&#125;&gt;+&lt;/button&gt;</span><br><span class="line">    &lt;/&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br />



<blockquote>
<p>Note</p>
<p>ë¦¬ì•¡íŠ¸ëŠ” ë¦¬ë Œë”ë§ì´ ë˜ë”ë¼ë„ dispatch í•¨ìˆ˜ì˜ identity ëŠ” ë™ì¼í•˜ê²Œ ìœ ì§€í•˜ê¸° ë•Œë¬¸ì—, useEffect ë‚˜ useCallback ì˜ dependency listì— í¬í•¨í•˜ì§€ ì•ŠëŠ”ë‹¤.</p>
</blockquote>
<br />



<h5 id="Specifying-the-Initial-State"><a href="#Specifying-the-Initial-State" class="headerlink" title="Specifying the Initial State"></a>Specifying the Initial State</h5><blockquote>
<p>ì´ˆê¸° stateì˜ êµ¬ì²´í™”</p>
</blockquote>
<br />



<p>useReducer() ì˜ stateë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ë°©ë²•ì—ëŠ” 2ê°€ì§€ê°€ ìˆë‹¤.</p>
<ol>
<li>ê°€ì¥ ê°„ë‹¨í•œ ë°©ë²•ìœ¼ë¡œëŠ”, initial stateë¥¼ 2ë²ˆì§¸ ì¸ìë¡œ ì „ë‹¬í•˜ëŠ” ë°©ë²•ì´ ìˆë‹¤.</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [state, dispatch] = useReducer(</span><br><span class="line">	reducer,</span><br><span class="line">  &#123;<span class="attr">count</span>: initialCount&#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<br />



<h5 id="Lazy-Initialization"><a href="#Lazy-Initialization" class="headerlink" title="Lazy Initialization"></a>Lazy Initialization</h5><blockquote>
<p> ì´ˆê¸°í™” ì§€ì—°</p>
</blockquote>
<br />



<ol start="2">
<li>initial stateë¥¼ lazily ìƒì„±í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ, init í•¨ìˆ˜ë¥¼ 3ë²ˆì§¸ ì¸ìë¡œ ì „ë‹¬í•˜ì—¬ initial stateë¥¼ init(initialArg) ë¡œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.<ul>
<li>initial state ë¥¼ ê³„ì‚°í•˜ëŠ” ë¡œì§ì„ reducer ë°–ì— ì •ì˜í•˜ì—¬ action ì— ë”°ë¥¸ state ì¬ì„¤ì • ì‹œ ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li>
</ul>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// initialization í•¨ìˆ˜ë¥¼ ì™¸ë¶€ì— ì •ì˜</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params">initialCount</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;<span class="attr">count</span>: initialCount&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reducer</span>(<span class="params">state, action</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">switch</span> (action.type) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;increment&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> &#123;<span class="attr">count</span>: state.count + <span class="number">1</span>&#125;;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;decrement&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> &#123;<span class="attr">count</span>: state.count - <span class="number">1</span>&#125;;</span><br><span class="line">      </span><br><span class="line">    <span class="comment">// ì¬ì„¤ì • ì‹œ init í•¨ìˆ˜ í˜¸ì¶œ</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;reset&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> init(action.payload);</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Counter</span>(<span class="params">&#123;initialCount&#125;</span>) </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 3ê°œì˜ ì¸ì ì „ë‹¬ (reducer, initial_value, initialization_function)</span></span><br><span class="line">  <span class="keyword">const</span> [state, dispatch] = useReducer(reducer, initialCount, init);</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      Count: &#123;state.count&#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// ì¬ì„¤ì • ì‹œ action ê°ì²´ì— &#123;type, payload&#125; ì „ë‹¬</span></span><br><span class="line">      &lt;button</span><br><span class="line">        onClick=&#123;<span class="function">() =&gt;</span> dispatch(&#123;<span class="attr">type</span>: <span class="string">&#x27;reset&#x27;</span>, <span class="attr">payload</span>: initialCount&#125;)&#125;&gt;</span><br><span class="line">        Reset</span><br><span class="line">      &lt;/button&gt;</span><br><span class="line">      &lt;button onClick=&#123;<span class="function">() =&gt;</span> dispatch(&#123;<span class="attr">type</span>: <span class="string">&#x27;decrement&#x27;</span>&#125;)&#125;&gt;-&lt;/button&gt;</span><br><span class="line">      &lt;button onClick=&#123;<span class="function">() =&gt;</span> dispatch(&#123;<span class="attr">type</span>: <span class="string">&#x27;increment&#x27;</span>&#125;)&#125;&gt;+&lt;/button&gt;</span><br><span class="line">    &lt;/&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>payload</code></p>
<p>ì „ì†¡ë˜ëŠ” ë°ì´í„°</p>
</blockquote>
<br />



<h5 id="Bailing-Out-of-a-Dispatch"><a href="#Bailing-Out-of-a-Dispatch" class="headerlink" title="Bailing Out of a Dispatch"></a>Bailing Out of a Dispatch</h5><blockquote>
<p> dispatchì˜ íšŒí”¼</p>
</blockquote>
<br />



<p>ì•ì„œ <code>useState()</code> ì—ì„œ ì„¤ëª…í•œ ê²ƒê³¼ ê°™ì´, Reducer Hook ( <code>useReducer()</code> ) ì´ í˜„ì¬ stateê³¼ ë™ì¼í•œ ê°’ì„ ë°˜í™˜í•  ê²½ìš°, ìì‹ì„ ë Œë”ë§í•˜ê±°ë‚˜ effectë¥¼ ì‹¤í–‰í•˜ì§€ ì•Šê³  ì²˜ë¦¬ (i.e. ë Œë”ë§, ì´ë²¤íŠ¸) ë¥¼ ì¢…ë£Œí•œë‹¤.</p>
<blockquote>
<p><strong><code>Object.is()</code> comparison ì•Œê³ ë¦¬ì¦˜</strong>ì„ ì´ìš©</p>
</blockquote>
<p>ì²˜ë¦¬ë¥¼ ì¢…ë£Œí•˜ê¸° ì „ì— í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë¥¼ ë‹¤ì‹œ ë Œë”ë§í•´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ì¡´ì¬í•˜ì§€ë§Œ, ê·¸ ì´ìƒìœ¼ë¡œ ê¹Šê²Œ íŠ¸ë¦¬ë¥¼ íƒìƒ‰í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë¬¸ì œê°€ ë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. ë§Œì•½ ë Œë”ë§ì— <em>ë¹„ì‹¼ ê³„ì‚° ê³¼ì •</em> ì´ í¬í•¨ëœë‹¤ë©´, <code>useMemo()</code> ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>
<br />



<h4 id="useCallback"><a href="#useCallback" class="headerlink" title="useCallback"></a>useCallback</h4><p>memoized callback ì„ ë°˜í™˜í•œë‹¤.</p>
<br />



<blockquote>
<p><strong><code>memoization</code></strong></p>
<ol>
<li><p>ë¹„ì‹¼ í•¨ìˆ˜ì˜ í˜¸ì¶œ ê²°ê³¼ë¥¼ ì €ì¥í•˜ê³  ê°™ì€ inputì´ ë°œìƒí•  ê²½ìš° ì €ì¥ëœ (ìºì‹œ) ê°’ì„ ë°˜í™˜í•˜ì—¬ í”„ë¡œê·¸ë¨ì˜ ìˆ˜í–‰ ì†ë„ë¥¼ ì¦ê°€ì‹œí‚¤ëŠ” ìµœì í™” (optimization) ê¸°ìˆ </p>
</li>
<li><p>(some sort of) ìºì‹œë¥¼ ì´ìš©í•˜ì—¬ (ë¹„ì‹¼) í•¨ìˆ˜ë¥¼ ë¶€ë¥´ëŠ” íšŸìˆ˜ë¥¼ ì œí•œí•˜ëŠ” ê²ƒ</p>
<ul>
<li>íŠ¹ì • inputì— ëŒ€í•œ ìºì‹œê°’ì´ ì—†ë‹¤ë©´, original í•¨ìˆ˜ê°€ í•œë²ˆ í˜¸ì¶œë˜ì–´ (ìºì‹œ) mapì— ê²°ê³¼ê°’ì´ ì¶”ê°€ëœë‹¤.</li>
<li>ìºì‹œë¥¼ ì§€ìš°ì§€ ì•ŠëŠ” í•œ ê²°ê³¼ëŠ” ìºì‹œ mapì—ì„œ ë°˜í™˜ëœë‹¤.</li>
</ul>
</li>
</ol>
<br />



<p>ğŸ‘‰ <strong><code>useCallback</code> hook ì€ ë‹¤ë¥¸ ê¸°ëŠ¥ì„ í•œë‹¤.</strong></p>
</blockquote>
<p>ğŸŒˆ <strong><a target="_blank" rel="noopener" href="https://coder.earth/post/usecallback">REFERENCE</a>ë¥¼ ê¼­ ì½ì–´ë³´ì„¸ì—¼ (:-&gt;</strong></p>
<p><code>useCallback()</code> ì„ ì´ìš©í•˜ëŠ” ì´ìœ ëŠ”, callback í•¨ìˆ˜ì¸ <code>cb</code>ì˜ <strong>memoized ë²„ì „</strong>ì„ ë°›ê¸° ìœ„í•´ì„œì´ë‹¤.</p>
<p>ì»´í¬ë„ŒíŠ¸ê°€ ì²˜ìŒìœ¼ë¡œ ë Œë”ë§ë  ë•Œ, ìƒˆë¡œìš´ <code>cb</code> ê°€ ìƒì„±ë˜ê³  ë˜‘ê°™ì€ <code>cb</code> í•¨ìˆ˜ê°€ <code>useCallback()</code> ì— ì˜í•´ ë°˜í™˜ëœë‹¤.</p>
<img src="https://coder.earth/static/usecallback_1-aa6572c6cb98757914009ef9063d2204-04c70.png" align="center" />

<br />



<p>ìœ„ ì˜ˆì‹œì—ì„œ <code>memoizedCb()</code> ê°€ í˜¸ì¶œë˜ë©´, original <code>cb</code> ì½œë°±í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ì–´ ê²°ê³¼ì ìœ¼ë¡œ original <code>cb í•¨ìˆ˜</code>ë¥¼ í˜¸ì¶œí•œë‹¤.</p>
<p>ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ (2ë²ˆì§¸) ë˜ë©´, ìƒˆë¡œìš´ <code>cb</code> ê°€ ìƒì„±ëœë‹¤. í•˜ì§€ë§Œ <code>useCallback()</code> ì— ì „ë‹¬ëœ dependencyê°€ ë³€í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì—, ìƒì„±ëœ <code>cb</code>ëŠ” ë²„ë ¤ì§€ê³  <code>memoizedCb</code>ëŠ” ì²«ë²ˆì§¸ ë Œë”ë§ ë•Œ ìƒì„±ëœ <code>cb</code>ë¥¼ ìœ ì§€í•œë‹¤. ê²°êµ­ ì´ ë•Œì˜ <code>memoizedCb</code> í˜¸ì¶œì€ ì´ì „ê³¼ ê°™ì´ ê¸°ì¡´ì˜ (old) <code>cb</code> ë¥¼ í˜¸ì¶œí•˜ì—¬ original <code>cb í•¨ìˆ˜</code>ë¥¼ í˜¸ì¶œí•˜ê²Œ ëœë‹¤.</p>
<p>dependencyê°€ ë³€í•˜ì§€ ì•ŠëŠ” ì´ìƒ, ëª¨ë“  ë Œë”ë§ì€ ìœ„ì™€ ê°™ì€ ê³¼ì •ì„ ë°˜ë³µí•˜ì—¬ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì½œë°±í•¨ìˆ˜ë¥¼ ìƒì„±í•˜ê³  ê¸°ì¡´ì˜, memoized ì½œë°±ì„ í˜¸ì¶œí•˜ì—¬ ê²°êµ­ original <code>cb í•¨ìˆ˜</code>ë¥¼ í˜¸ì¶œí•œë‹¤.</p>
<img src="https://coder.earth/static/usecallback_5-0aacccaf0b04a87b0fa2cf7eab59baaf-04c70.png" align="center" />

<br />



<p>dependency ê°€ ë³€í•œ ê²½ìš°, <code>memoizedCb</code> ë„ ë³€í•œë‹¤.</p>
<p>ì´ì „ì˜ <code>memoizedCb</code> ê°€ ì²«ë²ˆì§¸ <code>cb</code>ë¥¼ í˜¸ì¶œí•˜ëŠ” ê³¼ì •ê³¼ ë¹„ìŠ·í•˜ê²Œ, ì´ ë•Œì˜ <code>memoizedCb</code> ë˜í•œ dependency ê°€ ë³€í•œ ì‹œì ë¶€í„° ì²«ë²ˆì§¸ <code>cb</code> ë¥¼ í˜¸ì¶œí•œë‹¤.</p>
<img src="https://coder.earth/static/usecallback_7-bd85d59569c0dc834c931abc121027b8-04c70.png" align="center" />

<br />



<blockquote>
<p><strong><code>callback</code></strong></p>
<p>íŠ¹ì • í•¨ìˆ˜ (ì½œë°±í•¨ìˆ˜) ë¥¼ ë‹¤ë¥¸ í•¨ìˆ˜ì— ì „ë‹¬í•˜ê³  ì´ë¥¼ í˜¸ì¶œí•˜ëŠ” íŠ¹ì • ì´ë²¤íŠ¸ (e.g. a query finished or an error occurs) ê°€ ë°œìƒí•˜ë©´ ì½œë°±í•¨ìˆ˜ë¥¼ ë°œìƒì‹œí‚¤ëŠ” ê²ƒ</p>
<ul>
<li>ì—¬ëŸ¬ ì¡°ê°ì˜ ì½”ë“œì˜ ì†Œí†µì„ ì •ì˜í•˜ì—¬, ì½œë°±í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ëª¨ë“ˆì´ ê²°ê³¼ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ í˜¸ì¶œì„ ë°›ëŠ” í•¨ìˆ˜ì— ì½œë°±í•¨ìˆ˜ë¥¼ ì „ë‹¬í•œë‹¤.</li>
<li>ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ì ì€, one piece of codeê°€ ì½œë°±í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ë‹¤ë¥¸ (ì¡°ê°ì˜) ì½”ë“œê°€ ì´ í˜¸ì¶œì„ ë°›ëŠ”ë‹¤ëŠ” ê²ƒì´ë‹¤. ì—¬ê¸°ì„œ ì–´ë– í•œ í˜¸ì¶œ ì½”ë“œë„ ìƒìœ¼ë©´ (ìƒëµë˜ë©´) ì•ˆ ë˜ê¸° ë•Œë¬¸ì—, ì½œë°±í•¨ìˆ˜ë¥¼ memoizingí•˜ì—¬ ëª¨ë“ˆ ê°„ ì†Œí†µ lineì„ ëŠëŠ” ë°©ë²•ì´ íƒ„ìƒí•œ ê²ƒì´ë‹¤.</li>
</ul>
</blockquote>
<p>ê²°ê³¼ì ìœ¼ë¡œ <code>useCallback()</code> ì´ í•˜ëŠ” ê²ƒì€ ë˜‘ê°™ì€ callback ì˜ íšŸìˆ˜ë¥¼ ì œí•œí•˜ëŠ” ê²ƒì´ë‹¤. ê²°ê³¼ê°’ë“¤ì€ ìºì‹œì—ì„œ ë°˜í™˜ë˜ì§€ ì•Šê³ , dependency ê°€ ë³€í•œ ì‹œì ìœ¼ë¡œë¶€í„° ì²«ë²ˆì§¸ì˜ <code>cb</code> ì™€ ê°™ì€ <code>memoizedCb</code> ë¥¼ ë°˜í™˜í•œë‹¤.</p>
<br />



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> memoizedCallback = useCallback(</span><br><span class="line">  () =&gt; &#123;</span><br><span class="line">    doSomething(a, b);</span><br><span class="line">  &#125;,</span><br><span class="line">  [a, b],</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>useCallback()</code> : inline callback í•¨ìˆ˜ì™€ dependencies ë°°ì—´ì„ ì „ë‹¬<ul>
<li><strong>memoized version of the callback</strong>ì„ ë°˜í™˜í•˜ë©°, dependenciesê°€ ë³€í–ˆì„ ë•Œë§Œ memoized version ë„ ë³€ê²½ëœë‹¤.</li>
<li><code>useCallback(fn, deps)</code> === <code>useMemo(() =&gt; fn, deps)</code></li>
</ul>
</li>
</ul>
<br />



<p>ë¶ˆí•„ìš”í•œ ë Œë”ë§ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ referenceì˜ ë™ì¼ì„±ì— ì˜ì¡´í•˜ëŠ” (ë™ì¼ì„±ì—ë§Œ ì˜í–¥ì„ ë°›ëŠ”) (ìµœì í™”ëœ) ìì‹ ì»´í¬ë„ŒíŠ¸ì— ì½œë°±í•¨ìˆ˜ë¥¼ ì „ë‹¬í•  ë•Œ ìœ ìš©í•˜ë‹¤.</p>
<blockquote>
<p>ì•ì„  <code>useEffect</code>ì™€ ë§ˆì°¬ê°€ì§€ë¡œ, dependencies ë°°ì—´ì€ ì½œë°±í•¨ìˆ˜ì— ì¸ìë¡œ ì „ë‹¬ë˜ì§€ ì•ŠëŠ”ë‹¤.</p>
<p>í•˜ì§€ë§Œ ì •ì˜ ìì²´ê°€, <em>â€œì½œë°±í•¨ìˆ˜ì—ì„œ ì°¸ì¡°í•˜ëŠ” ëª¨ë“  ê°’ë“¤ì€ dependencies ë°°ì—´ì— í¬í•¨ë˜ì–´ì•¼ í•œë‹¤â€</em> ì´ë‹¤.</p>
</blockquote>
<br />



<h4 id="useMemo"><a href="#useMemo" class="headerlink" title="useMemo"></a>useMemo</h4><p>memoized ê°’ì„ ë°˜í™˜í•œë‹¤.</p>
<blockquote>
<p><code>useMemo</code> vs. <code>useCallback</code></p>
<p><code>useCallback()</code> : í•¨ìˆ˜ ë°˜í™˜</p>
<p><code>useMemo()</code> : ê°’ ë°˜í™˜</p>
</blockquote>
<br />



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> memoizedValue = useMemo(<span class="function">() =&gt;</span> computeExpensiveValue(a, b), [a, b]);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>useMemo()</code> : <code>create í•¨ìˆ˜</code>ì™€ <code>dependencies ë°°ì—´</code> ì„ ì „ë‹¬<ul>
<li>dependency ê°€ ë³€í•  ë•Œì—ë§Œ memoized ê°’ì„ ë‹¤ì‹œ ê³„ì‚°í•œë‹¤. ì´ë¥¼ í†µí•´ ë¹„ì‹¼ ê³„ì‚° ê³¼ì •ì´ ë§¤ ë Œë”ë§ë§ˆë‹¤ ë°œìƒí•˜ëŠ” ê²ƒì„ ë°©ì§€í•œë‹¤.</li>
<li>2ë²ˆì§¸ ì¸ì (<code>dependencies ë°°ì—´</code> ë¡œì„œ) ì— ë¹ˆ ë°°ì—´ ( <code>[]</code> ) ì´ ì „ë‹¬ë˜ë©´, ë§¤ ë Œë”ë§ ë§ˆë‹¤ ìƒˆë¡œìš´ ê°’ì´ ê³„ì‚°ëœë‹¤.</li>
</ul>
</li>
</ul>
<br />



<p><code>useMemo()</code> ì— ì „ë‹¬ëœ <code>create í•¨ìˆ˜</code> ëŠ” <em><strong>ë Œë”ë§ ë™ì•ˆ</strong></em> ì‹¤í–‰ëœë‹¤.</p>
<blockquote>
<p>ë³´í†µ side effectëŠ” <code>useMemo</code> ê°€ ì•„ë‹ˆë¼ <strong><code>useEffect</code> ì—ì„œ ë°œìƒ</strong>í•œë‹¤. ë”°ë¼ì„œ ë Œë”ë§ ë™ì•ˆì€ ë‹¤ë¥¸ í–‰ë™ì„ í•˜ì§€ ì•Šì•„ì•¼ í•œë‹¤. (ë‹¹ì—°í•¨ -.-)</p>
</blockquote>
<br />



<blockquote>
<p>â—ï¸<code>useMemo()</code> ëŠ” ì„±ëŠ¥ ìµœì í™”ì—ë§Œ ì‚¬ìš©í•˜ê³ , í° ì˜ë¯¸ì  ê¸°ëŠ¥ (semantic guarantee) ì„ ë‹´ì§€ ì•Šì•„ì•¼ í•œë‹¤. ë”°ë¼ì„œ <code>useMemo()</code> ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ ë„ ë™ì‘í•  ìˆ˜ ìˆë„ë¡ ì½”ë“œë¥¼ ì‘ì„±í•˜ê³ , ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•´ <code>useMemo()</code> ë¥¼ ì¶”ê°€í•˜ë„ë¡ í•œë‹¤.</p>
</blockquote>
<blockquote>
<p>ì•ì„  <code>useEffect</code>, <code>useCallback</code> ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ, <code>depedencies ë°°ì—´</code> ì€ ì½œë°±í•¨ìˆ˜ì— ì¸ìë¡œ ì „ë‹¬ë˜ì§€ ì•ŠëŠ”ë‹¤.</p>
</blockquote>
<br />



<h4 id="useRef"><a href="#useRef" class="headerlink" title="useRef"></a>useRef</h4><p>JavaScriptë¥¼ ì´ìš©í•´ íŠ¹ì • <strong>DOM ì„ ì„ íƒ</strong>í•´ì•¼ í•˜ëŠ” ê²½ìš° <code>getElementById</code>, <code>querySelector</code> ì™€ ê°™ì€ <em>DOM Selector í•¨ìˆ˜</em> ë¥¼ ì‚¬ìš©í•œë‹¤.</p>
<p>ë¦¬ì•¡íŠ¸ë¥¼ ì‚¬ìš©í•  ë•Œë„ íŠ¹ì • DOM ì„ ì„ íƒí•´ì•¼ í•˜ëŠ” ìƒí™©ì´ ë°œìƒí•˜ëŠ”ë°, ì´ ë•Œ <code>ref</code> ë¥¼ ì‚¬ìš©í•œë‹¤.</p>
<ul>
<li><strong>í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸</strong>ì—ì„œ <code>ref</code> ë¥¼ ì‚¬ìš© í•  ë•Œì—ëŠ” <code>useRef</code> ë¼ëŠ” <em>Hook í•¨ìˆ˜</em> ë¥¼ ì‚¬ìš©í•œë‹¤.</li>
<li><strong>í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸</strong>ì—ì„œëŠ” <em>ì½œë°± í•¨ìˆ˜</em>ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ <code>React.createRef</code> ë¼ëŠ” í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤.</li>
</ul>
<br />



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> refContainer = useRef(initialValue);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>useRef()</code> : <em>(ìƒì„±ëœ ref ê°ì²´ì˜)</em> <code>.current</code> í”„ë¡œí¼í‹° (ì†ì„±) ê°€ ì „ë‹¬ëœ ì¸ì (e.g. <code>initialValue</code>) ë¡œ ì´ˆê¸°í™”ëœ, <strong>ë³€ê²½ ê°€ëŠ¥í•œ ref ê°ì²´</strong>ë¥¼ ë°˜í™˜í•œë‹¤.<ul>
<li>ë³€ê²½ê°€ëŠ¥í•œ ê°’ì„ ë„£ì„ ìˆ˜ ìˆëŠ” <code>.current í”„ë¡œí¼í‹°</code>ë¥¼ ê°–ê³  ìˆëŠ” <u>â€œë°•ìŠ¤â€</u> ì™€ ê°™ë‹¤.</li>
<li>í•´ë‹¹ ê°ì²´ëŠ” ì»´í¬ë„ŒíŠ¸ì˜ <em>full lifetime</em> ë™ì•ˆ ì§€ì†ëœë‹¤.</li>
</ul>
</li>
</ul>
<br />



<p><code>useRef()</code> ëŠ” <strong>DOMì— ì ‘ê·¼</strong>í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ë§ì´ ì‚¬ìš©ëœë‹¤.</p>
<p><code>useRef()</code> ë¥¼ ì‚¬ìš©í•˜ì—¬</p>
<ol>
<li><strong>Ref ê°ì²´</strong>ë¥¼ ë§Œë“¤ê³ ,</li>
<li>ì´ ê°ì²´ë¥¼ ìš°ë¦¬ê°€ <strong>ì„ íƒí•˜ê³  ì‹¶ì€ DOM (ë…¸ë“œ) ì— <code>ref</code> ê°’ìœ¼ë¡œ</strong> ì„¤ì •í•œë‹¤.</li>
<li>ê·¸ëŸ¬ë©´, <strong>Ref ê°ì²´ì˜ <code>.current</code> ê°’ì€ ìš°ë¦¬ê°€ ì›í•˜ëŠ” DOM ì„ ê°€ë¥´í‚¤</strong>ê²Œ ëœë‹¤.</li>
</ol>
<br />



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div ref=&#123;refContainer&#125; /&gt;</span><br></pre></td></tr></table></figure>
<p><code>refContainer</code> ì˜ <code>.current</code> í”„ë¡œí¼í‹°ë¥¼ í•´ë‹¹ ref ê°ì²´  ( <code>refContainer</code> ) ë¥¼ ref ë¡œ ì„¤ì •í•œ DOM ë…¸ë“œë¡œ ì„¤ì •í•˜ê³ , ë…¸ë“œê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ê·¸ì— ë§ê²Œ <code>.current</code> í”„ë¡œí¼í‹°ë¥¼ ì¡°ì •í•œë‹¤.</p>
<blockquote>
<p>í•˜ì§€ë§Œ <code>useRef()</code> ëŠ” <code>.current</code> ì— ë³€ê²½ ì‚¬í•­ì´ ì¡´ì¬í•˜ë”ë¼ë„ <strong>ë¦¬ë Œë”ë§ í•˜ì§€ ì•Š</strong>ê¸° ë•Œë¬¸ì—, ì´ì— ëŒ€í•´ <strong>notify í•˜ì§€ ì•ŠëŠ”ë‹¤</strong>. ë§Œì•½ ë¦¬ì•¡íŠ¸ê°€ DOM ë…¸ë“œì— ref ê°ì²´ë¥¼ ì—°ê²°í•˜ê±°ë‚˜ ì œê±°í•  ë•Œ notify í•˜ê³  ì‹¶ë‹¤ë©´, <code>callback ref</code> ë¥¼ ì´ìš©í•´ì•¼ í•œë‹¤.</p>
</blockquote>
<br />



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">TextInput_With_FocusButton</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// inputEl : ref ê°ì²´ (nullë¡œ ì´ˆê¸°í™”ë¨)</span></span><br><span class="line">  <span class="keyword">const</span> inputEl = useRef(<span class="literal">null</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// buttonì„ í´ë¦­í•˜ë©´ inputEl.current ì¸ input nodeì— focus() ë¥¼ ì ìš©í•œë‹¤.</span></span><br><span class="line">  <span class="keyword">const</span> onButtonClick = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// `current` points to the mounted text input element</span></span><br><span class="line">    inputEl.current.focus();</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">    	<span class="comment">// inputEl ref ê°ì²´ë¥¼ refë¡œ ì„¤ì •í•˜ì—¬ inputEl.current í”„ë¡œí¼í‹°ë¥¼ input node ë¡œ ì„¤ì •í•œë‹¤.</span></span><br><span class="line">      &lt;input ref=&#123;inputEl&#125; type=<span class="string">&quot;text&quot;</span> /&gt;</span><br><span class="line">    </span><br><span class="line">    	<span class="comment">// onClick ì‹œ onButtonClick í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê³  // ğŸ‘‰ goto onButtonClick comment</span></span><br><span class="line">      &lt;button onClick=&#123;onButtonClick&#125;&gt;Focus the input&lt;/button&gt;</span><br><span class="line">    &lt;/&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong><code>HTMLElement.focus()</code></strong></p>
<p>íŠ¹ì • element ì— <em>(focusë¥¼ ë§ì¶œ ìˆ˜ ìˆì„ ë•Œ)</em> focusë¥¼ ë§ì¶”ëŠ” í•¨ìˆ˜ë¡œ, í•´ë‹¹ elementëŠ” í‚¤ë³´ë“œ ë“±ì˜ ì´ë²¤íŠ¸ë¥¼ ë°›ëŠ” default elementë¡œ ì •ì˜ëœë‹¤.</p>
</blockquote>
<br />



<hr>
<br />



<p><code>useRef()</code> ëŠ” ref ì†ì„± ì™¸ì—ë„, í´ë˜ìŠ¤ê°€ instance field (ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜) ë¥¼ ê°€ì§€ê³  ìˆëŠ” ê²ƒì²˜ëŸ¼ ref ê°ì²´ì— ë³€ê²½ ê°€ëŠ¥í•œ ì–´ë– í•œ ê°’ë„ ë‹´ì„ ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤.</p>
<p>ì´ëŠ” <code>useRef()</code> ê°€ <em>plain JavaScript ê°ì²´</em> ë¥¼ ìƒì„±í•˜ê¸° ë•Œë¬¸ì¸ë°, ì§ì ‘ <code>&#123;current: ...&#125;</code> ë¡œ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒê³¼ ìœ ì¼í•œ ì°¨ì´ì ì€ <code>useRef()</code> ëŠ” ë§¤ ë Œë”ë§ë§ˆë‹¤ <strong>ë˜‘ê°™ì€ ref ê°ì²´ë¥¼ ì œê³µ (ë°˜í™˜) í•œë‹¤</strong>ëŠ” ê²ƒì´ë‹¤.</p>
<blockquote>
<p><strong><code>class field (í´ë˜ìŠ¤ ë³€ìˆ˜)</code> vs. <code>instance field (ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜)</code></strong></p>
<ul>
<li>í´ë˜ìŠ¤ ë³€ìˆ˜ : ì—¬ëŸ¬ ì¸ìŠ¤í„´ìŠ¤ (ì„œë¡œ ë‹¤ë¥¸ ê°ì²´) ê°„ì— <strong>ê³µìœ í•´ì•¼ í•˜ëŠ” ê°’</strong>ì„ ë°”ì¸ë”©</li>
<li>ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ : ê° ì¸ìŠ¤í„´ìŠ¤ (ê°ì²´) ë§ˆë‹¤ ê°€ì§€ê³  ìˆëŠ” ê³ ìœ í•œ ê°’</li>
</ul>
<p>íŒŒì´ì¬ì€ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í†µí•´ ì ‘ê·¼í•œ ì´ë¦„ (ë³€ìˆ˜) ì´ ì¸ìŠ¤í„´ìŠ¤ì˜ name_space (nameë“¤ì„ ì •ì˜í•œ ê³µê°„) ì— ì—†ì„ ê²½ìš°, ê·¸ ë‹¤ìŒìœ¼ë¡œ í´ë˜ìŠ¤ì˜ name_spaceì—ì„œ ì°¾ì•„ë³¸ë‹¤.</p>
<p>ì°¸ê³ ë¡œ í´ë˜ìŠ¤ ë³€ìˆ˜ì— ì ‘ê·¼í•  ë•Œì—ëŠ” í´ë˜ìŠ¤ ì´ë¦„ì„ ì‚¬ìš©í•˜ì—¬ ë°”ë¡œ ë³€ìˆ˜ (ê°’) ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.</p>
</blockquote>
<br />



<h4 id="useImperativeHandle"><a href="#useImperativeHandle" class="headerlink" title="useImperativeHandle"></a>useImperativeHandle</h4><blockquote>
<p>â—ï¸refë¥¼ ì‚¬ìš©í•˜ëŠ” <em>imperative code</em> ëŠ” ë˜ë„ë¡ì´ë©´ í”¼í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. <strong>):-&lt;</strong></p>
</blockquote>
<p>refë¥¼ ì‚¬ìš©í•  ë•Œ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì— ë…¸ì¶œë˜ëŠ” <em>ì¸ìŠ¤í„´ìŠ¤ ê°’ (ë³€ìˆ˜) ì„ ì»¤ìŠ¤í„°ë§ˆì´ì§•</em> í•œë‹¤.</p>
<p>ì¦‰, forwardingëœ refë¥¼ replaceí•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.</p>
<br />



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useImperativeHandle(ref, createHandle, [deps])</span><br></pre></td></tr></table></figure>
<ul>
<li><p>useImperativeHandle() : <code>ref</code>, <code>ì½œë°±í•¨ìˆ˜ (createHandle)</code>, <code>dependnecies ë°°ì—´</code> ì„ ì „ë‹¬</p>
<ul>
<li><code>createHandle()</code> : í˜„ì¬ ì»´í¬ë„ŒíŠ¸ì˜ ê°’ì„ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ê°€ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ì½œë°±í•¨ìˆ˜</li>
</ul>
</li>
<li><p><code>forwardRef()</code> ì™€ í•¨ê»˜ ì‚¬ìš©ë˜ì–´ì•¼ í•œë‹¤.</p>
<blockquote>
<p><code>forwardRef()</code> </p>
<p>(ë§ ê·¸ëŒ€ë¡œ) referenceë¥¼ ì „ë‹¬í•´ì£¼ëŠ” ê¸°ëŠ¥ì„ í•˜ëŠ” í•¨ìˆ˜</p>
</blockquote>
</li>
</ul>
<br />



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FancyInput</span>(<span class="params">props, ref</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> inputRef = useRef();</span><br><span class="line">  useImperativeHandle(ref, <span class="function">() =&gt;</span> (&#123;</span><br><span class="line">    focus: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      inputRef.current.focus();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;));</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">ref</span>=<span class="string">&#123;inputRef&#125;</span> <span class="attr">...</span> /&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line">FancyInput = forwardRef(FancyInput);</span><br></pre></td></tr></table></figure>
<p><code>&lt;FancyInput ref=&#123;inputRef&#125; /&gt;</code> ë¥¼ ìˆ˜í–‰ (ë Œë”ë§) í•˜ëŠ” ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ëŠ” <code>inputRef.current.focus()</code> ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.</p>
<br />



<h4 id="useLayoutEffect"><a href="#useLayoutEffect" class="headerlink" title="useLayoutEffect"></a>useLayoutEffect</h4><p><code>useEffect</code> ì™€ ë™ì¼í•œ ê¸°ëŠ¥ì„ DOM ë³€ê²½ ì‹œ ë™ì‹œì— (synchronously) ì‹¤í–‰í•˜ëŠ” í•¨ìˆ˜ë¡œ, DOM ì—ì„œ ë ˆì´ì•„ì›ƒì„ ì½ìŒê³¼ ë™ì‹œì— ë¦¬ë Œë”ë§ì„ í•´ì•¼í•  ë•Œ ì‚¬ìš©í•œë‹¤.</p>
<p><code>useLayoutEffect</code> ë‚´ë¶€ì— ì •ì˜ëœ ì˜ˆì •ëœ ì—…ë°ì´íŠ¸ ë˜í•œ ë¸Œë¼ìš°ì €ê°€ ë ˆì´ì•„ì›ƒì„ ê·¸ë¦¬ê¸° ì´ì „ì—, ì½ìŒê³¼ ë™ì‹œì— ë°œìƒí•œë‹¤.</p>
<blockquote>
<p>í™”ë©´ ì—…ë°ì´íŠ¸ë¥¼ ì°¨ë‹¨í•˜ì§€ ì•Šì•„ë„ ë˜ëŠ” ê²½ìš°ì—ëŠ” <code>useEffect</code> ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.</p>
</blockquote>
<br />



<blockquote>
<p> í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì½”ë“œë¥¼ ì˜®ê¸¸ ë•Œ <code>useLayoutEffect()</code> ëŠ” <code>componentDidMount</code> ë‚˜ <code>componentDidUpdate</code> ì™€ ê°™ì€ ë‹¨ê³„ì—ì„œ ë°œìƒí•œë‹¤. í•˜ì§€ë§Œ, ë¨¼ì € <code>useEffect</code> ë¥¼ ì‹œë„í•´ë³´ê³  ì—ëŸ¬ê°€ ë°œìƒí•  ë•Œ <code>useLayoutEffect</code> ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.</p>
</blockquote>
<blockquote>
<p><strong>SSR (ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§)</strong> ì˜ ê²½ìš°, <code>useLayoutEffect</code> ë‚˜ <code>useEffect</code> ëŠ” JavaScript ê°€ ëª¨ë‘ ë‹¤ìš´ë˜ê¸° ì „ê¹Œì§€ëŠ” ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤. SSR ì»´í¬ë„ŒíŠ¸ê°€ <code>useLayoutEffect</code> ë¥¼ í¬í•¨í•œ ê²½ìš°,</p>
<ul>
<li>ì²« ë Œë”ë§ ì‹œ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ê°€ í•„ìš”í•˜ì§€ ì•Šë‹¤ë©´ <code>useEffect</code> ë¡œ ë¡œì§ì„ ì˜®ê¸°ê³ ,</li>
<li><code>useLayoutEffect</code> ê°€ ì‹¤í–‰ë˜ê¸° ì „ê¹Œì§€ HTMLì´ ë§ê°€ì ¸ ë³´ì¸ë‹¤ë©´ í´ë¼ì´ì–¸íŠ¸ ë Œë”ë§ì´ ì™„ë£Œë  ë•Œê¹Œì§€ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë¥¼ ë³´ì—¬ì£¼ëŠ” ê²ƒì„ ë”œë ˆì´ì‹œí‚¨ë‹¤.</li>
</ul>
<p>ì„œë²„ ë Œë”ë§ HTMLì—ì„œ ë ˆì´ì•„ì›ƒ effectë¥¼ í•„ìš”ë¡œ í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ì œì™¸í•˜ê¸° ìœ„í•´ì„œ, </p>
<ul>
<li><code>showCild &amp;&amp; &lt;Child /&gt;</code> ë¥¼ ì´ìš©í•˜ì—¬ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë¥¼ ì¡°ê±´ì ìœ¼ë¡œ ë Œë”ë§ì„ í•˜ê³ , </li>
<li><code>useEffect(() =&gt; &#123; setShowChild(true); &#125;, [])</code> ë¥¼ ì´ìš©í•˜ì—¬ ë³´ì´ëŠ” ê²ƒì„ ë¯¸ë£¬ë‹¤ (defer).</li>
</ul>
<p>ì´ë¥¼ í†µí•´ HTMLì´ hydration (<code>useLayoutEffect</code>, <code>useEffect</code> ì‹¤í–‰) ì´ì „ì— ë§ê°€ì ¸ ë³´ì´ëŠ” ê²ƒì„ ë°©ì§€í•œë‹¤.</p>
</blockquote>
<br />



<h4 id="useDebugValue"><a href="#useDebugValue" class="headerlink" title="useDebugValue"></a>useDebugValue</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useDebugValue(value)</span><br></pre></td></tr></table></figure>
<p>React DevTools ì—ì„œ ì»¤ìŠ¤í…€ Hooksì˜ <code>label (value)</code> ì„ ë³´ì—¬ì¤€ë‹¤.</p>
<br />



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useFriendStatus</span>(<span class="params">friendID</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [isOnline, setIsOnline] = useState(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// Show a label in DevTools next to this Hook</span></span><br><span class="line">  <span class="comment">// e.g. &quot;FriendStatus: Online&quot;</span></span><br><span class="line">  useDebugValue(isOnline ? <span class="string">&#x27;Online&#x27;</span> : <span class="string">&#x27;Offline&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> isOnline;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br />



<blockquote>
<p>ëª¨ë“  ì»¤ìŠ¤í…€ Hookì— debug valueë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì€ ì¢‹ì§€ ì•Šë‹¤.</p>
<p><strong>shared librariesì— ì†í•˜ëŠ” ì»¤ìŠ¤í…€ Hooks</strong>ì— ìœ ìš©í•˜ê²Œ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.</p>
</blockquote>
<br />



<h5 id="Defer-Formatting-Debug-Values"><a href="#Defer-Formatting-Debug-Values" class="headerlink" title="Defer Formatting Debug Values"></a>Defer Formatting Debug Values</h5><blockquote>
<p> ë””ë²„ê·¸ ê°’ í¬ë§·íŒ… ì§€ì—°í•˜ê¸°</p>
</blockquote>
<br />



<p>ë””ìŠ¤í”Œë ˆì´ (ë˜ëŠ”) ê°’ì„ í¬ë§¤íŒ…í•˜ëŠ” ê²ƒì€ ê³ ë¹„ìš© ì—°ì‚°ì¼ ìˆ˜ ìˆê³ , <em>Hookì´ ê°ì§€ë˜ì§€ ì•Šì€ ê²½ìš° ì‚¬ì‹¤ìƒ í¬ë§¤íŒ…ì€ ë¶ˆí•„ìš”í•˜ë‹¤</em>. ë”°ë¼ì„œ, <code>useDebugValue</code> ì˜ (optionalí•œ) 2ë²ˆì§¸ ì¸ìë¡œ <code>í¬ë§¤íŒ… í•¨ìˆ˜</code> ë¥¼ ì „ë‹¬í•˜ì—¬ <strong>Hookì´ ê°ì§€ë˜ì—ˆì„ ë•Œë§Œ í•´ë‹¹ í•¨ìˆ˜ë¥¼ í˜¸ì¶œ</strong>í•˜ì—¬ í¬ë§¤íŒ…í•  ìˆ˜ ìˆë‹¤.</p>
<br />



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useDebugValue(value, <span class="function"><span class="params">value</span> =&gt;</span> value.formatting_function());</span><br></pre></td></tr></table></figure>
<ul>
<li><code>useDebugValue()</code> : <code>value</code> ì™€ <code>optional formatting í•¨ìˆ˜</code> ë¥¼ ì „ë‹¬<ul>
<li><code>optional formatting function</code> : <code>debug value</code> ë¥¼ ì¸ìë¡œ ì „ë‹¬í•˜ê³  <code>formatted display value</code> ë¥¼ ë°˜í™˜í•œë‹¤.</li>
</ul>
</li>
</ul>
<br />



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useDebugValue(date, <span class="function"><span class="params">date</span> =&gt;</span> date.toDateString());</span><br></pre></td></tr></table></figure>
<p>2ë²ˆì§¸ ì¸ìë¡œ <code>fomatting function</code> ì„ ì „ë‹¬í•˜ì—¬ Date value ë¥¼ ë°˜í™˜í•˜ëŠ” ì»¤ìŠ¤í…€ Hookì´ <code>toDateString()</code> ì„ <strong>ë¶ˆí•„ìš”í•˜ê²Œ í˜¸ì¶œí•˜ëŠ” ê²ƒì„ ë°©ì§€</strong>í•œë‹¤.</p>
<br />



<hr>
<br />



<h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h3><p><a target="_blank" rel="noopener" href="https://ko.reactjs.org/docs/hooks-reference.html">https://ko.reactjs.org/docs/hooks-reference.html</a></p>
<p><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-reference.html">https://reactjs.org/docs/hooks-reference.html</a></p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/sopt/" rel="tag"># SOPT</a>
              <a href="/tags/web/" rel="tag"># WEB</a>
              <a href="/tags/reactjs/" rel="tag"># ReactJS</a>
              <a href="/tags/hooks/" rel="tag"># Hooks</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/04/24/3%EC%B0%A8-%EC%84%B8%EB%AF%B8%EB%82%98-24-04-21/" rel="prev" title="3ì°¨ ì„¸ë¯¸ë‚˜_24/04/21">
      <i class="fa fa-chevron-left"></i> 3ì°¨ ì„¸ë¯¸ë‚˜_24/04/21
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/05/08/SOAP-Classes/" rel="next" title="Classes">
      Classes <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Hooks"><span class="nav-number">1.</span> <span class="nav-text">Hooks</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EA%B8%B0%EB%B3%B8-Hook"><span class="nav-number">1.1.</span> <span class="nav-text">ê¸°ë³¸ Hook</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#useState"><span class="nav-number">1.1.1.</span> <span class="nav-text">useState</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Functional-Updates"><span class="nav-number">1.1.1.1.</span> <span class="nav-text">Functional Updates</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Lazy-Initial-State"><span class="nav-number">1.1.1.2.</span> <span class="nav-text">Lazy Initial State</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Bailing-Out-of-a-State-Update"><span class="nav-number">1.1.1.3.</span> <span class="nav-text">Bailing Out of a State Update</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#useEffect"><span class="nav-number">1.1.2.</span> <span class="nav-text">useEffect</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Cleaning-Up-an-Effect"><span class="nav-number">1.1.2.1.</span> <span class="nav-text">Cleaning Up an Effect</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Timing-of-Effects"><span class="nav-number">1.1.2.2.</span> <span class="nav-text">Timing of Effects</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Conditionally-Firing-an-Effect"><span class="nav-number">1.1.2.3.</span> <span class="nav-text">Conditionally Firing an Effect</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#useContext"><span class="nav-number">1.1.3.</span> <span class="nav-text">useContext</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Putting-it-together-with-Context-Provider"><span class="nav-number">1.1.3.1.</span> <span class="nav-text">Putting it together with Context.Provider</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EC%B6%94%EA%B0%80-Hooks"><span class="nav-number">1.2.</span> <span class="nav-text">ì¶”ê°€ Hooks</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#useReducer"><span class="nav-number">1.2.1.</span> <span class="nav-text">useReducer</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Specifying-the-Initial-State"><span class="nav-number">1.2.1.1.</span> <span class="nav-text">Specifying the Initial State</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Lazy-Initialization"><span class="nav-number">1.2.1.2.</span> <span class="nav-text">Lazy Initialization</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Bailing-Out-of-a-Dispatch"><span class="nav-number">1.2.1.3.</span> <span class="nav-text">Bailing Out of a Dispatch</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#useCallback"><span class="nav-number">1.2.2.</span> <span class="nav-text">useCallback</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#useMemo"><span class="nav-number">1.2.3.</span> <span class="nav-text">useMemo</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#useRef"><span class="nav-number">1.2.4.</span> <span class="nav-text">useRef</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#useImperativeHandle"><span class="nav-number">1.2.5.</span> <span class="nav-text">useImperativeHandle</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#useLayoutEffect"><span class="nav-number">1.2.6.</span> <span class="nav-text">useLayoutEffect</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#useDebugValue"><span class="nav-number">1.2.7.</span> <span class="nav-text">useDebugValue</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Defer-Formatting-Debug-Values"><span class="nav-number">1.2.7.1.</span> <span class="nav-text">Defer Formatting Debug Values</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Reference"><span class="nav-number">1.3.</span> <span class="nav-text">Reference</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="JungHyun"
      src="/images/profile.jpeg">
  <p class="site-author-name" itemprop="name">JungHyun</p>
  <div class="site-description" itemprop="description">Continuously Growing Developer</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">98</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">21</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">64</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/leahincom" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;leahincom" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:leahincom@gmail.com" title="E-Mail â†’ mailto:leahincom@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2020 â€“ 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">JungHyun</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>


        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
