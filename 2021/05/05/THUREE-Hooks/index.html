
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="leah">
    <title>Hooks - leah</title>
    <meta name="author" content="JungHyun">
    
        <meta name="keywords" content="hexo,javascript,">
    
    
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"JungHyun","sameAs":["https://github.com/leahincom","https://facebook.com/junghyun.lah/","https://www.linkedin.com/profile","mailto:leahincom@gmail.com"],"image":"profile.jpeg"},"articleBody":"Hooks\n\n\n\nê¸°ë³¸ Hook\n\n\n\nuseState1const [state, setState] = useState(initialState);\n\nuseState() : state ì™€ setState ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜\n\ninitialState : ì´ˆê¸°ê°’\në³´í†µ null ì´ë‚˜ &quot;&quot; ë“±ì˜ default valueë¡œ ì„¤ì •í•œë‹¤.\n\n\n\n\nstate : ìƒíƒœ ìœ ì§€ (ì €ì¥) ê°’\n\nìµœì´ˆ ë Œë”ë§ ì‹œ ë°˜í™˜ëœ state ëŠ” initialValue ì´ë‹¤.\n\n\nsetState : state ê°’ì„ ê°±ì‹ í•˜ëŠ” í•¨ìˆ˜\n1setState(newState);\n\nìƒˆ state ê°’ì„ ë°›ìœ¼ë©´ ì»´í¬ë„ŒíŠ¸ ë¦¬ë Œë”ë§ì„ íì— ë“±ë¡í•œë‹¤.\në¦¬ë Œë”ë§ ì‹œ useState ê°€ ë°˜í™˜í•˜ëŠ” ì²«ë²ˆì§¸ ê°’ (ì¸ì) ì€ ê°±ì‹ ëœ ìµœì‹  state ì´ë‹¤.\n\n\n\n\n\n\n\n\nNote\nReact guarantees that setState function identity is stable and wonâ€™t change on re-renders. This is why itâ€™s safe to omit from the useEffect or useCallback dependency list.\n\n\n\nFunctional Updates\n í•¨ìˆ˜ì  ê°±ì‹ \n\n\n\n\n\n\nsetState ê°€ ê°’ì„ ê°±ì‹ í•˜ëŠ” ê³¼ì •ì„ ì§ì ‘ ì½”ë“œë¡œ ì‘ì„±í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.\n12345const [state, setState] = useState(&#123;&#125;);setState(prevState =&gt; &#123;  // Object.assign would also work  return &#123;...prevState, ...updatedValues&#125;;&#125;);\n\nê°±ì‹ ëœ ê°ì²´ë¥¼ ìë™ìœ¼ë¡œ mergeí•˜ëŠ”  useState ì™€ ë°˜ëŒ€ë¡œ, setState ëŠ” initialValue ë¥¼ ìœ ì§€í•œë‹¤.\n\nì´ì „ state ë¥¼ ì´ìš©í•´ì„œ ê°’ì„ ê°±ì‹ í•˜ëŠ” ê²½ìš°, ì´ì „ ê°’ì„ ë°›ì•„ ê°±ì‹ ëœ ê°’ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ setState ë¡œ ì „ë‹¬í•˜ë©´ ëœë‹¤.\n1234567891011121314151617function Counter (&#123; initialCount &#125;) &#123;  const [count, setCount] = useState(initialCount);  return (    &lt;&gt;      Count: &#123;count&#125;\t\t\t// ì´ˆê¸°í™”      &lt;button onClick=&#123;() =&gt; setCount(initialCount)&#125;&gt;Reset&lt;/button&gt;\t\t\t// ì´ì „ ê°’ì„ ì´ìš©í•´ì„œ ê°’ì„ ê°±ì‹ í•˜ëŠ” ê²½ìš°\t\t\t// parameter value : í˜„ì¬ ê°’\t\t\t// return value : ê°±ì‹ í•  ê°’      &lt;button onClick=&#123;() =&gt; setCount(prevCount =&gt; prevCount - 1)&#125;&gt;-&lt;/button&gt;      &lt;button onClick=&#123;() =&gt; setCount(prevCount =&gt; prevCount + 1)&#125;&gt;+&lt;/button&gt;    &lt;/&gt;  );&#125;\n\n\n\n\n\n\n\nNote\nAnother option is useReducer, which is more suited for managing state objects that contain multiple sub-values.\n\n\n\n\n\n\nì—…ë°ì´íŠ¸ í•¨ìˆ˜ (setStateì— ì „ë‹¬í•œ í•¨ìˆ˜) ê°€ í˜„ì¬ ìƒíƒœì™€ ì •í™•íˆ ë™ì¼í•œ ê°’ì„ ë°˜í™˜í•œë‹¤ë©´ ë°”ë¡œ ë’¤ì— ì¼ì–´ë‚  ë¦¬ë Œë”ë§ì€ ì™„ì „íˆ ê±´ë„ˆë›°ê²Œ ëœë‹¤.\n\n\n\n\n\n\nReactì—ì„œ &#123;&#125; ë¥¼ ì“°ëŠ” ê²½ìš°\n\nJSX ë‚´ë¶€ì—ì„œëŠ” ê°ì²´ë¥¼ ë°›ì•„ì˜´\n&#123;&#123;&#125;&#125; : ê°ì²´ë¥¼ ë°›ì•„ì˜¤ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ JSX ë‚´ë¶€ì—ì„œ ìƒì„±í•  ë•Œ\n\n\nJSX ì™¸ë¶€ì—ì„œëŠ” ì¼ë°˜ JSì˜ ë¬¸ë²• ì¤‘ function destructurizingì„ ì‹¤í–‰\n\n\n\n\n\n\nLazy Initial State\n ì§€ì—° ì´ˆê¸° state\n\n\n\n\n\ninitialState ì¸ìëŠ” ì´ˆê¸° ë Œë”ë§ ì‹œì— ì‚¬ìš©í•˜ëŠ” state (ê°’) ìœ¼ë¡œ, ë¦¬ë Œë”ë§ ì‹œ ì´ ê°’ì€ ë¬´ì‹œëœë‹¤.\në§Œì•½ ì´ˆê¸° stateê°€ ê³ ë¹„ìš© ê³„ì‚°ì˜ ê²°ê³¼ë¼ë©´, ì´ˆê¸° ë Œë”ë§ ì‹œì—ë§Œ ì‹¤í–‰ë  í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ì—¬ ì „ë‹¬í•˜ëŠ” ê²ƒì´ íš¨ìœ¨ì ì´ë‹¤.\n1234const [state, setState] = useState(() =&gt; &#123;  const initialState = someExpensiveComputation(props);  return initialState;&#125;);\n\n\n\n\nBailing Out of a State Update\nstate ê°±ì‹ ì˜ ì·¨ì†Œ\n\n\n\n\n\nì•ì„œ ì„¤ëª…í•œ â€œì—…ë°ì´íŠ¸ í•¨ìˆ˜ (setStateì— ì „ë‹¬í•œ í•¨ìˆ˜) ê°€ í˜„ì¬ ìƒíƒœì™€ ì •í™•íˆ ë™ì¼í•œ ê°’ì„ ë°˜í™˜í•œë‹¤ë©´ ë°”ë¡œ ë’¤ì— ì¼ì–´ë‚  ë¦¬ë Œë”ë§ì€ ì™„ì „íˆ ê±´ë„ˆë›°ê²Œ ëœë‹¤.â€ ë¥¼ ì¶”ê°€ì ìœ¼ë¡œ ì„¤ëª…í•˜ìë©´,\nState Hookì„ í˜„ì¬ stateì™€ ë™ì¼í•œ ê°’ìœ¼ë¡œ ê°±ì‹  (update) í•  ê²½ìš°, ë¦¬ì•¡íŠ¸ëŠ” children or firing effectsë¥¼ ë Œë”ë§í•˜ëŠ” ê³¼ì •ì„ ê±´ë„ˆë›°ê³  ì‹¤í–‰ (ì²˜ë¦¬) ì„ ì¢…ë£Œí•œë‹¤.\n\n\n\n\n\nNote\nReact may still need to render that specific component again before bailing out. That shouldnâ€™t be a concern because React wonâ€™t unnecessarily go â€œdeeperâ€ into the tree. If youâ€™re doing expensive calculations while rendering, you can optimize them with useMemo.\n\n\n\n\n\nuseEffectí•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ ë‚´ì—ì„œëŠ” Reactâ€™s render phaseì— ë”°ë¼ Mutations, subscriptions, timers, logging, and other side effects ê°€ í—ˆìš©ë˜ì§€ ì•ŠëŠ”ë‹¤.\nì´ë¥¼ ìœ„í•´ useEffect ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\n1useEffect(didUpdate);\n\nuseEffect() : ëª¨ë“  ë Œë”ë§ì´ ì™„ë£Œëœ í›„ / ì–´ë–¤ ê°’ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œì—ë§Œ ë™ì‘ ( didUpdate ) ì„ ìˆ˜í–‰\ndidUpdate : íŠ¹ì • effectë¥¼ ë°œìƒì‹œí‚¤ëŠ” (ëª…ë ¹í˜•) í•¨ìˆ˜\n\n\n\n\n\nCleaning Up an Effect\neffect ì •ë¦¬\n\n\n\n\n\nEffectëŠ” ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì—ì„œ ì œê±°ë  ë•Œ ì •ë¦¬ë˜ì–´ì•¼ í•˜ëŠ” ìš”ì†Œ (e.g. subscription, timer ID ë“±) ë¥¼ ë§Œë“¤ê³¤ í•œë‹¤. ì´ë¥¼ ì •ë¦¬í•˜ëŠ” í•¨ìˆ˜ë¥¼ useEffect ì— ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.\n12345678useEffect(() =&gt; &#123;  // new subscription is created on every update  const subscription = props.source.subscribe();  return () =&gt; &#123;    // Clean up the subscription    subscription.unsubscribe();  &#125;;&#125;);\n\nclean-up function (e.g. subscription.unsubscribe() )ì€ ì»´í¬ë„ŒíŠ¸ê°€ ì œê±°ë˜ê¸°(=== ë‹¤ìŒì˜ effect) ì´ì „ ì— ì‹¤í–‰ë˜ì–´ memory leaksë¥¼ ë°©ì§€í•œë‹¤.\nì»´í¬ë„ŒíŠ¸ê°€ ì—¬ëŸ¬ë²ˆ ë¦¬ë Œë”ë§ ë  ê²½ìš°, ì´ì „ì˜ effectëŠ” ë‹¤ìŒì˜ effectê°€ ì‹¤í–‰ë˜ê¸° ì´ì „ ì— ì •ë¦¬ëœë‹¤.\n\n\n\n\n\nTiming of Effects\neffect íƒ€ì´ë°\n\n\n\n\n\nuseEffectì— ì „ë‹¬ëœ í•¨ìˆ˜ì˜ ê²½ìš° ë ˆì´ì•„ì›ƒ ë°°ì¹˜ê³¼ ê·¸ë¦¬ê¸°ë¥¼ ì™„ë£Œí•œ í›„, ì§€ì—°ëœ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ëŠ” ë™ì•ˆ ì‹¤í–‰ëœë‹¤. ì´ëŠ” ë¸Œë¼ìš°ì €ê°€ í™”ë©´ì„ ì—…ë°ì´íŠ¸í•˜ëŠ” ê³¼ì •ì„ ë°©í•´í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì—, ì—¬ëŸ¬ side effects (e.g. setting up subscriptions and event handlers) ë¥¼ ì‹¤í–‰í•˜ê¸°ì— ì í•©í•œ ë•Œì´ë‹¤.\nuseEffect ëŠ” ë¸Œë¼ìš°ì €ê°€ ê·¸ë ¤ì§€ê¸° ì´ì „ê¹Œì§€ëŠ” ëŒ€ê¸°í•˜ì§€ë§Œ, ìƒˆë¡œìš´ ë Œë”ë§ì´ ë°œìƒí•˜ê¸° ì´ì „ì— ì‹¤í–‰ë˜ëŠ” ê²ƒì„ ë³´ì¥í•œë‹¤. ë¦¬ì•¡íŠ¸ëŠ” ì–¸ì œë‚˜ ìƒˆë¡œìš´ ì—…ë°ì´íŠ¸ê°€ ë°œìƒí•˜ê¸° ì´ì „ì— ì´ì „ì˜ ë Œë”ë§ effectë¥¼ ëª¨ë‘ ì œê±°í•œë‹¤.\n\n\n\n\n\nuseLayoutEffect\nDOM ë³€ê²½ê³¼ ê°™ì´ ì‚¬ìš©ìì—ê²Œ effectê°€ ë³´ì—¬ì§€ëŠ” ê²½ìš°, visual inconsistency ë°©ì§€ë¥¼ ìœ„í•´ ë‹¤ìŒ execution (event) ì´ ì‹¤í–‰ë˜ê¸° ì´ì „ì— í˜„ì¬ í™”ë©´ì´ ë Œë”ë§ì´ ë¨ê³¼ ë™ì‹œì— effectê°€ (synchronously) ë°œìƒí•˜ì—¬ì•¼ í•œë‹¤.\n\n\n\n\n\nConditionally Firing an Effect\nì¡°ê±´ë¶€ effect ë°œìƒ\n\n\n\n\n\nEffectì˜ default behaviorì€ ë Œë”ë§ì´ ëª¨ë‘ ì™„ë£Œëœ ì´í›„ ì‹¤í–‰ë˜ëŠ” ê²ƒì´ë‹¤. ì´ëŠ” í•´ë‹¹ effectì˜ dependency ì¤‘ í•˜ë‚˜ê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ìƒˆë¡œ ì‹¤í–‰ë¨ì„ ì˜ë¯¸í•œë‹¤.\nì•ì„  ì˜ˆì œë¥¼ í†µí•´ì„œ ìì„¸íˆ ë³´ë©´,\n12345678useEffect(() =&gt; &#123;  // new subscription is created on every update  const subscription = props.source.subscribe();  return () =&gt; &#123;    // Clean up the subscription    subscription.unsubscribe();  &#125;;&#125;);\nsubscription ì€ ë§¤ ì—…ë°ì´íŠ¸ë§ˆë‹¤ ìƒì„±ë  í•„ìš” ì—†ì´, source prop ì´ ë³€í•  ë•Œë§Œ ìƒˆë¡œ ìƒì„±ë˜ë©´ ëœë‹¤.\nì´ì™€ ê°™ì€ í˜„ìƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´,  useEffect ì˜ 2ë²ˆì§¸ argumentë¡œ effectê°€ ì˜ì¡´í•˜ëŠ” (depend on, dependency) ë°°ì—´ì„ ì „ë‹¬í•œë‹¤.\në”°ë¼ì„œ ìœ„ ì˜ˆì œë¥¼ ìˆ˜ì •í•´ë³´ë©´,\n1234567891011useEffect(  // ì „ë‹¬í•˜ëŠ” í•¨ìˆ˜ëŠ” ë™ì¼í•˜ë˜,  () =&gt; &#123;    const subscription = props.source.subscribe();    return () =&gt; &#123;      subscription.unsubscribe();    &#125;;  &#125;,  // ë‘ë²ˆì§¸ ì¸ìë¡œ dependency array (depend oní•˜ëŠ” ë°°ì—´) ì„ ì „ë‹¬í•œë‹¤.  [props.source],);\nì´ë¥¼ í†µí•´ subscriptionì€ props.sourceê°€ ë³€ê²½ë  ë•Œì—ë§Œ ì¬ìƒì„±ëœë‹¤.\n\n\n\n\në§Œì•½ effectë¥¼ (mount ë˜ëŠ” unmount ì‹œ) í•œ ë²ˆë§Œ ìˆ˜í–‰í•˜ê³  ì‹¶ë‹¤ë©´ ë‘ë²ˆì§¸ ì¸ìë¡œ ë¹ˆ ë°°ì—´ ( [] ) ì„ ì „ë‹¬í•˜ë©´ ëœë‹¤. ì´ë¥¼ í†µí•´ effectëŠ” ì»´í¬ë„ŒíŠ¸ ë²”ìœ„ì—ì„œ ê°€ì ¸ì˜¨ ê°’ë“¤ (e.g. props, state ë“±) ì— ì „í˜€ ì˜ì¡´í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ í•´ë‹¹ ê°’ë“¤ì´ ë³€ê²½ë˜ì–´ë„ ë‹¤ì‹œ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤.\në¹ˆ ë°°ì—´ ( [] ) ì€ effect ì•ˆì— ìˆëŠ” props ì™€ state ê°€ í•­ìƒ ì´ˆê¸°ê°’ì„ ê°€ì§€ê²Œ ë¨ì„ ì˜ë¯¸í•œë‹¤. ì´ëŠ” componentDidMount ì™€ componentWillUnMount ì˜ ê¸°ëŠ¥ê³¼ ê°™ë‹¤.\n\n\n\n\n\në‘ë²ˆì§¸ ì¸ìë¡œ ì „ë‹¬í•˜ëŠ” ë°°ì—´ì€ effectì— ì‚¬ìš©ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ ë²”ìœ„ì˜ ëª¨ë“  ê°’ (e.g. props, state ë“±) ë“¤ì„ í¬í•¨í•´ì•¼ í•œë‹¤. ì´ë¥¼ ìœ„ë°˜í•  ì‹œ ì´ì „ ë Œë”ë§ì—ì„œ ì„¤ì •í•œ ê°’ì„ ì°¸ì¡°í•˜ëŠ” ë²„ê·¸ê°€ ë°œìƒí•œë‹¤.\nì´ë ‡ê²Œ ì „ë‹¬ëœ dependency ë°°ì—´ì€ effect í•¨ìˆ˜ì— ì¸ìë¡œ ì „ë‹¬ë˜ì§€ ì•ŠëŠ”ë‹¤. í•˜ì§€ë§Œ effect í•¨ìˆ˜ ë‚´ì—ì„œ ì°¸ì¡°ëœ ëª¨ë“  ê°’ë“¤ì´ í•´ë‹¹ ë°°ì—´ì— í¬í•¨ë˜ì–´ì•¼ í•˜ë¯€ë¡œ, ì „ë‹¬ ì—¬ë¶€ëŠ” ìœ ì˜ë¯¸í•˜ì§€ ì•Šë‹¤.\n\n\n\n\n\nuseContext1const value = useContext(MyContext);\n\nuseContext() : ( React.createContext ë¥¼ í†µí•´ ë°˜í™˜ëœ ê°’ì¸ ) context ê°ì²´ì— **í˜„ì¬ context ê°’ (MyContext) **ì„ ë°˜í™˜í•œë‹¤.\nê°€ì¥ ê°€ê¹Œìš´ ìƒìœ„ ì»´í¬ë„ŒíŠ¸ &lt;MyContext.Provider&gt; ê°€ ì—…ë°ì´íŠ¸ ë˜ë©´, useContext ëŠ” í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì— ì „ë‹¬ (í¬í•¨) ëœ ê°€ì¥ ìµœì‹ ì˜ context value ì— ë”°ë¼ í™”ë©´ì„ ë¦¬ë Œë”ë§ í•œë‹¤.\n\n\nMyContext : í˜„ì¬ context ê°’ (ê°ì²´) ìœ¼ë¡œ, íŠ¸ë¦¬ êµ¬ì¡°ì—ì„œ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì˜ ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì´ë©´ì„œ ê°€ì¥ ê°€ê¹Œìš´ &lt;MyContext.Provider&gt; ì˜ value prop ì— ë”°ë¼ ê²°ì •ëœë‹¤.\nuseContext() ì˜ ì¸ìëŠ” context ê°ì²´ì—¬ì•¼ í•œë‹¤.\nCorrect: useContext(MyContext)\nIncorrect: useContext(MyContext.Consumer)\nIncorrect: useContext(MyContext.Provider)\n\n\n\n\n\n\n\n\n\nuseContext ë¥¼ ì‚¬ìš©í•œ ì»´í¬ë„ŒíŠ¸ëŠ” context ê°’ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ ë¦¬ë Œë”ë§ëœë‹¤. ë¦¬ë Œë”ë§ ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë¹„ì‹¸ë‹¤ë©´, momoization ì„ ì´ìš©í•´ íš¨ìœ¨ì„±ì„ ë†’ì¼ ìˆ˜ ìˆë‹¤.\n\nìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ React.memo ë‚˜ shouldComponentUpdate ë¥¼ ì“°ë”ë¼ë„, useContext ë¥¼ ì‚¬ìš©í•œ ì»´í¬ë„ŒíŠ¸ë¶€í„° ë¦¬ë Œë”ë§ì´ ì§„í–‰ (ì‹œì‘) ëœë‹¤.\n\n\n\n\n\nuseContext ëŠ” contextë¥¼ ì½ê³  ë³€ê²½ì‚¬í•­ì„ êµ¬ë… (í™•ì¸) í•˜ëŠ” ê²ƒë§Œ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì—, í•´ë‹¹ contextì˜ ê°’ì„ ì „ë‹¬í•˜ê¸° ìœ„í•´ íŠ¸ë¦¬ êµ¬ì¡° ë‚´ ìƒìœ„ ì»´í¬ë„ŒíŠ¸ë¡œì„œ &lt;MyContext.Provider&gt; ê°€ í•„ìš”í•˜ë‹¤.\n\n\n\n\nPutting it together with Context.Provider123456789101112131415161718192021222324252627282930313233343536373839const themes = &#123;  light: &#123;    foreground: &quot;#000000&quot;,    background: &quot;#eeeeee&quot;  &#125;,  dark: &#123;    foreground: &quot;#ffffff&quot;,    background: &quot;#222222&quot;  &#125;&#125;;const ThemeContext = React.createContext(themes.light);function App() &#123;  return (    &lt;ThemeContext.Provider value=&#123;themes.dark&#125;&gt;      &lt;Toolbar /&gt;    &lt;/ThemeContext.Provider&gt;  );&#125;function Toolbar(props) &#123;  return (    &lt;div&gt;      &lt;ThemedButton /&gt;    &lt;/div&gt;  );&#125;function ThemedButton() &#123;  // useContextì˜ ì¸ìë¡œì„œ ThemeContext ê°ì²´ ì „ë‹¬  // theme = &lt;ThemeContext.Provider&gt;ì˜ valueì¸ &#123;themes.dark&#125; // ê°ì²´  const theme = useContext(ThemeContext);  return (    &lt;button style=&#123;&#123; background: theme.background, color: theme.foreground &#125;&#125;&gt;      I am styled by theme context!    &lt;/button&gt;  );&#125;\n\n\n\n\n\n\n\nì¶”ê°€ Hooks\n\n\n\nuseReduceruseState() ì˜ ëŒ€ì²´ì¬ë¡œì„œ ì‚¬ìš©í•œë‹¤. ì—¬ëŸ¬ í•˜ìœ„ ê°’ì„ í¬í•¨í•˜ê±°ë‚˜ ë‹¤ìŒ stateê°€ ì´ì „ì˜ state ê°’ì— ì˜í–¥ì„ ë°›ëŠ” ë³µì¡í•œ state ë¡œì§ì„ ê°€ì§„ ê²½ìš° ì„ í˜¸ëœë‹¤.\nì»´í¬ë„ŒíŠ¸ì˜ state ì—…ë°ì´íŠ¸ ë¡œì§ì„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë¶„ë¦¬í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ ë°”ê¹¥ì—ì„œ ì‘ì„±í•˜ê±°ë‚˜ ë‹¤ë¥¸ íŒŒì¼ì—ì„œ ì‘ì„±í•œ í›„ ë¶ˆëŸ¬ì™€ì„œ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤.\në˜í•œ callback ëŒ€ì‹  dispatchë¥¼ ì „ë‹¬í•œ ìˆ˜ ìˆì–´ deep updateë¥¼ ìš”êµ¬í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì˜ ê²½ìš° performanceë¥¼ ìµœì í™”í•  ìˆ˜ ìˆë‹¤.\n\nWhat is deep update in React?\në¨¼ì €, Reactì—ì„œ updateë€; useState() ë¥¼ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©ê°€ëŠ¥í•œ í•¨ìˆ˜ë¡œ, ì»´í¬ë„ŒíŠ¸ stateê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œ ë¦¬ì•¡íŠ¸ì—ê²Œ ì´ë¥¼ ì•Œë¦¼ìœ¼ë¡œì¨ í•´ë‹¹ stateì— ì¢…ì†ëœ UIë¥¼ ì—…ë°ì´íŠ¸í•˜ê¸° ìœ„í•´ ì»´í¬ë„ŒíŠ¸ì—ê²Œ ë¦¬ë Œë”ë§ì´ í•„ìš”í•˜ë‹¤ëŠ” ê²ƒì„ ì „ë‹¬í•œë‹¤. \në”°ë¼ì„œ, deep updateë€ deep nested ê°ì²´ (many pieces of informationê³¼ fixed ìŠ¤í‚¤ë§ˆë¥¼ ê°€ì§„) ë¥¼ update í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. \n\n\n\n\n\n1const [state, dispatch] = useReducer(reducer, initialArg, init);\n\nuseReducer() : reducer ë¥¼ ë°›ì•„ í˜„ì¬ stateì™€ ì§ì§€ì–´ì§„ dispatch í•¨ìˆ˜ë¥¼ ë°˜í™˜í•œë‹¤.\n\nreducer : í˜„ì¬ stateì™€ action ê°ì²´ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì•„ì™€ì„œ ( (state, action) ) ìƒˆë¡œìš´ stateë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜\n\n(state, action) =&gt; newState ì˜ êµ¬ì¡°ë¥¼ ê°€ì§„ë‹¤.\n12345function reducer(state, action) &#123;  // ìƒˆë¡œìš´ stateë¥¼ ë§Œë“œëŠ” ë¡œì§  // const nextState = ...  return nextState;&#125;\në°˜í™˜í•˜ëŠ” í•´ë‹¹ stateëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ì§€ë‹ ìƒˆë¡œìš´ stateê°€ ëœë‹¤.\n\naction : ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•œ ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆë‹¤.\n\nì£¼ë¡œ type ê°’ì„ ì§€ë‹Œ ê°ì²´ í˜•íƒœë¡œ ì‚¬ìš©í•œë‹¤.\n\n type ì˜ ê²½ìš°, ëŒ€ë¬¸ì ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ _ ë¡œ ì‹œì‘í•˜ëŠ” ê´€ìŠµì´ ìˆë‹¤.\n\n\n\n\n\n\nstate : ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìƒíƒœ\n\ndispatch : action ì„ (ì¸ìë¡œ ë°›ì•„) ë°œìƒì‹œí‚¤ëŠ” í•¨ìˆ˜\n1dispatch(&#123; type: &#x27;INCREMENT&#x27; &#125;)\n\n\n\n\n\n\n12345678910111213141516171819202122232425const initialState = &#123;count: 0&#125;;function reducer(state, action) &#123;  switch (action.type) &#123;    case &#x27;increment&#x27;:      return &#123;count: state.count + 1&#125;;    case &#x27;decrement&#x27;:      return &#123;count: state.count - 1&#125;;    default:      throw new Error();  &#125;&#125;function Counter() &#123;  const [state, dispatch] = useReducer(reducer, initialState);  return (    &lt;&gt;      Count: &#123;state.count&#125;\t\t\t// dispatchì˜ ì¸ìë¡œ action (type) ì „ë‹¬      &lt;button onClick=&#123;() =&gt; dispatch(&#123;type: &#x27;decrement&#x27;&#125;)&#125;&gt;-&lt;/button&gt;      &lt;button onClick=&#123;() =&gt; dispatch(&#123;type: &#x27;increment&#x27;&#125;)&#125;&gt;+&lt;/button&gt;    &lt;/&gt;  );&#125;\n\n\n\n\n\nNote\në¦¬ì•¡íŠ¸ëŠ” ë¦¬ë Œë”ë§ì´ ë˜ë”ë¼ë„ dispatch í•¨ìˆ˜ì˜ identity ëŠ” ë™ì¼í•˜ê²Œ ìœ ì§€í•˜ê¸° ë•Œë¬¸ì—, useEffect ë‚˜ useCallback ì˜ dependency listì— í¬í•¨í•˜ì§€ ì•ŠëŠ”ë‹¤.\n\n\n\n\n\nSpecifying the Initial State\nì´ˆê¸° stateì˜ êµ¬ì²´í™”\n\n\n\n\n\nuseReducer() ì˜ stateë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ë°©ë²•ì—ëŠ” 2ê°€ì§€ê°€ ìˆë‹¤.\n\nê°€ì¥ ê°„ë‹¨í•œ ë°©ë²•ìœ¼ë¡œëŠ”, initial stateë¥¼ 2ë²ˆì§¸ ì¸ìë¡œ ì „ë‹¬í•˜ëŠ” ë°©ë²•ì´ ìˆë‹¤.\n\n1234const [state, dispatch] = useReducer(\treducer,  &#123;count: initialCount&#125;);\n\n\n\n\nLazy Initialization\n ì´ˆê¸°í™” ì§€ì—°\n\n\n\n\n\n\ninitial stateë¥¼ lazily ìƒì„±í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ, init í•¨ìˆ˜ë¥¼ 3ë²ˆì§¸ ì¸ìë¡œ ì „ë‹¬í•˜ì—¬ initial stateë¥¼ init(initialArg) ë¡œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.\ninitial state ë¥¼ ê³„ì‚°í•˜ëŠ” ë¡œì§ì„ reducer ë°–ì— ì •ì˜í•˜ì—¬ action ì— ë”°ë¥¸ state ì¬ì„¤ì • ì‹œ ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\n\n\n\n1234567891011121314151617181920212223242526272829303132333435363738// initialization í•¨ìˆ˜ë¥¼ ì™¸ë¶€ì— ì •ì˜function init(initialCount) &#123;  return &#123;count: initialCount&#125;;&#125;function reducer(state, action) &#123;  switch (action.type) &#123;    case &#x27;increment&#x27;:      return &#123;count: state.count + 1&#125;;    case &#x27;decrement&#x27;:      return &#123;count: state.count - 1&#125;;          // ì¬ì„¤ì • ì‹œ init í•¨ìˆ˜ í˜¸ì¶œ    case &#x27;reset&#x27;:      return init(action.payload);    default:      throw new Error();  &#125;&#125;function Counter(&#123;initialCount&#125;) &#123;    // 3ê°œì˜ ì¸ì ì „ë‹¬ (reducer, initial_value, initialization_function)  const [state, dispatch] = useReducer(reducer, initialCount, init);  return (    &lt;&gt;      Count: &#123;state.count&#125;\t\t\t// ì¬ì„¤ì • ì‹œ action ê°ì²´ì— &#123;type, payload&#125; ì „ë‹¬      &lt;button        onClick=&#123;() =&gt; dispatch(&#123;type: &#x27;reset&#x27;, payload: initialCount&#125;)&#125;&gt;        Reset      &lt;/button&gt;      &lt;button onClick=&#123;() =&gt; dispatch(&#123;type: &#x27;decrement&#x27;&#125;)&#125;&gt;-&lt;/button&gt;      &lt;button onClick=&#123;() =&gt; dispatch(&#123;type: &#x27;increment&#x27;&#125;)&#125;&gt;+&lt;/button&gt;    &lt;/&gt;  );&#125;\n\npayload\nì „ì†¡ë˜ëŠ” ë°ì´í„°\n\n\n\n\n\nBailing Out of a Dispatch\n dispatchì˜ íšŒí”¼\n\n\n\n\n\nì•ì„œ useState() ì—ì„œ ì„¤ëª…í•œ ê²ƒê³¼ ê°™ì´, Reducer Hook ( useReducer() ) ì´ í˜„ì¬ stateê³¼ ë™ì¼í•œ ê°’ì„ ë°˜í™˜í•  ê²½ìš°, ìì‹ì„ ë Œë”ë§í•˜ê±°ë‚˜ effectë¥¼ ì‹¤í–‰í•˜ì§€ ì•Šê³  ì²˜ë¦¬ (i.e. ë Œë”ë§, ì´ë²¤íŠ¸) ë¥¼ ì¢…ë£Œí•œë‹¤.\n\nObject.is() comparison ì•Œê³ ë¦¬ì¦˜ì„ ì´ìš©\n\nì²˜ë¦¬ë¥¼ ì¢…ë£Œí•˜ê¸° ì „ì— í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë¥¼ ë‹¤ì‹œ ë Œë”ë§í•´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ì¡´ì¬í•˜ì§€ë§Œ, ê·¸ ì´ìƒìœ¼ë¡œ ê¹Šê²Œ íŠ¸ë¦¬ë¥¼ íƒìƒ‰í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë¬¸ì œê°€ ë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. ë§Œì•½ ë Œë”ë§ì— ë¹„ì‹¼ ê³„ì‚° ê³¼ì • ì´ í¬í•¨ëœë‹¤ë©´, useMemo() ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\n\n\n\n\nuseCallbackmemoized callback ì„ ë°˜í™˜í•œë‹¤.\n\n\n\n\n\nmemoization\n\në¹„ì‹¼ í•¨ìˆ˜ì˜ í˜¸ì¶œ ê²°ê³¼ë¥¼ ì €ì¥í•˜ê³  ê°™ì€ inputì´ ë°œìƒí•  ê²½ìš° ì €ì¥ëœ (ìºì‹œ) ê°’ì„ ë°˜í™˜í•˜ì—¬ í”„ë¡œê·¸ë¨ì˜ ìˆ˜í–‰ ì†ë„ë¥¼ ì¦ê°€ì‹œí‚¤ëŠ” ìµœì í™” (optimization) ê¸°ìˆ \n\n(some sort of) ìºì‹œë¥¼ ì´ìš©í•˜ì—¬ (ë¹„ì‹¼) í•¨ìˆ˜ë¥¼ ë¶€ë¥´ëŠ” íšŸìˆ˜ë¥¼ ì œí•œí•˜ëŠ” ê²ƒ\n\níŠ¹ì • inputì— ëŒ€í•œ ìºì‹œê°’ì´ ì—†ë‹¤ë©´, original í•¨ìˆ˜ê°€ í•œë²ˆ í˜¸ì¶œë˜ì–´ (ìºì‹œ) mapì— ê²°ê³¼ê°’ì´ ì¶”ê°€ëœë‹¤.\nìºì‹œë¥¼ ì§€ìš°ì§€ ì•ŠëŠ” í•œ ê²°ê³¼ëŠ” ìºì‹œ mapì—ì„œ ë°˜í™˜ëœë‹¤.\n\n\n\n\n\n\n\nğŸ‘‰ useCallback hook ì€ ë‹¤ë¥¸ ê¸°ëŠ¥ì„ í•œë‹¤.\n\nğŸŒˆ REFERENCEë¥¼ ê¼­ ì½ì–´ë³´ì„¸ì—¼ (:-&gt;\nuseCallback() ì„ ì´ìš©í•˜ëŠ” ì´ìœ ëŠ”, callback í•¨ìˆ˜ì¸ cbì˜ memoized ë²„ì „ì„ ë°›ê¸° ìœ„í•´ì„œì´ë‹¤.\nì»´í¬ë„ŒíŠ¸ê°€ ì²˜ìŒìœ¼ë¡œ ë Œë”ë§ë  ë•Œ, ìƒˆë¡œìš´ cb ê°€ ìƒì„±ë˜ê³  ë˜‘ê°™ì€ cb í•¨ìˆ˜ê°€ useCallback() ì— ì˜í•´ ë°˜í™˜ëœë‹¤.\n\n\n\n\n\n\nìœ„ ì˜ˆì‹œì—ì„œ memoizedCb() ê°€ í˜¸ì¶œë˜ë©´, original cb ì½œë°±í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ì–´ ê²°ê³¼ì ìœ¼ë¡œ original cb í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤.\nì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ (2ë²ˆì§¸) ë˜ë©´, ìƒˆë¡œìš´ cb ê°€ ìƒì„±ëœë‹¤. í•˜ì§€ë§Œ useCallback() ì— ì „ë‹¬ëœ dependencyê°€ ë³€í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì—, ìƒì„±ëœ cbëŠ” ë²„ë ¤ì§€ê³  memoizedCbëŠ” ì²«ë²ˆì§¸ ë Œë”ë§ ë•Œ ìƒì„±ëœ cbë¥¼ ìœ ì§€í•œë‹¤. ê²°êµ­ ì´ ë•Œì˜ memoizedCb í˜¸ì¶œì€ ì´ì „ê³¼ ê°™ì´ ê¸°ì¡´ì˜ (old) cb ë¥¼ í˜¸ì¶œí•˜ì—¬ original cb í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê²Œ ëœë‹¤.\ndependencyê°€ ë³€í•˜ì§€ ì•ŠëŠ” ì´ìƒ, ëª¨ë“  ë Œë”ë§ì€ ìœ„ì™€ ê°™ì€ ê³¼ì •ì„ ë°˜ë³µí•˜ì—¬ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì½œë°±í•¨ìˆ˜ë¥¼ ìƒì„±í•˜ê³  ê¸°ì¡´ì˜, memoized ì½œë°±ì„ í˜¸ì¶œí•˜ì—¬ ê²°êµ­ original cb í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤.\n\n\n\n\n\n\ndependency ê°€ ë³€í•œ ê²½ìš°, memoizedCb ë„ ë³€í•œë‹¤.\nì´ì „ì˜ memoizedCb ê°€ ì²«ë²ˆì§¸ cbë¥¼ í˜¸ì¶œí•˜ëŠ” ê³¼ì •ê³¼ ë¹„ìŠ·í•˜ê²Œ, ì´ ë•Œì˜ memoizedCb ë˜í•œ dependency ê°€ ë³€í•œ ì‹œì ë¶€í„° ì²«ë²ˆì§¸ cb ë¥¼ í˜¸ì¶œí•œë‹¤.\n\n\n\n\n\n\n\ncallback\níŠ¹ì • í•¨ìˆ˜ (ì½œë°±í•¨ìˆ˜) ë¥¼ ë‹¤ë¥¸ í•¨ìˆ˜ì— ì „ë‹¬í•˜ê³  ì´ë¥¼ í˜¸ì¶œí•˜ëŠ” íŠ¹ì • ì´ë²¤íŠ¸ (e.g. a query finished or an error occurs) ê°€ ë°œìƒí•˜ë©´ ì½œë°±í•¨ìˆ˜ë¥¼ ë°œìƒì‹œí‚¤ëŠ” ê²ƒ\n\nì—¬ëŸ¬ ì¡°ê°ì˜ ì½”ë“œì˜ ì†Œí†µì„ ì •ì˜í•˜ì—¬, ì½œë°±í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ëª¨ë“ˆì´ ê²°ê³¼ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ í˜¸ì¶œì„ ë°›ëŠ” í•¨ìˆ˜ì— ì½œë°±í•¨ìˆ˜ë¥¼ ì „ë‹¬í•œë‹¤.\nì—¬ê¸°ì„œ ì¤‘ìš”í•œ ì ì€, one piece of codeê°€ ì½œë°±í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ë‹¤ë¥¸ (ì¡°ê°ì˜) ì½”ë“œê°€ ì´ í˜¸ì¶œì„ ë°›ëŠ”ë‹¤ëŠ” ê²ƒì´ë‹¤. ì—¬ê¸°ì„œ ì–´ë– í•œ í˜¸ì¶œ ì½”ë“œë„ ìƒìœ¼ë©´ (ìƒëµë˜ë©´) ì•ˆ ë˜ê¸° ë•Œë¬¸ì—, ì½œë°±í•¨ìˆ˜ë¥¼ memoizingí•˜ì—¬ ëª¨ë“ˆ ê°„ ì†Œí†µ lineì„ ëŠëŠ” ë°©ë²•ì´ íƒ„ìƒí•œ ê²ƒì´ë‹¤.\n\n\nê²°ê³¼ì ìœ¼ë¡œ useCallback() ì´ í•˜ëŠ” ê²ƒì€ ë˜‘ê°™ì€ callback ì˜ íšŸìˆ˜ë¥¼ ì œí•œí•˜ëŠ” ê²ƒì´ë‹¤. ê²°ê³¼ê°’ë“¤ì€ ìºì‹œì—ì„œ ë°˜í™˜ë˜ì§€ ì•Šê³ , dependency ê°€ ë³€í•œ ì‹œì ìœ¼ë¡œë¶€í„° ì²«ë²ˆì§¸ì˜ cb ì™€ ê°™ì€ memoizedCb ë¥¼ ë°˜í™˜í•œë‹¤.\n\n\n\n\n123456const memoizedCallback = useCallback(  () =&gt; &#123;    doSomething(a, b);  &#125;,  [a, b],);\n\nuseCallback() : inline callback í•¨ìˆ˜ì™€ dependencies ë°°ì—´ì„ ì „ë‹¬\nmemoized version of the callbackì„ ë°˜í™˜í•˜ë©°, dependenciesê°€ ë³€í–ˆì„ ë•Œë§Œ memoized version ë„ ë³€ê²½ëœë‹¤.\nuseCallback(fn, deps) === useMemo(() =&gt; fn, deps)\n\n\n\n\n\n\n\në¶ˆí•„ìš”í•œ ë Œë”ë§ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ referenceì˜ ë™ì¼ì„±ì— ì˜ì¡´í•˜ëŠ” (ë™ì¼ì„±ì—ë§Œ ì˜í–¥ì„ ë°›ëŠ”) (ìµœì í™”ëœ) ìì‹ ì»´í¬ë„ŒíŠ¸ì— ì½œë°±í•¨ìˆ˜ë¥¼ ì „ë‹¬í•  ë•Œ ìœ ìš©í•˜ë‹¤.\n\nì•ì„  useEffectì™€ ë§ˆì°¬ê°€ì§€ë¡œ, dependencies ë°°ì—´ì€ ì½œë°±í•¨ìˆ˜ì— ì¸ìë¡œ ì „ë‹¬ë˜ì§€ ì•ŠëŠ”ë‹¤.\ní•˜ì§€ë§Œ ì •ì˜ ìì²´ê°€, â€œì½œë°±í•¨ìˆ˜ì—ì„œ ì°¸ì¡°í•˜ëŠ” ëª¨ë“  ê°’ë“¤ì€ dependencies ë°°ì—´ì— í¬í•¨ë˜ì–´ì•¼ í•œë‹¤â€ ì´ë‹¤.\n\n\n\n\n\nuseMemomemoized ê°’ì„ ë°˜í™˜í•œë‹¤.\n\nuseMemo vs. useCallback\nuseCallback() : í•¨ìˆ˜ ë°˜í™˜\nuseMemo() : ê°’ ë°˜í™˜\n\n\n\n\n\n1const memoizedValue = useMemo(() =&gt; computeExpensiveValue(a, b), [a, b]);\n\nuseMemo() : create í•¨ìˆ˜ì™€ dependencies ë°°ì—´ ì„ ì „ë‹¬\ndependency ê°€ ë³€í•  ë•Œì—ë§Œ memoized ê°’ì„ ë‹¤ì‹œ ê³„ì‚°í•œë‹¤. ì´ë¥¼ í†µí•´ ë¹„ì‹¼ ê³„ì‚° ê³¼ì •ì´ ë§¤ ë Œë”ë§ë§ˆë‹¤ ë°œìƒí•˜ëŠ” ê²ƒì„ ë°©ì§€í•œë‹¤.\n2ë²ˆì§¸ ì¸ì (dependencies ë°°ì—´ ë¡œì„œ) ì— ë¹ˆ ë°°ì—´ ( [] ) ì´ ì „ë‹¬ë˜ë©´, ë§¤ ë Œë”ë§ ë§ˆë‹¤ ìƒˆë¡œìš´ ê°’ì´ ê³„ì‚°ëœë‹¤.\n\n\n\n\n\n\n\nuseMemo() ì— ì „ë‹¬ëœ create í•¨ìˆ˜ ëŠ” ë Œë”ë§ ë™ì•ˆ ì‹¤í–‰ëœë‹¤.\n\në³´í†µ side effectëŠ” useMemo ê°€ ì•„ë‹ˆë¼ useEffect ì—ì„œ ë°œìƒí•œë‹¤. ë”°ë¼ì„œ ë Œë”ë§ ë™ì•ˆì€ ë‹¤ë¥¸ í–‰ë™ì„ í•˜ì§€ ì•Šì•„ì•¼ í•œë‹¤. (ë‹¹ì—°í•¨ -.-)\n\n\n\n\n\n\nâ—ï¸useMemo() ëŠ” ì„±ëŠ¥ ìµœì í™”ì—ë§Œ ì‚¬ìš©í•˜ê³ , í° ì˜ë¯¸ì  ê¸°ëŠ¥ (semantic guarantee) ì„ ë‹´ì§€ ì•Šì•„ì•¼ í•œë‹¤. ë”°ë¼ì„œ useMemo() ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ ë„ ë™ì‘í•  ìˆ˜ ìˆë„ë¡ ì½”ë“œë¥¼ ì‘ì„±í•˜ê³ , ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•´ useMemo() ë¥¼ ì¶”ê°€í•˜ë„ë¡ í•œë‹¤.\n\n\nì•ì„  useEffect, useCallback ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ, depedencies ë°°ì—´ ì€ ì½œë°±í•¨ìˆ˜ì— ì¸ìë¡œ ì „ë‹¬ë˜ì§€ ì•ŠëŠ”ë‹¤.\n\n\n\n\n\nuseRefJavaScriptë¥¼ ì´ìš©í•´ íŠ¹ì • DOM ì„ ì„ íƒí•´ì•¼ í•˜ëŠ” ê²½ìš° getElementById, querySelector ì™€ ê°™ì€ DOM Selector í•¨ìˆ˜ ë¥¼ ì‚¬ìš©í•œë‹¤.\në¦¬ì•¡íŠ¸ë¥¼ ì‚¬ìš©í•  ë•Œë„ íŠ¹ì • DOM ì„ ì„ íƒí•´ì•¼ í•˜ëŠ” ìƒí™©ì´ ë°œìƒí•˜ëŠ”ë°, ì´ ë•Œ ref ë¥¼ ì‚¬ìš©í•œë‹¤.\n\ní•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œ ref ë¥¼ ì‚¬ìš© í•  ë•Œì—ëŠ” useRef ë¼ëŠ” Hook í•¨ìˆ˜ ë¥¼ ì‚¬ìš©í•œë‹¤.\ní´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” ì½œë°± í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ React.createRef ë¼ëŠ” í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤.\n\n\n\n\n\n1const refContainer = useRef(initialValue);\n\nuseRef() : (ìƒì„±ëœ ref ê°ì²´ì˜) .current í”„ë¡œí¼í‹° (ì†ì„±) ê°€ ì „ë‹¬ëœ ì¸ì (e.g. initialValue) ë¡œ ì´ˆê¸°í™”ëœ, ë³€ê²½ ê°€ëŠ¥í•œ ref ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.\në³€ê²½ê°€ëŠ¥í•œ ê°’ì„ ë„£ì„ ìˆ˜ ìˆëŠ” .current í”„ë¡œí¼í‹°ë¥¼ ê°–ê³  ìˆëŠ” â€œë°•ìŠ¤â€ ì™€ ê°™ë‹¤.\ní•´ë‹¹ ê°ì²´ëŠ” ì»´í¬ë„ŒíŠ¸ì˜ full lifetime ë™ì•ˆ ì§€ì†ëœë‹¤.\n\n\n\n\n\n\n\nuseRef() ëŠ” DOMì— ì ‘ê·¼í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ë§ì´ ì‚¬ìš©ëœë‹¤.\nuseRef() ë¥¼ ì‚¬ìš©í•˜ì—¬\n\nRef ê°ì²´ë¥¼ ë§Œë“¤ê³ ,\nì´ ê°ì²´ë¥¼ ìš°ë¦¬ê°€ ì„ íƒí•˜ê³  ì‹¶ì€ DOM (ë…¸ë“œ) ì— ref ê°’ìœ¼ë¡œ ì„¤ì •í•œë‹¤.\nê·¸ëŸ¬ë©´, Ref ê°ì²´ì˜ .current ê°’ì€ ìš°ë¦¬ê°€ ì›í•˜ëŠ” DOM ì„ ê°€ë¥´í‚¤ê²Œ ëœë‹¤.\n\n\n\n\n\n1&lt;div ref=&#123;refContainer&#125; /&gt;\nrefContainer ì˜ .current í”„ë¡œí¼í‹°ë¥¼ í•´ë‹¹ ref ê°ì²´  ( refContainer ) ë¥¼ ref ë¡œ ì„¤ì •í•œ DOM ë…¸ë“œë¡œ ì„¤ì •í•˜ê³ , ë…¸ë“œê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ê·¸ì— ë§ê²Œ .current í”„ë¡œí¼í‹°ë¥¼ ì¡°ì •í•œë‹¤.\n\ní•˜ì§€ë§Œ useRef() ëŠ” .current ì— ë³€ê²½ ì‚¬í•­ì´ ì¡´ì¬í•˜ë”ë¼ë„ ë¦¬ë Œë”ë§ í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì—, ì´ì— ëŒ€í•´ notify í•˜ì§€ ì•ŠëŠ”ë‹¤. ë§Œì•½ ë¦¬ì•¡íŠ¸ê°€ DOM ë…¸ë“œì— ref ê°ì²´ë¥¼ ì—°ê²°í•˜ê±°ë‚˜ ì œê±°í•  ë•Œ notify í•˜ê³  ì‹¶ë‹¤ë©´, callback ref ë¥¼ ì´ìš©í•´ì•¼ í•œë‹¤.\n\n\n\n\n\n12345678910111213141516171819function TextInput_With_FocusButton() &#123;  // inputEl : ref ê°ì²´ (nullë¡œ ì´ˆê¸°í™”ë¨)  const inputEl = useRef(null);    // buttonì„ í´ë¦­í•˜ë©´ inputEl.current ì¸ input nodeì— focus() ë¥¼ ì ìš©í•œë‹¤.  const onButtonClick = () =&gt; &#123;    // `current` points to the mounted text input element    inputEl.current.focus();  &#125;;  return (    &lt;&gt;    \t// inputEl ref ê°ì²´ë¥¼ refë¡œ ì„¤ì •í•˜ì—¬ inputEl.current í”„ë¡œí¼í‹°ë¥¼ input node ë¡œ ì„¤ì •í•œë‹¤.      &lt;input ref=&#123;inputEl&#125; type=&quot;text&quot; /&gt;        \t// onClick ì‹œ onButtonClick í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê³  // ğŸ‘‰ goto onButtonClick comment      &lt;button onClick=&#123;onButtonClick&#125;&gt;Focus the input&lt;/button&gt;    &lt;/&gt;  );&#125;\n\nHTMLElement.focus()\níŠ¹ì • element ì— (focusë¥¼ ë§ì¶œ ìˆ˜ ìˆì„ ë•Œ) focusë¥¼ ë§ì¶”ëŠ” í•¨ìˆ˜ë¡œ, í•´ë‹¹ elementëŠ” í‚¤ë³´ë“œ ë“±ì˜ ì´ë²¤íŠ¸ë¥¼ ë°›ëŠ” default elementë¡œ ì •ì˜ëœë‹¤.\n\n\n\n\n\n\n\n\n\n\nuseRef() ëŠ” ref ì†ì„± ì™¸ì—ë„, í´ë˜ìŠ¤ê°€ instance field (ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜) ë¥¼ ê°€ì§€ê³  ìˆëŠ” ê²ƒì²˜ëŸ¼ ref ê°ì²´ì— ë³€ê²½ ê°€ëŠ¥í•œ ì–´ë– í•œ ê°’ë„ ë‹´ì„ ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤.\nì´ëŠ” useRef() ê°€ plain JavaScript ê°ì²´ ë¥¼ ìƒì„±í•˜ê¸° ë•Œë¬¸ì¸ë°, ì§ì ‘ &#123;current: ...&#125; ë¡œ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒê³¼ ìœ ì¼í•œ ì°¨ì´ì ì€ useRef() ëŠ” ë§¤ ë Œë”ë§ë§ˆë‹¤ ë˜‘ê°™ì€ ref ê°ì²´ë¥¼ ì œê³µ (ë°˜í™˜) í•œë‹¤ëŠ” ê²ƒì´ë‹¤.\n\nclass field (í´ë˜ìŠ¤ ë³€ìˆ˜) vs. instance field (ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜)\n\ní´ë˜ìŠ¤ ë³€ìˆ˜ : ì—¬ëŸ¬ ì¸ìŠ¤í„´ìŠ¤ (ì„œë¡œ ë‹¤ë¥¸ ê°ì²´) ê°„ì— ê³µìœ í•´ì•¼ í•˜ëŠ” ê°’ì„ ë°”ì¸ë”©\nì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ : ê° ì¸ìŠ¤í„´ìŠ¤ (ê°ì²´) ë§ˆë‹¤ ê°€ì§€ê³  ìˆëŠ” ê³ ìœ í•œ ê°’\n\níŒŒì´ì¬ì€ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í†µí•´ ì ‘ê·¼í•œ ì´ë¦„ (ë³€ìˆ˜) ì´ ì¸ìŠ¤í„´ìŠ¤ì˜ name_space (nameë“¤ì„ ì •ì˜í•œ ê³µê°„) ì— ì—†ì„ ê²½ìš°, ê·¸ ë‹¤ìŒìœ¼ë¡œ í´ë˜ìŠ¤ì˜ name_spaceì—ì„œ ì°¾ì•„ë³¸ë‹¤.\nì°¸ê³ ë¡œ í´ë˜ìŠ¤ ë³€ìˆ˜ì— ì ‘ê·¼í•  ë•Œì—ëŠ” í´ë˜ìŠ¤ ì´ë¦„ì„ ì‚¬ìš©í•˜ì—¬ ë°”ë¡œ ë³€ìˆ˜ (ê°’) ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.\n\n\n\n\n\nuseImperativeHandle\nâ—ï¸refë¥¼ ì‚¬ìš©í•˜ëŠ” imperative code ëŠ” ë˜ë„ë¡ì´ë©´ í”¼í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ):-&lt;\n\nrefë¥¼ ì‚¬ìš©í•  ë•Œ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì— ë…¸ì¶œë˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ ê°’ (ë³€ìˆ˜) ì„ ì»¤ìŠ¤í„°ë§ˆì´ì§• í•œë‹¤.\nì¦‰, forwardingëœ refë¥¼ replaceí•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.\n\n\n\n\n1useImperativeHandle(ref, createHandle, [deps])\n\nuseImperativeHandle() : ref, ì½œë°±í•¨ìˆ˜ (createHandle), dependnecies ë°°ì—´ ì„ ì „ë‹¬\n\ncreateHandle() : í˜„ì¬ ì»´í¬ë„ŒíŠ¸ì˜ ê°’ì„ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ê°€ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ì½œë°±í•¨ìˆ˜\n\n\nforwardRef() ì™€ í•¨ê»˜ ì‚¬ìš©ë˜ì–´ì•¼ í•œë‹¤.\n\nforwardRef() \n(ë§ ê·¸ëŒ€ë¡œ) referenceë¥¼ ì „ë‹¬í•´ì£¼ëŠ” ê¸°ëŠ¥ì„ í•˜ëŠ” í•¨ìˆ˜\n\n\n\n\n\n\n\n12345678910function FancyInput(props, ref) &#123;  const inputRef = useRef();  useImperativeHandle(ref, () =&gt; (&#123;    focus: () =&gt; &#123;      inputRef.current.focus();    &#125;  &#125;));  return &lt;input ref=&#123;inputRef&#125; ... /&gt;;&#125;FancyInput = forwardRef(FancyInput);\n&lt;FancyInput ref=&#123;inputRef&#125; /&gt; ë¥¼ ìˆ˜í–‰ (ë Œë”ë§) í•˜ëŠ” ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ëŠ” inputRef.current.focus() ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.\n\n\n\n\nuseLayoutEffectuseEffect ì™€ ë™ì¼í•œ ê¸°ëŠ¥ì„ DOM ë³€ê²½ ì‹œ ë™ì‹œì— (synchronously) ì‹¤í–‰í•˜ëŠ” í•¨ìˆ˜ë¡œ, DOM ì—ì„œ ë ˆì´ì•„ì›ƒì„ ì½ìŒê³¼ ë™ì‹œì— ë¦¬ë Œë”ë§ì„ í•´ì•¼í•  ë•Œ ì‚¬ìš©í•œë‹¤.\nuseLayoutEffect ë‚´ë¶€ì— ì •ì˜ëœ ì˜ˆì •ëœ ì—…ë°ì´íŠ¸ ë˜í•œ ë¸Œë¼ìš°ì €ê°€ ë ˆì´ì•„ì›ƒì„ ê·¸ë¦¬ê¸° ì´ì „ì—, ì½ìŒê³¼ ë™ì‹œì— ë°œìƒí•œë‹¤.\n\ní™”ë©´ ì—…ë°ì´íŠ¸ë¥¼ ì°¨ë‹¨í•˜ì§€ ì•Šì•„ë„ ë˜ëŠ” ê²½ìš°ì—ëŠ” useEffect ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\n\n\n\n\n\n\n í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì½”ë“œë¥¼ ì˜®ê¸¸ ë•Œ useLayoutEffect() ëŠ” componentDidMount ë‚˜ componentDidUpdate ì™€ ê°™ì€ ë‹¨ê³„ì—ì„œ ë°œìƒí•œë‹¤. í•˜ì§€ë§Œ, ë¨¼ì € useEffect ë¥¼ ì‹œë„í•´ë³´ê³  ì—ëŸ¬ê°€ ë°œìƒí•  ë•Œ useLayoutEffect ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\n\n\nSSR (ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§) ì˜ ê²½ìš°, useLayoutEffect ë‚˜ useEffect ëŠ” JavaScript ê°€ ëª¨ë‘ ë‹¤ìš´ë˜ê¸° ì „ê¹Œì§€ëŠ” ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤. SSR ì»´í¬ë„ŒíŠ¸ê°€ useLayoutEffect ë¥¼ í¬í•¨í•œ ê²½ìš°,\n\nì²« ë Œë”ë§ ì‹œ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ê°€ í•„ìš”í•˜ì§€ ì•Šë‹¤ë©´ useEffect ë¡œ ë¡œì§ì„ ì˜®ê¸°ê³ ,\nuseLayoutEffect ê°€ ì‹¤í–‰ë˜ê¸° ì „ê¹Œì§€ HTMLì´ ë§ê°€ì ¸ ë³´ì¸ë‹¤ë©´ í´ë¼ì´ì–¸íŠ¸ ë Œë”ë§ì´ ì™„ë£Œë  ë•Œê¹Œì§€ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë¥¼ ë³´ì—¬ì£¼ëŠ” ê²ƒì„ ë”œë ˆì´ì‹œí‚¨ë‹¤.\n\nì„œë²„ ë Œë”ë§ HTMLì—ì„œ ë ˆì´ì•„ì›ƒ effectë¥¼ í•„ìš”ë¡œ í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ì œì™¸í•˜ê¸° ìœ„í•´ì„œ, \n\nshowCild &amp;&amp; &lt;Child /&gt; ë¥¼ ì´ìš©í•˜ì—¬ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë¥¼ ì¡°ê±´ì ìœ¼ë¡œ ë Œë”ë§ì„ í•˜ê³ , \nuseEffect(() =&gt; &#123; setShowChild(true); &#125;, []) ë¥¼ ì´ìš©í•˜ì—¬ ë³´ì´ëŠ” ê²ƒì„ ë¯¸ë£¬ë‹¤ (defer).\n\nì´ë¥¼ í†µí•´ HTMLì´ hydration (useLayoutEffect, useEffect ì‹¤í–‰) ì´ì „ì— ë§ê°€ì ¸ ë³´ì´ëŠ” ê²ƒì„ ë°©ì§€í•œë‹¤.\n\n\n\n\n\nuseDebugValue1useDebugValue(value)\nReact DevTools ì—ì„œ ì»¤ìŠ¤í…€ Hooksì˜ label (value) ì„ ë³´ì—¬ì¤€ë‹¤.\n\n\n\n\n1234567891011function useFriendStatus(friendID) &#123;  const [isOnline, setIsOnline] = useState(null);  // ...  // Show a label in DevTools next to this Hook  // e.g. &quot;FriendStatus: Online&quot;  useDebugValue(isOnline ? &#x27;Online&#x27; : &#x27;Offline&#x27;);  return isOnline;&#125;\n\n\n\n\n\nëª¨ë“  ì»¤ìŠ¤í…€ Hookì— debug valueë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì€ ì¢‹ì§€ ì•Šë‹¤.\nshared librariesì— ì†í•˜ëŠ” ì»¤ìŠ¤í…€ Hooksì— ìœ ìš©í•˜ê²Œ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.\n\n\n\n\n\nDefer Formatting Debug Values\n ë””ë²„ê·¸ ê°’ í¬ë§·íŒ… ì§€ì—°í•˜ê¸°\n\n\n\n\n\në””ìŠ¤í”Œë ˆì´ (ë˜ëŠ”) ê°’ì„ í¬ë§¤íŒ…í•˜ëŠ” ê²ƒì€ ê³ ë¹„ìš© ì—°ì‚°ì¼ ìˆ˜ ìˆê³ , Hookì´ ê°ì§€ë˜ì§€ ì•Šì€ ê²½ìš° ì‚¬ì‹¤ìƒ í¬ë§¤íŒ…ì€ ë¶ˆí•„ìš”í•˜ë‹¤. ë”°ë¼ì„œ, useDebugValue ì˜ (optionalí•œ) 2ë²ˆì§¸ ì¸ìë¡œ í¬ë§¤íŒ… í•¨ìˆ˜ ë¥¼ ì „ë‹¬í•˜ì—¬ Hookì´ ê°ì§€ë˜ì—ˆì„ ë•Œë§Œ í•´ë‹¹ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ í¬ë§¤íŒ…í•  ìˆ˜ ìˆë‹¤.\n\n\n\n\n1useDebugValue(value, value =&gt; value.formatting_function());\n\nuseDebugValue() : value ì™€ optional formatting í•¨ìˆ˜ ë¥¼ ì „ë‹¬\noptional formatting function : debug value ë¥¼ ì¸ìë¡œ ì „ë‹¬í•˜ê³  formatted display value ë¥¼ ë°˜í™˜í•œë‹¤.\n\n\n\n\n\n\n\n1useDebugValue(date, date =&gt; date.toDateString());\n2ë²ˆì§¸ ì¸ìë¡œ fomatting function ì„ ì „ë‹¬í•˜ì—¬ Date value ë¥¼ ë°˜í™˜í•˜ëŠ” ì»¤ìŠ¤í…€ Hookì´ toDateString() ì„ ë¶ˆí•„ìš”í•˜ê²Œ í˜¸ì¶œí•˜ëŠ” ê²ƒì„ ë°©ì§€í•œë‹¤.\n\n\n\n\n\n\n\n\n\nReferencehttps://ko.reactjs.org/docs/hooks-reference.html\nhttps://reactjs.org/docs/hooks-reference.html\n","dateCreated":"2021-05-05T23:44:17+09:00","dateModified":"2021-05-06T17:19:40+09:00","datePublished":"2021-05-05T23:44:17+09:00","description":"","headline":"Hooks","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://leahincom.github.io/2021/05/05/THUREE-Hooks/"},"publisher":{"@type":"Organization","name":"JungHyun","sameAs":["https://github.com/leahincom","https://facebook.com/junghyun.lah/","https://www.linkedin.com/profile","mailto:leahincom@gmail.com"],"image":"profile.jpeg","logo":{"@type":"ImageObject","url":"profile.jpeg"}},"url":"https://leahincom.github.io/2021/05/05/THUREE-Hooks/","keywords":"SOPT, WEB, ReactJS, Hooks"}</script>
    <meta name="description" content="Hooks    ê¸°ë³¸ Hook    useState1const [state, setState] &#x3D; useState(initialState);  useState() : state ì™€ setState ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜  initialState : ì´ˆê¸°ê°’ ë³´í†µ null ì´ë‚˜ &quot;&quot; ë“±ì˜ default valueë¡œ ì„¤ì •í•œë‹¤.     state :">
<meta property="og:type" content="blog">
<meta property="og:title" content="Hooks">
<meta property="og:url" content="https://leahincom.github.io/2021/05/05/THUREE-Hooks/index.html">
<meta property="og:site_name" content="leah">
<meta property="og:description" content="Hooks    ê¸°ë³¸ Hook    useState1const [state, setState] &#x3D; useState(initialState);  useState() : state ì™€ setState ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜  initialState : ì´ˆê¸°ê°’ ë³´í†µ null ì´ë‚˜ &quot;&quot; ë“±ì˜ default valueë¡œ ì„¤ì •í•œë‹¤.     state :">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://coder.earth/static/usecallback_1-aa6572c6cb98757914009ef9063d2204-04c70.png">
<meta property="og:image" content="https://coder.earth/static/usecallback_5-0aacccaf0b04a87b0fa2cf7eab59baaf-04c70.png">
<meta property="og:image" content="https://coder.earth/static/usecallback_7-bd85d59569c0dc834c931abc121027b8-04c70.png">
<meta property="article:published_time" content="2021-05-05T14:44:17.000Z">
<meta property="article:modified_time" content="2021-05-06T08:19:40.236Z">
<meta property="article:author" content="JungHyun">
<meta property="article:tag" content="SOPT">
<meta property="article:tag" content="WEB">
<meta property="article:tag" content="ReactJS">
<meta property="article:tag" content="Hooks">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://coder.earth/static/usecallback_1-aa6572c6cb98757914009ef9063d2204-04c70.png">
    
    
        
    
    
        <meta property="og:image" content="https://leahincom.github.io/assets/images/profile.jpeg"/>
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/all.css">

    
<link rel="stylesheet" href="/assets/css/jquery.fancybox.css">

    
<link rel="stylesheet" href="/assets/css/thumbs.css">

    
<link rel="stylesheet" href="/assets/css/tranquilpeak.css">

    <!--STYLES END-->
    

    

    
        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="5">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            leah
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="Open the link: /#about"
            >
        
        
            <img class="header-picture" src="/assets/images/profile.jpeg" alt="Author&#39;s picture"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="5">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="Read more about the author"
                >
                    <img class="sidebar-profile-picture" src="/assets/images/profile.jpeg" alt="Author&#39;s picture"/>
                </a>
                <h4 class="sidebar-profile-name">JungHyun</h4>
                
                    <h5 class="sidebar-profile-bio"><p>author.bio</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="Categories"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="Tags"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="Archives"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link open-algolia-search"
                            href="#search"
                            
                            rel="noopener"
                            title="Search"
                        >
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Search</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/leahincom"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://facebook.com/junghyun.lah/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Facebook"
                        >
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.linkedin.com/profile"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="LinkedIn"
                        >
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="mailto:leahincom@gmail.com"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Mail"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/atom.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="5"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            Hooks
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2021-05-05T23:44:17+09:00">
	
		    May 05, 2021
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/SOPT/">SOPT</a>, <a class="category-link" href="/categories/SOPT/THUREE/">THUREE</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <h2 id="Hooks"><a href="#Hooks" class="headerlink" title="Hooks"></a>Hooks</h2><br />



<h3 id="ê¸°ë³¸-Hook"><a href="#ê¸°ë³¸-Hook" class="headerlink" title="ê¸°ë³¸ Hook"></a>ê¸°ë³¸ Hook</h3><br />



<h4 id="useState"><a href="#useState" class="headerlink" title="useState"></a>useState</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [state, setState] = useState(initialState);</span><br></pre></td></tr></table></figure>
<ul>
<li><p><code>useState()</code> : <code>state</code> ì™€ <code>setState</code> ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜</p>
<ul>
<li><code>initialState</code> : ì´ˆê¸°ê°’<ul>
<li>ë³´í†µ <code>null</code> ì´ë‚˜ <code>&quot;&quot;</code> ë“±ì˜ default valueë¡œ ì„¤ì •í•œë‹¤.</li>
</ul>
</li>
</ul>
</li>
<li><p><code>state</code> : ìƒíƒœ ìœ ì§€ (ì €ì¥) ê°’</p>
<ul>
<li>ìµœì´ˆ ë Œë”ë§ ì‹œ ë°˜í™˜ëœ <code>state</code> ëŠ” <code>initialValue</code> ì´ë‹¤.</li>
</ul>
</li>
<li><p><code>setState</code> : <code>state</code> ê°’ì„ ê°±ì‹ í•˜ëŠ” í•¨ìˆ˜</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setState(newState);</span><br></pre></td></tr></table></figure>
<ul>
<li>ìƒˆ <code>state</code> ê°’ì„ ë°›ìœ¼ë©´ ì»´í¬ë„ŒíŠ¸ ë¦¬ë Œë”ë§ì„ íì— ë“±ë¡í•œë‹¤.</li>
<li>ë¦¬ë Œë”ë§ ì‹œ <code>useState</code> ê°€ ë°˜í™˜í•˜ëŠ” ì²«ë²ˆì§¸ ê°’ (ì¸ì) ì€ ê°±ì‹ ëœ ìµœì‹  <code>state</code> ì´ë‹¤.</li>
</ul>
</li>
</ul>
<br />



<blockquote>
<p>Note</p>
<p>React guarantees that <code>setState</code> function identity is stable and wonâ€™t change on re-renders. This is why itâ€™s safe to omit from the <code>useEffect</code> or <code>useCallback</code> dependency list.</p>
</blockquote>
<br />

<h5 id="Functional-Updates"><a href="#Functional-Updates" class="headerlink" title="Functional Updates"></a>Functional Updates</h5><blockquote>
<p> í•¨ìˆ˜ì  ê°±ì‹ </p>
</blockquote>
<br />



<ol>
<li><p><code>setState</code> ê°€ ê°’ì„ ê°±ì‹ í•˜ëŠ” ê³¼ì •ì„ ì§ì ‘ ì½”ë“œë¡œ ì‘ì„±í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [state, setState] = useState(&#123;&#125;);</span><br><span class="line">setState(<span class="function"><span class="params">prevState</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// Object.assign would also work</span></span><br><span class="line">  <span class="keyword">return</span> &#123;...prevState, ...updatedValues&#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ê°±ì‹ ëœ ê°ì²´ë¥¼ ìë™ìœ¼ë¡œ mergeí•˜ëŠ” <code> useState</code> ì™€ ë°˜ëŒ€ë¡œ, <code>setState</code> ëŠ” <code>initialValue</code> ë¥¼ ìœ ì§€í•œë‹¤.</p>
</blockquote>
<p>ì´ì „ <code>state</code> ë¥¼ ì´ìš©í•´ì„œ ê°’ì„ <strong>ê°±ì‹ </strong>í•˜ëŠ” ê²½ìš°, ì´ì „ ê°’ì„ ë°›ì•„ ê°±ì‹ ëœ ê°’ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ <code>setState</code> ë¡œ ì „ë‹¬í•˜ë©´ ëœë‹¤.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Counter</span> (<span class="params">&#123; initialCount &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(initialCount);</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      Count: &#123;count&#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// ì´ˆê¸°í™”</span></span><br><span class="line">      &lt;button onClick=&#123;<span class="function">() =&gt;</span> setCount(initialCount)&#125;&gt;Reset&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// ì´ì „ ê°’ì„ ì´ìš©í•´ì„œ ê°’ì„ ê°±ì‹ í•˜ëŠ” ê²½ìš°</span></span><br><span class="line">			<span class="comment">// parameter value : í˜„ì¬ ê°’</span></span><br><span class="line">			<span class="comment">// return value : ê°±ì‹ í•  ê°’</span></span><br><span class="line">      &lt;button onClick=&#123;<span class="function">() =&gt;</span> setCount(<span class="function"><span class="params">prevCount</span> =&gt;</span> prevCount - <span class="number">1</span>)&#125;&gt;-&lt;/button&gt;</span><br><span class="line">      &lt;button onClick=&#123;<span class="function">() =&gt;</span> setCount(<span class="function"><span class="params">prevCount</span> =&gt;</span> prevCount + <span class="number">1</span>)&#125;&gt;+&lt;/button&gt;</span><br><span class="line">    &lt;/&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br />



</li>
</ol>
<blockquote>
<p>Note</p>
<p>Another option is <code>useReducer</code>, which is more suited for managing state objects that contain multiple sub-values.</p>
</blockquote>
<br />



<ol start="2">
<li>ì—…ë°ì´íŠ¸ í•¨ìˆ˜ (setStateì— ì „ë‹¬í•œ í•¨ìˆ˜) ê°€ í˜„ì¬ ìƒíƒœì™€ ì •í™•íˆ ë™ì¼í•œ ê°’ì„ ë°˜í™˜í•œë‹¤ë©´ ë°”ë¡œ ë’¤ì— ì¼ì–´ë‚  ë¦¬ë Œë”ë§ì€ ì™„ì „íˆ ê±´ë„ˆë›°ê²Œ ëœë‹¤.</li>
</ol>
<br />



<blockquote>
<p><strong>Reactì—ì„œ <code>&#123;&#125;</code> ë¥¼ ì“°ëŠ” ê²½ìš°</strong></p>
<ul>
<li>JSX ë‚´ë¶€ì—ì„œëŠ” ê°ì²´ë¥¼ ë°›ì•„ì˜´<ul>
<li><code>&#123;&#123;&#125;&#125;</code> : ê°ì²´ë¥¼ ë°›ì•„ì˜¤ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ JSX ë‚´ë¶€ì—ì„œ ìƒì„±í•  ë•Œ</li>
</ul>
</li>
<li>JSX ì™¸ë¶€ì—ì„œëŠ” ì¼ë°˜ JSì˜ ë¬¸ë²• ì¤‘ function destructurizingì„ ì‹¤í–‰</li>
</ul>
</blockquote>
<br />



<h5 id="Lazy-Initial-State"><a href="#Lazy-Initial-State" class="headerlink" title="Lazy Initial State"></a>Lazy Initial State</h5><blockquote>
<p> ì§€ì—° ì´ˆê¸° state</p>
</blockquote>
<br />



<p><code>initialState</code> ì¸ìëŠ” ì´ˆê¸° ë Œë”ë§ ì‹œì— ì‚¬ìš©í•˜ëŠ” <code>state (ê°’)</code> ìœ¼ë¡œ, ë¦¬ë Œë”ë§ ì‹œ ì´ ê°’ì€ ë¬´ì‹œëœë‹¤.</p>
<p>ë§Œì•½ ì´ˆê¸° stateê°€ ê³ ë¹„ìš© ê³„ì‚°ì˜ ê²°ê³¼ë¼ë©´, ì´ˆê¸° ë Œë”ë§ ì‹œì—ë§Œ ì‹¤í–‰ë  í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ì—¬ ì „ë‹¬í•˜ëŠ” ê²ƒì´ íš¨ìœ¨ì ì´ë‹¤.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [state, setState] = useState(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> initialState = someExpensiveComputation(props);</span><br><span class="line">  <span class="keyword">return</span> initialState;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<br />



<h5 id="Bailing-Out-of-a-State-Update"><a href="#Bailing-Out-of-a-State-Update" class="headerlink" title="Bailing Out of a State Update"></a>Bailing Out of a State Update</h5><blockquote>
<p>state ê°±ì‹ ì˜ ì·¨ì†Œ</p>
</blockquote>
<br />



<p>ì•ì„œ ì„¤ëª…í•œ <em>â€œì—…ë°ì´íŠ¸ í•¨ìˆ˜ (setStateì— ì „ë‹¬í•œ í•¨ìˆ˜) ê°€ í˜„ì¬ ìƒíƒœì™€ ì •í™•íˆ ë™ì¼í•œ ê°’ì„ ë°˜í™˜í•œë‹¤ë©´ ë°”ë¡œ ë’¤ì— ì¼ì–´ë‚  ë¦¬ë Œë”ë§ì€ ì™„ì „íˆ ê±´ë„ˆë›°ê²Œ ëœë‹¤.â€</em> ë¥¼ ì¶”ê°€ì ìœ¼ë¡œ ì„¤ëª…í•˜ìë©´,</p>
<p>State Hookì„ í˜„ì¬ stateì™€ ë™ì¼í•œ ê°’ìœ¼ë¡œ ê°±ì‹  (update) í•  ê²½ìš°, ë¦¬ì•¡íŠ¸ëŠ” children or firing effectsë¥¼ ë Œë”ë§í•˜ëŠ” ê³¼ì •ì„ ê±´ë„ˆë›°ê³  ì‹¤í–‰ (ì²˜ë¦¬) ì„ ì¢…ë£Œí•œë‹¤.</p>
<br />



<blockquote>
<p>Note</p>
<p>React may still need to render that specific component again before bailing out. That shouldnâ€™t be a concern because React wonâ€™t unnecessarily go â€œdeeperâ€ into the tree. If youâ€™re doing expensive calculations while rendering, you can optimize them with <code>useMemo</code>.</p>
</blockquote>
<br />



<h4 id="useEffect"><a href="#useEffect" class="headerlink" title="useEffect"></a>useEffect</h4><p>í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ ë‚´ì—ì„œëŠ” <em>Reactâ€™s render phase</em>ì— ë”°ë¼ <em>Mutations, subscriptions, timers, logging, and other side effects</em> ê°€ í—ˆìš©ë˜ì§€ ì•ŠëŠ”ë‹¤.</p>
<p>ì´ë¥¼ ìœ„í•´ <code>useEffect</code> ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useEffect(didUpdate);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>useEffect()</code> : ëª¨ë“  ë Œë”ë§ì´ ì™„ë£Œëœ í›„ / ì–´ë–¤ ê°’ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œì—ë§Œ ë™ì‘ ( <code>didUpdate</code> ) ì„ ìˆ˜í–‰</li>
<li><code>didUpdate</code> : íŠ¹ì • effectë¥¼ ë°œìƒì‹œí‚¤ëŠ” (ëª…ë ¹í˜•) í•¨ìˆ˜</li>
</ul>
<br />



<h5 id="Cleaning-Up-an-Effect"><a href="#Cleaning-Up-an-Effect" class="headerlink" title="Cleaning Up an Effect"></a>Cleaning Up an Effect</h5><blockquote>
<p>effect ì •ë¦¬</p>
</blockquote>
<br />



<p>EffectëŠ” ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì—ì„œ ì œê±°ë  ë•Œ ì •ë¦¬ë˜ì–´ì•¼ í•˜ëŠ” ìš”ì†Œ (e.g. subscription, timer ID ë“±) ë¥¼ ë§Œë“¤ê³¤ í•œë‹¤. ì´ë¥¼ ì •ë¦¬í•˜ëŠ” í•¨ìˆ˜ë¥¼ <code>useEffect</code> ì— ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">useEffect(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// new subscription is created on every update</span></span><br><span class="line">  <span class="keyword">const</span> subscription = props.source.subscribe();</span><br><span class="line">  <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// Clean up the subscription</span></span><br><span class="line">    subscription.unsubscribe();</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>clean-up function</code> (e.g. <code>subscription.unsubscribe()</code> )ì€ <strong>ì»´í¬ë„ŒíŠ¸ê°€ ì œê±°ë˜ê¸°(=== ë‹¤ìŒì˜ effect) <em>ì´ì „</em> ì— ì‹¤í–‰ë˜ì–´</strong> memory leaksë¥¼ ë°©ì§€í•œë‹¤.</li>
<li>ì»´í¬ë„ŒíŠ¸ê°€ ì—¬ëŸ¬ë²ˆ ë¦¬ë Œë”ë§ ë  ê²½ìš°, <strong>ì´ì „ì˜ effectëŠ” ë‹¤ìŒì˜ effectê°€ ì‹¤í–‰ë˜ê¸° <em>ì´ì „</em> ì— ì •ë¦¬ëœë‹¤.</strong></li>
</ul>
<br />



<h5 id="Timing-of-Effects"><a href="#Timing-of-Effects" class="headerlink" title="Timing of Effects"></a>Timing of Effects</h5><blockquote>
<p>effect íƒ€ì´ë°</p>
</blockquote>
<br />



<p><code>useEffect</code>ì— ì „ë‹¬ëœ í•¨ìˆ˜ì˜ ê²½ìš° ë ˆì´ì•„ì›ƒ ë°°ì¹˜ê³¼ ê·¸ë¦¬ê¸°ë¥¼ ì™„ë£Œí•œ í›„, ì§€ì—°ëœ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ëŠ” ë™ì•ˆ ì‹¤í–‰ëœë‹¤. ì´ëŠ” ë¸Œë¼ìš°ì €ê°€ í™”ë©´ì„ ì—…ë°ì´íŠ¸í•˜ëŠ” ê³¼ì •ì„ ë°©í•´í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì—, ì—¬ëŸ¬ <em>side effects (e.g. setting up subscriptions and event handlers)</em> ë¥¼ ì‹¤í–‰í•˜ê¸°ì— ì í•©í•œ ë•Œì´ë‹¤.</p>
<p><code>useEffect</code> ëŠ” ë¸Œë¼ìš°ì €ê°€ ê·¸ë ¤ì§€ê¸° ì´ì „ê¹Œì§€ëŠ” ëŒ€ê¸°í•˜ì§€ë§Œ, ìƒˆë¡œìš´ ë Œë”ë§ì´ ë°œìƒí•˜ê¸° ì´ì „ì— ì‹¤í–‰ë˜ëŠ” ê²ƒì„ ë³´ì¥í•œë‹¤. ë¦¬ì•¡íŠ¸ëŠ” ì–¸ì œë‚˜ ìƒˆë¡œìš´ ì—…ë°ì´íŠ¸ê°€ ë°œìƒí•˜ê¸° ì´ì „ì— ì´ì „ì˜ ë Œë”ë§ effectë¥¼ ëª¨ë‘ ì œê±°í•œë‹¤.</p>
<br />



<blockquote>
<p><code>useLayoutEffect</code></p>
<p>DOM ë³€ê²½ê³¼ ê°™ì´ ì‚¬ìš©ìì—ê²Œ effectê°€ ë³´ì—¬ì§€ëŠ” ê²½ìš°, visual inconsistency ë°©ì§€ë¥¼ ìœ„í•´ ë‹¤ìŒ execution (event) ì´ ì‹¤í–‰ë˜ê¸° ì´ì „ì— í˜„ì¬ í™”ë©´ì´ ë Œë”ë§ì´ ë¨ê³¼ ë™ì‹œì— effectê°€ (<em>synchronously</em>) ë°œìƒí•˜ì—¬ì•¼ í•œë‹¤.</p>
</blockquote>
<br />



<h5 id="Conditionally-Firing-an-Effect"><a href="#Conditionally-Firing-an-Effect" class="headerlink" title="Conditionally Firing an Effect"></a>Conditionally Firing an Effect</h5><blockquote>
<p>ì¡°ê±´ë¶€ effect ë°œìƒ</p>
</blockquote>
<br />



<p>Effectì˜ default behaviorì€ ë Œë”ë§ì´ ëª¨ë‘ ì™„ë£Œëœ ì´í›„ ì‹¤í–‰ë˜ëŠ” ê²ƒì´ë‹¤. ì´ëŠ” í•´ë‹¹ effectì˜ dependency ì¤‘ í•˜ë‚˜ê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ìƒˆë¡œ ì‹¤í–‰ë¨ì„ ì˜ë¯¸í•œë‹¤.</p>
<p>ì•ì„  ì˜ˆì œë¥¼ í†µí•´ì„œ ìì„¸íˆ ë³´ë©´,</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">useEffect(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// new subscription is created on every update</span></span><br><span class="line">  <span class="keyword">const</span> subscription = props.source.subscribe();</span><br><span class="line">  <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// Clean up the subscription</span></span><br><span class="line">    subscription.unsubscribe();</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><code>subscription</code> ì€ ë§¤ ì—…ë°ì´íŠ¸ë§ˆë‹¤ ìƒì„±ë  í•„ìš” ì—†ì´, <code>source prop</code> ì´ ë³€í•  ë•Œë§Œ ìƒˆë¡œ ìƒì„±ë˜ë©´ ëœë‹¤.</p>
<p>ì´ì™€ ê°™ì€ í˜„ìƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´, <code> useEffect</code> ì˜ 2ë²ˆì§¸ argumentë¡œ effectê°€ ì˜ì¡´í•˜ëŠ” (<em>depend on, dependency</em>) ë°°ì—´ì„ ì „ë‹¬í•œë‹¤.</p>
<p>ë”°ë¼ì„œ ìœ„ ì˜ˆì œë¥¼ ìˆ˜ì •í•´ë³´ë©´,</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">useEffect(</span><br><span class="line">  <span class="comment">// ì „ë‹¬í•˜ëŠ” í•¨ìˆ˜ëŠ” ë™ì¼í•˜ë˜,</span></span><br><span class="line">  () =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> subscription = props.source.subscribe();</span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      subscription.unsubscribe();</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ë‘ë²ˆì§¸ ì¸ìë¡œ dependency array (depend oní•˜ëŠ” ë°°ì—´) ì„ ì „ë‹¬í•œë‹¤.</span></span><br><span class="line">  [props.source],</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>ì´ë¥¼ í†µí•´ <code>subscription</code>ì€ <code>props.source</code>ê°€ ë³€ê²½ë  ë•Œì—ë§Œ ì¬ìƒì„±ëœë‹¤.</p>
<br />



<p>ë§Œì•½ effectë¥¼ (mount ë˜ëŠ” unmount ì‹œ) í•œ ë²ˆë§Œ ìˆ˜í–‰í•˜ê³  ì‹¶ë‹¤ë©´ ë‘ë²ˆì§¸ ì¸ìë¡œ ë¹ˆ ë°°ì—´ ( <code>[]</code> ) ì„ ì „ë‹¬í•˜ë©´ ëœë‹¤. ì´ë¥¼ í†µí•´ effectëŠ” ì»´í¬ë„ŒíŠ¸ ë²”ìœ„ì—ì„œ ê°€ì ¸ì˜¨ ê°’ë“¤ (e.g. props, state ë“±) ì— ì „í˜€ ì˜ì¡´í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ í•´ë‹¹ ê°’ë“¤ì´ ë³€ê²½ë˜ì–´ë„ ë‹¤ì‹œ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤.</p>
<p>ë¹ˆ ë°°ì—´ ( <code>[]</code> ) ì€ effect ì•ˆì— ìˆëŠ” <code>props</code> ì™€ <code>state</code> ê°€ í•­ìƒ ì´ˆê¸°ê°’ì„ ê°€ì§€ê²Œ ë¨ì„ ì˜ë¯¸í•œë‹¤. ì´ëŠ” <code>componentDidMount</code> ì™€ <code>componentWillUnMount</code> ì˜ ê¸°ëŠ¥ê³¼ ê°™ë‹¤.</p>
<br />



<blockquote>
<p>ë‘ë²ˆì§¸ ì¸ìë¡œ ì „ë‹¬í•˜ëŠ” ë°°ì—´ì€ effectì— ì‚¬ìš©ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ ë²”ìœ„ì˜ ëª¨ë“  ê°’ (e.g. props, state ë“±) ë“¤ì„ í¬í•¨í•´ì•¼ í•œë‹¤. ì´ë¥¼ ìœ„ë°˜í•  ì‹œ ì´ì „ ë Œë”ë§ì—ì„œ ì„¤ì •í•œ ê°’ì„ ì°¸ì¡°í•˜ëŠ” ë²„ê·¸ê°€ ë°œìƒí•œë‹¤.</p>
<p>ì´ë ‡ê²Œ ì „ë‹¬ëœ dependency ë°°ì—´ì€ effect í•¨ìˆ˜ì— ì¸ìë¡œ ì „ë‹¬ë˜ì§€ ì•ŠëŠ”ë‹¤. í•˜ì§€ë§Œ effect í•¨ìˆ˜ ë‚´ì—ì„œ ì°¸ì¡°ëœ ëª¨ë“  ê°’ë“¤ì´ í•´ë‹¹ ë°°ì—´ì— í¬í•¨ë˜ì–´ì•¼ í•˜ë¯€ë¡œ, ì „ë‹¬ ì—¬ë¶€ëŠ” ìœ ì˜ë¯¸í•˜ì§€ ì•Šë‹¤.</p>
</blockquote>
<br />



<h4 id="useContext"><a href="#useContext" class="headerlink" title="useContext"></a>useContext</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> value = useContext(MyContext);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>useContext()</code> : <em>( <code>React.createContext</code> ë¥¼ í†µí•´ ë°˜í™˜ëœ ê°’ì¸ )</em> context ê°ì²´ì— **í˜„ì¬ context ê°’ (<code>MyContext</code>) **ì„ ë°˜í™˜í•œë‹¤.<ul>
<li>ê°€ì¥ ê°€ê¹Œìš´ ìƒìœ„ ì»´í¬ë„ŒíŠ¸ <code>&lt;MyContext.Provider&gt;</code> ê°€ ì—…ë°ì´íŠ¸ ë˜ë©´, <code>useContext</code> ëŠ” í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì— ì „ë‹¬ (í¬í•¨) ëœ <strong>ê°€ì¥ ìµœì‹ </strong>ì˜ context value ì— ë”°ë¼ í™”ë©´ì„ ë¦¬ë Œë”ë§ í•œë‹¤.</li>
</ul>
</li>
<li><code>MyContext</code> : <strong>í˜„ì¬ context ê°’ (ê°ì²´)</strong> ìœ¼ë¡œ, íŠ¸ë¦¬ êµ¬ì¡°ì—ì„œ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì˜ <strong>ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì´ë©´ì„œ ê°€ì¥ ê°€ê¹Œìš´</strong> <code>&lt;MyContext.Provider&gt;</code> ì˜ <code>value prop</code> ì— ë”°ë¼ ê²°ì •ëœë‹¤.<ul>
<li><code>useContext()</code> ì˜ ì¸ìëŠ” <strong>context ê°ì²´</strong>ì—¬ì•¼ í•œë‹¤.<ul>
<li><strong>Correct:</strong> <code>useContext(MyContext)</code></li>
<li><strong>Incorrect:</strong> <code>useContext(MyContext.Consumer)</code></li>
<li><strong>Incorrect:</strong> <code>useContext(MyContext.Provider)</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<br />



<p><code>useContext</code> ë¥¼ ì‚¬ìš©í•œ ì»´í¬ë„ŒíŠ¸ëŠ” context ê°’ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ ë¦¬ë Œë”ë§ëœë‹¤. ë¦¬ë Œë”ë§ ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë¹„ì‹¸ë‹¤ë©´, <code>momoization</code> ì„ ì´ìš©í•´ íš¨ìœ¨ì„±ì„ ë†’ì¼ ìˆ˜ ìˆë‹¤.</p>
<blockquote>
<p>ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ <code>React.memo</code> ë‚˜ <code>shouldComponentUpdate</code> ë¥¼ ì“°ë”ë¼ë„, <code>useContext</code> ë¥¼ ì‚¬ìš©í•œ ì»´í¬ë„ŒíŠ¸ë¶€í„° ë¦¬ë Œë”ë§ì´ ì§„í–‰ (ì‹œì‘) ëœë‹¤.</p>
</blockquote>
<br />



<p><code>useContext</code> ëŠ” contextë¥¼ <strong>ì½ê³  ë³€ê²½ì‚¬í•­ì„ êµ¬ë… (í™•ì¸)</strong> í•˜ëŠ” ê²ƒë§Œ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì—, í•´ë‹¹ contextì˜ ê°’ì„ <strong>ì „ë‹¬</strong>í•˜ê¸° ìœ„í•´ íŠ¸ë¦¬ êµ¬ì¡° ë‚´ ìƒìœ„ ì»´í¬ë„ŒíŠ¸ë¡œì„œ <code>&lt;MyContext.Provider&gt;</code> ê°€ í•„ìš”í•˜ë‹¤.</p>
<br />



<h5 id="Putting-it-together-with-Context-Provider"><a href="#Putting-it-together-with-Context-Provider" class="headerlink" title="Putting it together with Context.Provider"></a>Putting it together with Context.Provider</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> themes = &#123;</span><br><span class="line">  light: &#123;</span><br><span class="line">    foreground: <span class="string">&quot;#000000&quot;</span>,</span><br><span class="line">    background: <span class="string">&quot;#eeeeee&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  dark: &#123;</span><br><span class="line">    foreground: <span class="string">&quot;#ffffff&quot;</span>,</span><br><span class="line">    background: <span class="string">&quot;#222222&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> ThemeContext = React.createContext(themes.light);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;ThemeContext.Provider value=&#123;themes.dark&#125;&gt;</span><br><span class="line">      &lt;Toolbar /&gt;</span><br><span class="line">    &lt;/ThemeContext.Provider&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Toolbar</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;ThemedButton /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ThemedButton</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// useContextì˜ ì¸ìë¡œì„œ ThemeContext ê°ì²´ ì „ë‹¬</span></span><br><span class="line">  <span class="comment">// theme = &lt;ThemeContext.Provider&gt;ì˜ valueì¸ &#123;themes.dark&#125; // ê°ì²´</span></span><br><span class="line">  <span class="keyword">const</span> theme = useContext(ThemeContext);</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;button style=&#123;&#123; <span class="attr">background</span>: theme.background, <span class="attr">color</span>: theme.foreground &#125;&#125;&gt;</span><br><span class="line">      I am styled by theme context!</span><br><span class="line">    &lt;/button&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br />

<br />



<hr>
<h3 id="ì¶”ê°€-Hooks"><a href="#ì¶”ê°€-Hooks" class="headerlink" title="ì¶”ê°€ Hooks"></a>ì¶”ê°€ Hooks</h3><br />



<h4 id="useReducer"><a href="#useReducer" class="headerlink" title="useReducer"></a>useReducer</h4><p><code>useState()</code> ì˜ ëŒ€ì²´ì¬ë¡œì„œ ì‚¬ìš©í•œë‹¤. ì—¬ëŸ¬ í•˜ìœ„ ê°’ì„ í¬í•¨í•˜ê±°ë‚˜ ë‹¤ìŒ stateê°€ ì´ì „ì˜ state ê°’ì— ì˜í–¥ì„ ë°›ëŠ” ë³µì¡í•œ state ë¡œì§ì„ ê°€ì§„ ê²½ìš° ì„ í˜¸ëœë‹¤.</p>
<p>ì»´í¬ë„ŒíŠ¸ì˜ state ì—…ë°ì´íŠ¸ ë¡œì§ì„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë¶„ë¦¬í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ ë°”ê¹¥ì—ì„œ ì‘ì„±í•˜ê±°ë‚˜ ë‹¤ë¥¸ íŒŒì¼ì—ì„œ ì‘ì„±í•œ í›„ ë¶ˆëŸ¬ì™€ì„œ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤.</p>
<p>ë˜í•œ <code>callback</code> ëŒ€ì‹  <code>dispatch</code>ë¥¼ ì „ë‹¬í•œ ìˆ˜ ìˆì–´ <strong>deep update</strong>ë¥¼ ìš”êµ¬í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì˜ ê²½ìš° performanceë¥¼ ìµœì í™”í•  ìˆ˜ ìˆë‹¤.</p>
<blockquote>
<p><em>What is <strong>deep update</strong> in React?</em></p>
<p>ë¨¼ì €, Reactì—ì„œ <strong>update</strong>ë€; <code>useState()</code> ë¥¼ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©ê°€ëŠ¥í•œ í•¨ìˆ˜ë¡œ, ì»´í¬ë„ŒíŠ¸ stateê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œ ë¦¬ì•¡íŠ¸ì—ê²Œ ì´ë¥¼ ì•Œë¦¼ìœ¼ë¡œì¨ í•´ë‹¹ stateì— ì¢…ì†ëœ UIë¥¼ ì—…ë°ì´íŠ¸í•˜ê¸° ìœ„í•´ ì»´í¬ë„ŒíŠ¸ì—ê²Œ ë¦¬ë Œë”ë§ì´ í•„ìš”í•˜ë‹¤ëŠ” ê²ƒì„ ì „ë‹¬í•œë‹¤. </p>
<p>ë”°ë¼ì„œ, <strong>deep update</strong>ë€ <em>deep nested ê°ì²´ (many pieces of informationê³¼ fixed ìŠ¤í‚¤ë§ˆë¥¼ ê°€ì§„) ë¥¼ update</em> í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. </p>
</blockquote>
<br />



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [state, dispatch] = useReducer(reducer, initialArg, init);</span><br></pre></td></tr></table></figure>
<ul>
<li><p><code>useReducer()</code> : <code>reducer</code> ë¥¼ ë°›ì•„ í˜„ì¬ <code>state</code>ì™€ ì§ì§€ì–´ì§„ <code>dispatch</code> í•¨ìˆ˜ë¥¼ ë°˜í™˜í•œë‹¤.</p>
</li>
<li><p><code>reducer</code> : í˜„ì¬ <code>state</code>ì™€ <code>action</code> ê°ì²´ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì•„ì™€ì„œ ( <code>(state, action)</code> ) ìƒˆë¡œìš´ stateë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜</p>
<ul>
<li><p><code>(state, action) =&gt; newState</code> ì˜ êµ¬ì¡°ë¥¼ ê°€ì§„ë‹¤.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reducer</span>(<span class="params">state, action</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ìƒˆë¡œìš´ stateë¥¼ ë§Œë“œëŠ” ë¡œì§</span></span><br><span class="line">  <span class="comment">// const nextState = ...</span></span><br><span class="line">  <span class="keyword">return</span> nextState;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>ë°˜í™˜í•˜ëŠ” í•´ë‹¹ stateëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ì§€ë‹ <strong>ìƒˆë¡œìš´ state</strong>ê°€ ëœë‹¤.</p>
</li>
<li><p><code>action</code> : ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•œ ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆë‹¤.</p>
<ul>
<li><p>ì£¼ë¡œ <code>type</code> ê°’ì„ ì§€ë‹Œ ê°ì²´ í˜•íƒœë¡œ ì‚¬ìš©í•œë‹¤.</p>
<blockquote>
<p><code> type</code> ì˜ ê²½ìš°, <strong>ëŒ€ë¬¸ì</strong> ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ <code>_</code> ë¡œ ì‹œì‘í•˜ëŠ” ê´€ìŠµì´ ìˆë‹¤.</p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
<li><p><code>state</code> : ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìƒíƒœ</p>
</li>
<li><p><code>dispatch</code> : <code>action</code> ì„ (ì¸ìë¡œ ë°›ì•„) ë°œìƒì‹œí‚¤ëŠ” í•¨ìˆ˜</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dispatch(&#123; <span class="attr">type</span>: <span class="string">&#x27;INCREMENT&#x27;</span> &#125;)</span><br></pre></td></tr></table></figure>
<br />



</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initialState = &#123;<span class="attr">count</span>: <span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reducer</span>(<span class="params">state, action</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">switch</span> (action.type) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;increment&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> &#123;<span class="attr">count</span>: state.count + <span class="number">1</span>&#125;;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;decrement&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> &#123;<span class="attr">count</span>: state.count - <span class="number">1</span>&#125;;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Counter</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [state, dispatch] = useReducer(reducer, initialState);</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      Count: &#123;state.count&#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// dispatchì˜ ì¸ìë¡œ action (type) ì „ë‹¬</span></span><br><span class="line">      &lt;button onClick=&#123;<span class="function">() =&gt;</span> dispatch(&#123;<span class="attr">type</span>: <span class="string">&#x27;decrement&#x27;</span>&#125;)&#125;&gt;-&lt;/button&gt;</span><br><span class="line">      &lt;button onClick=&#123;<span class="function">() =&gt;</span> dispatch(&#123;<span class="attr">type</span>: <span class="string">&#x27;increment&#x27;</span>&#125;)&#125;&gt;+&lt;/button&gt;</span><br><span class="line">    &lt;/&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br />



<blockquote>
<p>Note</p>
<p>ë¦¬ì•¡íŠ¸ëŠ” ë¦¬ë Œë”ë§ì´ ë˜ë”ë¼ë„ dispatch í•¨ìˆ˜ì˜ identity ëŠ” ë™ì¼í•˜ê²Œ ìœ ì§€í•˜ê¸° ë•Œë¬¸ì—, useEffect ë‚˜ useCallback ì˜ dependency listì— í¬í•¨í•˜ì§€ ì•ŠëŠ”ë‹¤.</p>
</blockquote>
<br />



<h5 id="Specifying-the-Initial-State"><a href="#Specifying-the-Initial-State" class="headerlink" title="Specifying the Initial State"></a>Specifying the Initial State</h5><blockquote>
<p>ì´ˆê¸° stateì˜ êµ¬ì²´í™”</p>
</blockquote>
<br />



<p>useReducer() ì˜ stateë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ë°©ë²•ì—ëŠ” 2ê°€ì§€ê°€ ìˆë‹¤.</p>
<ol>
<li>ê°€ì¥ ê°„ë‹¨í•œ ë°©ë²•ìœ¼ë¡œëŠ”, initial stateë¥¼ 2ë²ˆì§¸ ì¸ìë¡œ ì „ë‹¬í•˜ëŠ” ë°©ë²•ì´ ìˆë‹¤.</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [state, dispatch] = useReducer(</span><br><span class="line">	reducer,</span><br><span class="line">  &#123;<span class="attr">count</span>: initialCount&#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<br />



<h5 id="Lazy-Initialization"><a href="#Lazy-Initialization" class="headerlink" title="Lazy Initialization"></a>Lazy Initialization</h5><blockquote>
<p> ì´ˆê¸°í™” ì§€ì—°</p>
</blockquote>
<br />



<ol start="2">
<li>initial stateë¥¼ lazily ìƒì„±í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ, init í•¨ìˆ˜ë¥¼ 3ë²ˆì§¸ ì¸ìë¡œ ì „ë‹¬í•˜ì—¬ initial stateë¥¼ init(initialArg) ë¡œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.<ul>
<li>initial state ë¥¼ ê³„ì‚°í•˜ëŠ” ë¡œì§ì„ reducer ë°–ì— ì •ì˜í•˜ì—¬ action ì— ë”°ë¥¸ state ì¬ì„¤ì • ì‹œ ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li>
</ul>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// initialization í•¨ìˆ˜ë¥¼ ì™¸ë¶€ì— ì •ì˜</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params">initialCount</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;<span class="attr">count</span>: initialCount&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reducer</span>(<span class="params">state, action</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">switch</span> (action.type) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;increment&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> &#123;<span class="attr">count</span>: state.count + <span class="number">1</span>&#125;;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;decrement&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> &#123;<span class="attr">count</span>: state.count - <span class="number">1</span>&#125;;</span><br><span class="line">      </span><br><span class="line">    <span class="comment">// ì¬ì„¤ì • ì‹œ init í•¨ìˆ˜ í˜¸ì¶œ</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;reset&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> init(action.payload);</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Counter</span>(<span class="params">&#123;initialCount&#125;</span>) </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 3ê°œì˜ ì¸ì ì „ë‹¬ (reducer, initial_value, initialization_function)</span></span><br><span class="line">  <span class="keyword">const</span> [state, dispatch] = useReducer(reducer, initialCount, init);</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      Count: &#123;state.count&#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// ì¬ì„¤ì • ì‹œ action ê°ì²´ì— &#123;type, payload&#125; ì „ë‹¬</span></span><br><span class="line">      &lt;button</span><br><span class="line">        onClick=&#123;<span class="function">() =&gt;</span> dispatch(&#123;<span class="attr">type</span>: <span class="string">&#x27;reset&#x27;</span>, <span class="attr">payload</span>: initialCount&#125;)&#125;&gt;</span><br><span class="line">        Reset</span><br><span class="line">      &lt;/button&gt;</span><br><span class="line">      &lt;button onClick=&#123;<span class="function">() =&gt;</span> dispatch(&#123;<span class="attr">type</span>: <span class="string">&#x27;decrement&#x27;</span>&#125;)&#125;&gt;-&lt;/button&gt;</span><br><span class="line">      &lt;button onClick=&#123;<span class="function">() =&gt;</span> dispatch(&#123;<span class="attr">type</span>: <span class="string">&#x27;increment&#x27;</span>&#125;)&#125;&gt;+&lt;/button&gt;</span><br><span class="line">    &lt;/&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>payload</code></p>
<p>ì „ì†¡ë˜ëŠ” ë°ì´í„°</p>
</blockquote>
<br />



<h5 id="Bailing-Out-of-a-Dispatch"><a href="#Bailing-Out-of-a-Dispatch" class="headerlink" title="Bailing Out of a Dispatch"></a>Bailing Out of a Dispatch</h5><blockquote>
<p> dispatchì˜ íšŒí”¼</p>
</blockquote>
<br />



<p>ì•ì„œ <code>useState()</code> ì—ì„œ ì„¤ëª…í•œ ê²ƒê³¼ ê°™ì´, Reducer Hook ( <code>useReducer()</code> ) ì´ í˜„ì¬ stateê³¼ ë™ì¼í•œ ê°’ì„ ë°˜í™˜í•  ê²½ìš°, ìì‹ì„ ë Œë”ë§í•˜ê±°ë‚˜ effectë¥¼ ì‹¤í–‰í•˜ì§€ ì•Šê³  ì²˜ë¦¬ (i.e. ë Œë”ë§, ì´ë²¤íŠ¸) ë¥¼ ì¢…ë£Œí•œë‹¤.</p>
<blockquote>
<p><strong><code>Object.is()</code> comparison ì•Œê³ ë¦¬ì¦˜</strong>ì„ ì´ìš©</p>
</blockquote>
<p>ì²˜ë¦¬ë¥¼ ì¢…ë£Œí•˜ê¸° ì „ì— í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë¥¼ ë‹¤ì‹œ ë Œë”ë§í•´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ì¡´ì¬í•˜ì§€ë§Œ, ê·¸ ì´ìƒìœ¼ë¡œ ê¹Šê²Œ íŠ¸ë¦¬ë¥¼ íƒìƒ‰í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë¬¸ì œê°€ ë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. ë§Œì•½ ë Œë”ë§ì— <em>ë¹„ì‹¼ ê³„ì‚° ê³¼ì •</em> ì´ í¬í•¨ëœë‹¤ë©´, <code>useMemo()</code> ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>
<br />



<h4 id="useCallback"><a href="#useCallback" class="headerlink" title="useCallback"></a>useCallback</h4><p>memoized callback ì„ ë°˜í™˜í•œë‹¤.</p>
<br />



<blockquote>
<p><strong><code>memoization</code></strong></p>
<ol>
<li><p>ë¹„ì‹¼ í•¨ìˆ˜ì˜ í˜¸ì¶œ ê²°ê³¼ë¥¼ ì €ì¥í•˜ê³  ê°™ì€ inputì´ ë°œìƒí•  ê²½ìš° ì €ì¥ëœ (ìºì‹œ) ê°’ì„ ë°˜í™˜í•˜ì—¬ í”„ë¡œê·¸ë¨ì˜ ìˆ˜í–‰ ì†ë„ë¥¼ ì¦ê°€ì‹œí‚¤ëŠ” ìµœì í™” (optimization) ê¸°ìˆ </p>
</li>
<li><p>(some sort of) ìºì‹œë¥¼ ì´ìš©í•˜ì—¬ (ë¹„ì‹¼) í•¨ìˆ˜ë¥¼ ë¶€ë¥´ëŠ” íšŸìˆ˜ë¥¼ ì œí•œí•˜ëŠ” ê²ƒ</p>
<ul>
<li>íŠ¹ì • inputì— ëŒ€í•œ ìºì‹œê°’ì´ ì—†ë‹¤ë©´, original í•¨ìˆ˜ê°€ í•œë²ˆ í˜¸ì¶œë˜ì–´ (ìºì‹œ) mapì— ê²°ê³¼ê°’ì´ ì¶”ê°€ëœë‹¤.</li>
<li>ìºì‹œë¥¼ ì§€ìš°ì§€ ì•ŠëŠ” í•œ ê²°ê³¼ëŠ” ìºì‹œ mapì—ì„œ ë°˜í™˜ëœë‹¤.</li>
</ul>
</li>
</ol>
<br />



<p>ğŸ‘‰ <strong><code>useCallback</code> hook ì€ ë‹¤ë¥¸ ê¸°ëŠ¥ì„ í•œë‹¤.</strong></p>
</blockquote>
<p>ğŸŒˆ <strong><a target="_blank" rel="noopener" href="https://coder.earth/post/usecallback">REFERENCE</a>ë¥¼ ê¼­ ì½ì–´ë³´ì„¸ì—¼ (:-&gt;</strong></p>
<p><code>useCallback()</code> ì„ ì´ìš©í•˜ëŠ” ì´ìœ ëŠ”, callback í•¨ìˆ˜ì¸ <code>cb</code>ì˜ <strong>memoized ë²„ì „</strong>ì„ ë°›ê¸° ìœ„í•´ì„œì´ë‹¤.</p>
<p>ì»´í¬ë„ŒíŠ¸ê°€ ì²˜ìŒìœ¼ë¡œ ë Œë”ë§ë  ë•Œ, ìƒˆë¡œìš´ <code>cb</code> ê°€ ìƒì„±ë˜ê³  ë˜‘ê°™ì€ <code>cb</code> í•¨ìˆ˜ê°€ <code>useCallback()</code> ì— ì˜í•´ ë°˜í™˜ëœë‹¤.</p>
<img src="https://coder.earth/static/usecallback_1-aa6572c6cb98757914009ef9063d2204-04c70.png" align="center" />

<br />



<p>ìœ„ ì˜ˆì‹œì—ì„œ <code>memoizedCb()</code> ê°€ í˜¸ì¶œë˜ë©´, original <code>cb</code> ì½œë°±í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ì–´ ê²°ê³¼ì ìœ¼ë¡œ original <code>cb í•¨ìˆ˜</code>ë¥¼ í˜¸ì¶œí•œë‹¤.</p>
<p>ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ (2ë²ˆì§¸) ë˜ë©´, ìƒˆë¡œìš´ <code>cb</code> ê°€ ìƒì„±ëœë‹¤. í•˜ì§€ë§Œ <code>useCallback()</code> ì— ì „ë‹¬ëœ dependencyê°€ ë³€í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì—, ìƒì„±ëœ <code>cb</code>ëŠ” ë²„ë ¤ì§€ê³  <code>memoizedCb</code>ëŠ” ì²«ë²ˆì§¸ ë Œë”ë§ ë•Œ ìƒì„±ëœ <code>cb</code>ë¥¼ ìœ ì§€í•œë‹¤. ê²°êµ­ ì´ ë•Œì˜ <code>memoizedCb</code> í˜¸ì¶œì€ ì´ì „ê³¼ ê°™ì´ ê¸°ì¡´ì˜ (old) <code>cb</code> ë¥¼ í˜¸ì¶œí•˜ì—¬ original <code>cb í•¨ìˆ˜</code>ë¥¼ í˜¸ì¶œí•˜ê²Œ ëœë‹¤.</p>
<p>dependencyê°€ ë³€í•˜ì§€ ì•ŠëŠ” ì´ìƒ, ëª¨ë“  ë Œë”ë§ì€ ìœ„ì™€ ê°™ì€ ê³¼ì •ì„ ë°˜ë³µí•˜ì—¬ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì½œë°±í•¨ìˆ˜ë¥¼ ìƒì„±í•˜ê³  ê¸°ì¡´ì˜, memoized ì½œë°±ì„ í˜¸ì¶œí•˜ì—¬ ê²°êµ­ original <code>cb í•¨ìˆ˜</code>ë¥¼ í˜¸ì¶œí•œë‹¤.</p>
<img src="https://coder.earth/static/usecallback_5-0aacccaf0b04a87b0fa2cf7eab59baaf-04c70.png" align="center" />

<br />



<p>dependency ê°€ ë³€í•œ ê²½ìš°, <code>memoizedCb</code> ë„ ë³€í•œë‹¤.</p>
<p>ì´ì „ì˜ <code>memoizedCb</code> ê°€ ì²«ë²ˆì§¸ <code>cb</code>ë¥¼ í˜¸ì¶œí•˜ëŠ” ê³¼ì •ê³¼ ë¹„ìŠ·í•˜ê²Œ, ì´ ë•Œì˜ <code>memoizedCb</code> ë˜í•œ dependency ê°€ ë³€í•œ ì‹œì ë¶€í„° ì²«ë²ˆì§¸ <code>cb</code> ë¥¼ í˜¸ì¶œí•œë‹¤.</p>
<img src="https://coder.earth/static/usecallback_7-bd85d59569c0dc834c931abc121027b8-04c70.png" align="center" />

<br />



<blockquote>
<p><strong><code>callback</code></strong></p>
<p>íŠ¹ì • í•¨ìˆ˜ (ì½œë°±í•¨ìˆ˜) ë¥¼ ë‹¤ë¥¸ í•¨ìˆ˜ì— ì „ë‹¬í•˜ê³  ì´ë¥¼ í˜¸ì¶œí•˜ëŠ” íŠ¹ì • ì´ë²¤íŠ¸ (e.g. a query finished or an error occurs) ê°€ ë°œìƒí•˜ë©´ ì½œë°±í•¨ìˆ˜ë¥¼ ë°œìƒì‹œí‚¤ëŠ” ê²ƒ</p>
<ul>
<li>ì—¬ëŸ¬ ì¡°ê°ì˜ ì½”ë“œì˜ ì†Œí†µì„ ì •ì˜í•˜ì—¬, ì½œë°±í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ëª¨ë“ˆì´ ê²°ê³¼ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ í˜¸ì¶œì„ ë°›ëŠ” í•¨ìˆ˜ì— ì½œë°±í•¨ìˆ˜ë¥¼ ì „ë‹¬í•œë‹¤.</li>
<li>ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ì ì€, one piece of codeê°€ ì½œë°±í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ë‹¤ë¥¸ (ì¡°ê°ì˜) ì½”ë“œê°€ ì´ í˜¸ì¶œì„ ë°›ëŠ”ë‹¤ëŠ” ê²ƒì´ë‹¤. ì—¬ê¸°ì„œ ì–´ë– í•œ í˜¸ì¶œ ì½”ë“œë„ ìƒìœ¼ë©´ (ìƒëµë˜ë©´) ì•ˆ ë˜ê¸° ë•Œë¬¸ì—, ì½œë°±í•¨ìˆ˜ë¥¼ memoizingí•˜ì—¬ ëª¨ë“ˆ ê°„ ì†Œí†µ lineì„ ëŠëŠ” ë°©ë²•ì´ íƒ„ìƒí•œ ê²ƒì´ë‹¤.</li>
</ul>
</blockquote>
<p>ê²°ê³¼ì ìœ¼ë¡œ <code>useCallback()</code> ì´ í•˜ëŠ” ê²ƒì€ ë˜‘ê°™ì€ callback ì˜ íšŸìˆ˜ë¥¼ ì œí•œí•˜ëŠ” ê²ƒì´ë‹¤. ê²°ê³¼ê°’ë“¤ì€ ìºì‹œì—ì„œ ë°˜í™˜ë˜ì§€ ì•Šê³ , dependency ê°€ ë³€í•œ ì‹œì ìœ¼ë¡œë¶€í„° ì²«ë²ˆì§¸ì˜ <code>cb</code> ì™€ ê°™ì€ <code>memoizedCb</code> ë¥¼ ë°˜í™˜í•œë‹¤.</p>
<br />



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> memoizedCallback = useCallback(</span><br><span class="line">  () =&gt; &#123;</span><br><span class="line">    doSomething(a, b);</span><br><span class="line">  &#125;,</span><br><span class="line">  [a, b],</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>useCallback()</code> : inline callback í•¨ìˆ˜ì™€ dependencies ë°°ì—´ì„ ì „ë‹¬<ul>
<li><strong>memoized version of the callback</strong>ì„ ë°˜í™˜í•˜ë©°, dependenciesê°€ ë³€í–ˆì„ ë•Œë§Œ memoized version ë„ ë³€ê²½ëœë‹¤.</li>
<li><code>useCallback(fn, deps)</code> === <code>useMemo(() =&gt; fn, deps)</code></li>
</ul>
</li>
</ul>
<br />



<p>ë¶ˆí•„ìš”í•œ ë Œë”ë§ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ referenceì˜ ë™ì¼ì„±ì— ì˜ì¡´í•˜ëŠ” (ë™ì¼ì„±ì—ë§Œ ì˜í–¥ì„ ë°›ëŠ”) (ìµœì í™”ëœ) ìì‹ ì»´í¬ë„ŒíŠ¸ì— ì½œë°±í•¨ìˆ˜ë¥¼ ì „ë‹¬í•  ë•Œ ìœ ìš©í•˜ë‹¤.</p>
<blockquote>
<p>ì•ì„  <code>useEffect</code>ì™€ ë§ˆì°¬ê°€ì§€ë¡œ, dependencies ë°°ì—´ì€ ì½œë°±í•¨ìˆ˜ì— ì¸ìë¡œ ì „ë‹¬ë˜ì§€ ì•ŠëŠ”ë‹¤.</p>
<p>í•˜ì§€ë§Œ ì •ì˜ ìì²´ê°€, <em>â€œì½œë°±í•¨ìˆ˜ì—ì„œ ì°¸ì¡°í•˜ëŠ” ëª¨ë“  ê°’ë“¤ì€ dependencies ë°°ì—´ì— í¬í•¨ë˜ì–´ì•¼ í•œë‹¤â€</em> ì´ë‹¤.</p>
</blockquote>
<br />



<h4 id="useMemo"><a href="#useMemo" class="headerlink" title="useMemo"></a>useMemo</h4><p>memoized ê°’ì„ ë°˜í™˜í•œë‹¤.</p>
<blockquote>
<p><code>useMemo</code> vs. <code>useCallback</code></p>
<p><code>useCallback()</code> : í•¨ìˆ˜ ë°˜í™˜</p>
<p><code>useMemo()</code> : ê°’ ë°˜í™˜</p>
</blockquote>
<br />



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> memoizedValue = useMemo(<span class="function">() =&gt;</span> computeExpensiveValue(a, b), [a, b]);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>useMemo()</code> : <code>create í•¨ìˆ˜</code>ì™€ <code>dependencies ë°°ì—´</code> ì„ ì „ë‹¬<ul>
<li>dependency ê°€ ë³€í•  ë•Œì—ë§Œ memoized ê°’ì„ ë‹¤ì‹œ ê³„ì‚°í•œë‹¤. ì´ë¥¼ í†µí•´ ë¹„ì‹¼ ê³„ì‚° ê³¼ì •ì´ ë§¤ ë Œë”ë§ë§ˆë‹¤ ë°œìƒí•˜ëŠ” ê²ƒì„ ë°©ì§€í•œë‹¤.</li>
<li>2ë²ˆì§¸ ì¸ì (<code>dependencies ë°°ì—´</code> ë¡œì„œ) ì— ë¹ˆ ë°°ì—´ ( <code>[]</code> ) ì´ ì „ë‹¬ë˜ë©´, ë§¤ ë Œë”ë§ ë§ˆë‹¤ ìƒˆë¡œìš´ ê°’ì´ ê³„ì‚°ëœë‹¤.</li>
</ul>
</li>
</ul>
<br />



<p><code>useMemo()</code> ì— ì „ë‹¬ëœ <code>create í•¨ìˆ˜</code> ëŠ” <em><strong>ë Œë”ë§ ë™ì•ˆ</strong></em> ì‹¤í–‰ëœë‹¤.</p>
<blockquote>
<p>ë³´í†µ side effectëŠ” <code>useMemo</code> ê°€ ì•„ë‹ˆë¼ <strong><code>useEffect</code> ì—ì„œ ë°œìƒ</strong>í•œë‹¤. ë”°ë¼ì„œ ë Œë”ë§ ë™ì•ˆì€ ë‹¤ë¥¸ í–‰ë™ì„ í•˜ì§€ ì•Šì•„ì•¼ í•œë‹¤. (ë‹¹ì—°í•¨ -.-)</p>
</blockquote>
<br />



<blockquote>
<p>â—ï¸<code>useMemo()</code> ëŠ” ì„±ëŠ¥ ìµœì í™”ì—ë§Œ ì‚¬ìš©í•˜ê³ , í° ì˜ë¯¸ì  ê¸°ëŠ¥ (semantic guarantee) ì„ ë‹´ì§€ ì•Šì•„ì•¼ í•œë‹¤. ë”°ë¼ì„œ <code>useMemo()</code> ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ ë„ ë™ì‘í•  ìˆ˜ ìˆë„ë¡ ì½”ë“œë¥¼ ì‘ì„±í•˜ê³ , ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•´ <code>useMemo()</code> ë¥¼ ì¶”ê°€í•˜ë„ë¡ í•œë‹¤.</p>
</blockquote>
<blockquote>
<p>ì•ì„  <code>useEffect</code>, <code>useCallback</code> ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ, <code>depedencies ë°°ì—´</code> ì€ ì½œë°±í•¨ìˆ˜ì— ì¸ìë¡œ ì „ë‹¬ë˜ì§€ ì•ŠëŠ”ë‹¤.</p>
</blockquote>
<br />



<h4 id="useRef"><a href="#useRef" class="headerlink" title="useRef"></a>useRef</h4><p>JavaScriptë¥¼ ì´ìš©í•´ íŠ¹ì • <strong>DOM ì„ ì„ íƒ</strong>í•´ì•¼ í•˜ëŠ” ê²½ìš° <code>getElementById</code>, <code>querySelector</code> ì™€ ê°™ì€ <em>DOM Selector í•¨ìˆ˜</em> ë¥¼ ì‚¬ìš©í•œë‹¤.</p>
<p>ë¦¬ì•¡íŠ¸ë¥¼ ì‚¬ìš©í•  ë•Œë„ íŠ¹ì • DOM ì„ ì„ íƒí•´ì•¼ í•˜ëŠ” ìƒí™©ì´ ë°œìƒí•˜ëŠ”ë°, ì´ ë•Œ <code>ref</code> ë¥¼ ì‚¬ìš©í•œë‹¤.</p>
<ul>
<li><strong>í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸</strong>ì—ì„œ <code>ref</code> ë¥¼ ì‚¬ìš© í•  ë•Œì—ëŠ” <code>useRef</code> ë¼ëŠ” <em>Hook í•¨ìˆ˜</em> ë¥¼ ì‚¬ìš©í•œë‹¤.</li>
<li><strong>í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸</strong>ì—ì„œëŠ” <em>ì½œë°± í•¨ìˆ˜</em>ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ <code>React.createRef</code> ë¼ëŠ” í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤.</li>
</ul>
<br />



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> refContainer = useRef(initialValue);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>useRef()</code> : <em>(ìƒì„±ëœ ref ê°ì²´ì˜)</em> <code>.current</code> í”„ë¡œí¼í‹° (ì†ì„±) ê°€ ì „ë‹¬ëœ ì¸ì (e.g. <code>initialValue</code>) ë¡œ ì´ˆê¸°í™”ëœ, <strong>ë³€ê²½ ê°€ëŠ¥í•œ ref ê°ì²´</strong>ë¥¼ ë°˜í™˜í•œë‹¤.<ul>
<li>ë³€ê²½ê°€ëŠ¥í•œ ê°’ì„ ë„£ì„ ìˆ˜ ìˆëŠ” <code>.current í”„ë¡œí¼í‹°</code>ë¥¼ ê°–ê³  ìˆëŠ” <u>â€œë°•ìŠ¤â€</u> ì™€ ê°™ë‹¤.</li>
<li>í•´ë‹¹ ê°ì²´ëŠ” ì»´í¬ë„ŒíŠ¸ì˜ <em>full lifetime</em> ë™ì•ˆ ì§€ì†ëœë‹¤.</li>
</ul>
</li>
</ul>
<br />



<p><code>useRef()</code> ëŠ” <strong>DOMì— ì ‘ê·¼</strong>í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ë§ì´ ì‚¬ìš©ëœë‹¤.</p>
<p><code>useRef()</code> ë¥¼ ì‚¬ìš©í•˜ì—¬</p>
<ol>
<li><strong>Ref ê°ì²´</strong>ë¥¼ ë§Œë“¤ê³ ,</li>
<li>ì´ ê°ì²´ë¥¼ ìš°ë¦¬ê°€ <strong>ì„ íƒí•˜ê³  ì‹¶ì€ DOM (ë…¸ë“œ) ì— <code>ref</code> ê°’ìœ¼ë¡œ</strong> ì„¤ì •í•œë‹¤.</li>
<li>ê·¸ëŸ¬ë©´, <strong>Ref ê°ì²´ì˜ <code>.current</code> ê°’ì€ ìš°ë¦¬ê°€ ì›í•˜ëŠ” DOM ì„ ê°€ë¥´í‚¤</strong>ê²Œ ëœë‹¤.</li>
</ol>
<br />



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div ref=&#123;refContainer&#125; /&gt;</span><br></pre></td></tr></table></figure>
<p><code>refContainer</code> ì˜ <code>.current</code> í”„ë¡œí¼í‹°ë¥¼ í•´ë‹¹ ref ê°ì²´  ( <code>refContainer</code> ) ë¥¼ ref ë¡œ ì„¤ì •í•œ DOM ë…¸ë“œë¡œ ì„¤ì •í•˜ê³ , ë…¸ë“œê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ê·¸ì— ë§ê²Œ <code>.current</code> í”„ë¡œí¼í‹°ë¥¼ ì¡°ì •í•œë‹¤.</p>
<blockquote>
<p>í•˜ì§€ë§Œ <code>useRef()</code> ëŠ” <code>.current</code> ì— ë³€ê²½ ì‚¬í•­ì´ ì¡´ì¬í•˜ë”ë¼ë„ <strong>ë¦¬ë Œë”ë§ í•˜ì§€ ì•Š</strong>ê¸° ë•Œë¬¸ì—, ì´ì— ëŒ€í•´ <strong>notify í•˜ì§€ ì•ŠëŠ”ë‹¤</strong>. ë§Œì•½ ë¦¬ì•¡íŠ¸ê°€ DOM ë…¸ë“œì— ref ê°ì²´ë¥¼ ì—°ê²°í•˜ê±°ë‚˜ ì œê±°í•  ë•Œ notify í•˜ê³  ì‹¶ë‹¤ë©´, <code>callback ref</code> ë¥¼ ì´ìš©í•´ì•¼ í•œë‹¤.</p>
</blockquote>
<br />



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">TextInput_With_FocusButton</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// inputEl : ref ê°ì²´ (nullë¡œ ì´ˆê¸°í™”ë¨)</span></span><br><span class="line">  <span class="keyword">const</span> inputEl = useRef(<span class="literal">null</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// buttonì„ í´ë¦­í•˜ë©´ inputEl.current ì¸ input nodeì— focus() ë¥¼ ì ìš©í•œë‹¤.</span></span><br><span class="line">  <span class="keyword">const</span> onButtonClick = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// `current` points to the mounted text input element</span></span><br><span class="line">    inputEl.current.focus();</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">    	<span class="comment">// inputEl ref ê°ì²´ë¥¼ refë¡œ ì„¤ì •í•˜ì—¬ inputEl.current í”„ë¡œí¼í‹°ë¥¼ input node ë¡œ ì„¤ì •í•œë‹¤.</span></span><br><span class="line">      &lt;input ref=&#123;inputEl&#125; type=<span class="string">&quot;text&quot;</span> /&gt;</span><br><span class="line">    </span><br><span class="line">    	<span class="comment">// onClick ì‹œ onButtonClick í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê³  // ğŸ‘‰ goto onButtonClick comment</span></span><br><span class="line">      &lt;button onClick=&#123;onButtonClick&#125;&gt;Focus the input&lt;/button&gt;</span><br><span class="line">    &lt;/&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong><code>HTMLElement.focus()</code></strong></p>
<p>íŠ¹ì • element ì— <em>(focusë¥¼ ë§ì¶œ ìˆ˜ ìˆì„ ë•Œ)</em> focusë¥¼ ë§ì¶”ëŠ” í•¨ìˆ˜ë¡œ, í•´ë‹¹ elementëŠ” í‚¤ë³´ë“œ ë“±ì˜ ì´ë²¤íŠ¸ë¥¼ ë°›ëŠ” default elementë¡œ ì •ì˜ëœë‹¤.</p>
</blockquote>
<br />



<hr>
<br />



<p><code>useRef()</code> ëŠ” ref ì†ì„± ì™¸ì—ë„, í´ë˜ìŠ¤ê°€ instance field (ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜) ë¥¼ ê°€ì§€ê³  ìˆëŠ” ê²ƒì²˜ëŸ¼ ref ê°ì²´ì— ë³€ê²½ ê°€ëŠ¥í•œ ì–´ë– í•œ ê°’ë„ ë‹´ì„ ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤.</p>
<p>ì´ëŠ” <code>useRef()</code> ê°€ <em>plain JavaScript ê°ì²´</em> ë¥¼ ìƒì„±í•˜ê¸° ë•Œë¬¸ì¸ë°, ì§ì ‘ <code>&#123;current: ...&#125;</code> ë¡œ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒê³¼ ìœ ì¼í•œ ì°¨ì´ì ì€ <code>useRef()</code> ëŠ” ë§¤ ë Œë”ë§ë§ˆë‹¤ <strong>ë˜‘ê°™ì€ ref ê°ì²´ë¥¼ ì œê³µ (ë°˜í™˜) í•œë‹¤</strong>ëŠ” ê²ƒì´ë‹¤.</p>
<blockquote>
<p><strong><code>class field (í´ë˜ìŠ¤ ë³€ìˆ˜)</code> vs. <code>instance field (ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜)</code></strong></p>
<ul>
<li>í´ë˜ìŠ¤ ë³€ìˆ˜ : ì—¬ëŸ¬ ì¸ìŠ¤í„´ìŠ¤ (ì„œë¡œ ë‹¤ë¥¸ ê°ì²´) ê°„ì— <strong>ê³µìœ í•´ì•¼ í•˜ëŠ” ê°’</strong>ì„ ë°”ì¸ë”©</li>
<li>ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ : ê° ì¸ìŠ¤í„´ìŠ¤ (ê°ì²´) ë§ˆë‹¤ ê°€ì§€ê³  ìˆëŠ” ê³ ìœ í•œ ê°’</li>
</ul>
<p>íŒŒì´ì¬ì€ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í†µí•´ ì ‘ê·¼í•œ ì´ë¦„ (ë³€ìˆ˜) ì´ ì¸ìŠ¤í„´ìŠ¤ì˜ name_space (nameë“¤ì„ ì •ì˜í•œ ê³µê°„) ì— ì—†ì„ ê²½ìš°, ê·¸ ë‹¤ìŒìœ¼ë¡œ í´ë˜ìŠ¤ì˜ name_spaceì—ì„œ ì°¾ì•„ë³¸ë‹¤.</p>
<p>ì°¸ê³ ë¡œ í´ë˜ìŠ¤ ë³€ìˆ˜ì— ì ‘ê·¼í•  ë•Œì—ëŠ” í´ë˜ìŠ¤ ì´ë¦„ì„ ì‚¬ìš©í•˜ì—¬ ë°”ë¡œ ë³€ìˆ˜ (ê°’) ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.</p>
</blockquote>
<br />



<h4 id="useImperativeHandle"><a href="#useImperativeHandle" class="headerlink" title="useImperativeHandle"></a>useImperativeHandle</h4><blockquote>
<p>â—ï¸refë¥¼ ì‚¬ìš©í•˜ëŠ” <em>imperative code</em> ëŠ” ë˜ë„ë¡ì´ë©´ í”¼í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. <strong>):-&lt;</strong></p>
</blockquote>
<p>refë¥¼ ì‚¬ìš©í•  ë•Œ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì— ë…¸ì¶œë˜ëŠ” <em>ì¸ìŠ¤í„´ìŠ¤ ê°’ (ë³€ìˆ˜) ì„ ì»¤ìŠ¤í„°ë§ˆì´ì§•</em> í•œë‹¤.</p>
<p>ì¦‰, forwardingëœ refë¥¼ replaceí•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.</p>
<br />



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useImperativeHandle(ref, createHandle, [deps])</span><br></pre></td></tr></table></figure>
<ul>
<li><p>useImperativeHandle() : <code>ref</code>, <code>ì½œë°±í•¨ìˆ˜ (createHandle)</code>, <code>dependnecies ë°°ì—´</code> ì„ ì „ë‹¬</p>
<ul>
<li><code>createHandle()</code> : í˜„ì¬ ì»´í¬ë„ŒíŠ¸ì˜ ê°’ì„ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ê°€ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ì½œë°±í•¨ìˆ˜</li>
</ul>
</li>
<li><p><code>forwardRef()</code> ì™€ í•¨ê»˜ ì‚¬ìš©ë˜ì–´ì•¼ í•œë‹¤.</p>
<blockquote>
<p><code>forwardRef()</code> </p>
<p>(ë§ ê·¸ëŒ€ë¡œ) referenceë¥¼ ì „ë‹¬í•´ì£¼ëŠ” ê¸°ëŠ¥ì„ í•˜ëŠ” í•¨ìˆ˜</p>
</blockquote>
</li>
</ul>
<br />



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FancyInput</span>(<span class="params">props, ref</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> inputRef = useRef();</span><br><span class="line">  useImperativeHandle(ref, <span class="function">() =&gt;</span> (&#123;</span><br><span class="line">    focus: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      inputRef.current.focus();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;));</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">ref</span>=<span class="string">&#123;inputRef&#125;</span> <span class="attr">...</span> /&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line">FancyInput = forwardRef(FancyInput);</span><br></pre></td></tr></table></figure>
<p><code>&lt;FancyInput ref=&#123;inputRef&#125; /&gt;</code> ë¥¼ ìˆ˜í–‰ (ë Œë”ë§) í•˜ëŠ” ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ëŠ” <code>inputRef.current.focus()</code> ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.</p>
<br />



<h4 id="useLayoutEffect"><a href="#useLayoutEffect" class="headerlink" title="useLayoutEffect"></a>useLayoutEffect</h4><p><code>useEffect</code> ì™€ ë™ì¼í•œ ê¸°ëŠ¥ì„ DOM ë³€ê²½ ì‹œ ë™ì‹œì— (synchronously) ì‹¤í–‰í•˜ëŠ” í•¨ìˆ˜ë¡œ, DOM ì—ì„œ ë ˆì´ì•„ì›ƒì„ ì½ìŒê³¼ ë™ì‹œì— ë¦¬ë Œë”ë§ì„ í•´ì•¼í•  ë•Œ ì‚¬ìš©í•œë‹¤.</p>
<p><code>useLayoutEffect</code> ë‚´ë¶€ì— ì •ì˜ëœ ì˜ˆì •ëœ ì—…ë°ì´íŠ¸ ë˜í•œ ë¸Œë¼ìš°ì €ê°€ ë ˆì´ì•„ì›ƒì„ ê·¸ë¦¬ê¸° ì´ì „ì—, ì½ìŒê³¼ ë™ì‹œì— ë°œìƒí•œë‹¤.</p>
<blockquote>
<p>í™”ë©´ ì—…ë°ì´íŠ¸ë¥¼ ì°¨ë‹¨í•˜ì§€ ì•Šì•„ë„ ë˜ëŠ” ê²½ìš°ì—ëŠ” <code>useEffect</code> ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.</p>
</blockquote>
<br />



<blockquote>
<p> í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì½”ë“œë¥¼ ì˜®ê¸¸ ë•Œ <code>useLayoutEffect()</code> ëŠ” <code>componentDidMount</code> ë‚˜ <code>componentDidUpdate</code> ì™€ ê°™ì€ ë‹¨ê³„ì—ì„œ ë°œìƒí•œë‹¤. í•˜ì§€ë§Œ, ë¨¼ì € <code>useEffect</code> ë¥¼ ì‹œë„í•´ë³´ê³  ì—ëŸ¬ê°€ ë°œìƒí•  ë•Œ <code>useLayoutEffect</code> ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.</p>
</blockquote>
<blockquote>
<p><strong>SSR (ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§)</strong> ì˜ ê²½ìš°, <code>useLayoutEffect</code> ë‚˜ <code>useEffect</code> ëŠ” JavaScript ê°€ ëª¨ë‘ ë‹¤ìš´ë˜ê¸° ì „ê¹Œì§€ëŠ” ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤. SSR ì»´í¬ë„ŒíŠ¸ê°€ <code>useLayoutEffect</code> ë¥¼ í¬í•¨í•œ ê²½ìš°,</p>
<ul>
<li>ì²« ë Œë”ë§ ì‹œ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ê°€ í•„ìš”í•˜ì§€ ì•Šë‹¤ë©´ <code>useEffect</code> ë¡œ ë¡œì§ì„ ì˜®ê¸°ê³ ,</li>
<li><code>useLayoutEffect</code> ê°€ ì‹¤í–‰ë˜ê¸° ì „ê¹Œì§€ HTMLì´ ë§ê°€ì ¸ ë³´ì¸ë‹¤ë©´ í´ë¼ì´ì–¸íŠ¸ ë Œë”ë§ì´ ì™„ë£Œë  ë•Œê¹Œì§€ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë¥¼ ë³´ì—¬ì£¼ëŠ” ê²ƒì„ ë”œë ˆì´ì‹œí‚¨ë‹¤.</li>
</ul>
<p>ì„œë²„ ë Œë”ë§ HTMLì—ì„œ ë ˆì´ì•„ì›ƒ effectë¥¼ í•„ìš”ë¡œ í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ì œì™¸í•˜ê¸° ìœ„í•´ì„œ, </p>
<ul>
<li><code>showCild &amp;&amp; &lt;Child /&gt;</code> ë¥¼ ì´ìš©í•˜ì—¬ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë¥¼ ì¡°ê±´ì ìœ¼ë¡œ ë Œë”ë§ì„ í•˜ê³ , </li>
<li><code>useEffect(() =&gt; &#123; setShowChild(true); &#125;, [])</code> ë¥¼ ì´ìš©í•˜ì—¬ ë³´ì´ëŠ” ê²ƒì„ ë¯¸ë£¬ë‹¤ (defer).</li>
</ul>
<p>ì´ë¥¼ í†µí•´ HTMLì´ hydration (<code>useLayoutEffect</code>, <code>useEffect</code> ì‹¤í–‰) ì´ì „ì— ë§ê°€ì ¸ ë³´ì´ëŠ” ê²ƒì„ ë°©ì§€í•œë‹¤.</p>
</blockquote>
<br />



<h4 id="useDebugValue"><a href="#useDebugValue" class="headerlink" title="useDebugValue"></a>useDebugValue</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useDebugValue(value)</span><br></pre></td></tr></table></figure>
<p>React DevTools ì—ì„œ ì»¤ìŠ¤í…€ Hooksì˜ <code>label (value)</code> ì„ ë³´ì—¬ì¤€ë‹¤.</p>
<br />



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useFriendStatus</span>(<span class="params">friendID</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [isOnline, setIsOnline] = useState(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// Show a label in DevTools next to this Hook</span></span><br><span class="line">  <span class="comment">// e.g. &quot;FriendStatus: Online&quot;</span></span><br><span class="line">  useDebugValue(isOnline ? <span class="string">&#x27;Online&#x27;</span> : <span class="string">&#x27;Offline&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> isOnline;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br />



<blockquote>
<p>ëª¨ë“  ì»¤ìŠ¤í…€ Hookì— debug valueë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì€ ì¢‹ì§€ ì•Šë‹¤.</p>
<p><strong>shared librariesì— ì†í•˜ëŠ” ì»¤ìŠ¤í…€ Hooks</strong>ì— ìœ ìš©í•˜ê²Œ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.</p>
</blockquote>
<br />



<h5 id="Defer-Formatting-Debug-Values"><a href="#Defer-Formatting-Debug-Values" class="headerlink" title="Defer Formatting Debug Values"></a>Defer Formatting Debug Values</h5><blockquote>
<p> ë””ë²„ê·¸ ê°’ í¬ë§·íŒ… ì§€ì—°í•˜ê¸°</p>
</blockquote>
<br />



<p>ë””ìŠ¤í”Œë ˆì´ (ë˜ëŠ”) ê°’ì„ í¬ë§¤íŒ…í•˜ëŠ” ê²ƒì€ ê³ ë¹„ìš© ì—°ì‚°ì¼ ìˆ˜ ìˆê³ , <em>Hookì´ ê°ì§€ë˜ì§€ ì•Šì€ ê²½ìš° ì‚¬ì‹¤ìƒ í¬ë§¤íŒ…ì€ ë¶ˆí•„ìš”í•˜ë‹¤</em>. ë”°ë¼ì„œ, <code>useDebugValue</code> ì˜ (optionalí•œ) 2ë²ˆì§¸ ì¸ìë¡œ <code>í¬ë§¤íŒ… í•¨ìˆ˜</code> ë¥¼ ì „ë‹¬í•˜ì—¬ <strong>Hookì´ ê°ì§€ë˜ì—ˆì„ ë•Œë§Œ í•´ë‹¹ í•¨ìˆ˜ë¥¼ í˜¸ì¶œ</strong>í•˜ì—¬ í¬ë§¤íŒ…í•  ìˆ˜ ìˆë‹¤.</p>
<br />



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useDebugValue(value, <span class="function"><span class="params">value</span> =&gt;</span> value.formatting_function());</span><br></pre></td></tr></table></figure>
<ul>
<li><code>useDebugValue()</code> : <code>value</code> ì™€ <code>optional formatting í•¨ìˆ˜</code> ë¥¼ ì „ë‹¬<ul>
<li><code>optional formatting function</code> : <code>debug value</code> ë¥¼ ì¸ìë¡œ ì „ë‹¬í•˜ê³  <code>formatted display value</code> ë¥¼ ë°˜í™˜í•œë‹¤.</li>
</ul>
</li>
</ul>
<br />



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useDebugValue(date, <span class="function"><span class="params">date</span> =&gt;</span> date.toDateString());</span><br></pre></td></tr></table></figure>
<p>2ë²ˆì§¸ ì¸ìë¡œ <code>fomatting function</code> ì„ ì „ë‹¬í•˜ì—¬ Date value ë¥¼ ë°˜í™˜í•˜ëŠ” ì»¤ìŠ¤í…€ Hookì´ <code>toDateString()</code> ì„ <strong>ë¶ˆí•„ìš”í•˜ê²Œ í˜¸ì¶œí•˜ëŠ” ê²ƒì„ ë°©ì§€</strong>í•œë‹¤.</p>
<br />



<hr>
<br />



<h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h3><p><a target="_blank" rel="noopener" href="https://ko.reactjs.org/docs/hooks-reference.html">https://ko.reactjs.org/docs/hooks-reference.html</a></p>
<p><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-reference.html">https://reactjs.org/docs/hooks-reference.html</a></p>

            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="/tags/Hooks/" rel="tag">Hooks</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/ReactJS/" rel="tag">ReactJS</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/SOPT/" rel="tag">SOPT</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/WEB/" rel="tag">WEB</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2021/05/08/SOAP-Classes/"
                    data-tooltip="Classes"
                    aria-label="PREVIOUS: Classes"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2021/04/24/3%EC%B0%A8-%EC%84%B8%EB%AF%B8%EB%82%98-24-04-21/"
                    data-tooltip="3ì°¨ ì„¸ë¯¸ë‚˜_24/04/21"
                    aria-label="NEXT: 3ì°¨ ì„¸ë¯¸ë‚˜_24/04/21"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://leahincom.github.io/2021/05/05/THUREE-Hooks/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://leahincom.github.io/2021/05/05/THUREE-Hooks/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://leahincom.github.io/2021/05/05/THUREE-Hooks/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2021 JungHyun. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2021/05/08/SOAP-Classes/"
                    data-tooltip="Classes"
                    aria-label="PREVIOUS: Classes"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2021/04/24/3%EC%B0%A8-%EC%84%B8%EB%AF%B8%EB%82%98-24-04-21/"
                    data-tooltip="3ì°¨ ì„¸ë¯¸ë‚˜_24/04/21"
                    aria-label="NEXT: 3ì°¨ ì„¸ë¯¸ë‚˜_24/04/21"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://leahincom.github.io/2021/05/05/THUREE-Hooks/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://leahincom.github.io/2021/05/05/THUREE-Hooks/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://leahincom.github.io/2021/05/05/THUREE-Hooks/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="5">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://leahincom.github.io/2021/05/05/THUREE-Hooks/"
                        aria-label="Share on Facebook"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Share on Facebook</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://leahincom.github.io/2021/05/05/THUREE-Hooks/"
                        aria-label="Share on Twitter"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Share on Twitter</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://plus.google.com/share?url=https://leahincom.github.io/2021/05/05/THUREE-Hooks/"
                        aria-label="Share on Google+"
                    >
                        <i class="fab fa-google-plus" aria-hidden="true"></i><span>Share on Google+</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/profile.jpeg" alt="Author&#39;s picture"/>
        
            <h4 id="about-card-name">JungHyun</h4>
        
            <div id="about-card-bio"><p>author.bio</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br/>
                Seoul/South Korea, London/UK
            </div>
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/IMG_5960.jpeg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/jquery.js"></script>


<script src="/assets/js/jquery.fancybox.js"></script>


<script src="/assets/js/thumbs.js"></script>


<script src="/assets/js/tranquilpeak.js"></script>

<!--SCRIPTS END-->


    




    </body>
</html>
