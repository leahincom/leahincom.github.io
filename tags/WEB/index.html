
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="leah">
    <title>Tag: WEB - leah</title>
    <meta name="author" content="JungHyun">
    
        <meta name="keywords" content="hexo,javascript,">
    
    
    
    <script type="application/ld+json">{}</script>
    <meta name="description" content="Continuously Developing Developer">
<meta property="og:type" content="blog">
<meta property="og:title" content="leah">
<meta property="og:url" content="https://leahincom.github.io/tags/WEB/index.html">
<meta property="og:site_name" content="leah">
<meta property="og:description" content="Continuously Developing Developer">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="JungHyun">
<meta property="article:tag" content="hexo">
<meta property="article:tag" content="javascript">
<meta name="twitter:card" content="summary">
    
    
        
    
    
        <meta property="og:image" content="https://leahincom.github.io/assets/images/profile.jpeg"/>
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/all.css">

    
<link rel="stylesheet" href="/assets/css/jquery.fancybox.css">

    
<link rel="stylesheet" href="/assets/css/thumbs.css">

    
<link rel="stylesheet" href="/assets/css/tranquilpeak.css">

    <!--STYLES END-->
    

    

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="2">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            leah
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="Open the link: /#about"
            >
        
        
            <img class="header-picture" src="/assets/images/profile.jpeg" alt="Author&#39;s picture"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="2">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="Read more about the author"
                >
                    <img class="sidebar-profile-picture" src="/assets/images/profile.jpeg" alt="Author&#39;s picture"/>
                </a>
                <h4 class="sidebar-profile-name">JungHyun</h4>
                
                    <h5 class="sidebar-profile-bio"><p>author.bio</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="Categories"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="Tags"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="Archives"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link open-algolia-search"
                            href="#search"
                            
                            rel="noopener"
                            title="Search"
                        >
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Search</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/leahincom"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://facebook.com/junghyun.lah/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Facebook"
                        >
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.linkedin.com/profile"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="LinkedIn"
                        >
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="mailto:leahincom@gmail.com"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Mail"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/atom.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="2"
                 class="
                        hasCoverMetaIn
                        ">
                
    <section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2021/05/29/7%EC%B0%A8-%EC%84%B8%EB%AF%B8%EB%82%98-Closure/"
                            aria-label=": Closure"
                        >
                            Closure
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2021-05-29T20:08:44+09:00">
	
		    May 29, 2021
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/SOPT/">SOPT</a>, <a class="category-link" href="/categories/SOPT/WEB-28th/">WEB_28th</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h2 id="Closures"><a href="#Closures" class="headerlink" title="Closures"></a>Closures</h2><br />



<p><em><strong>클로저란?</strong></em></p>
<p>함수 번들과 이들이 <u>참조하는 주변 상태 ( <code>lexical environment</code> 라 칭한다)</u> 의 조합을 의미한다. </p>
<p>쉽게 말하자면, 클로저는 독립적인 (자유) 변수를 가리키는 함수로, 클로저 안에 정의된 함수는 만들어진 환경을 기억한다. 즉, 클로저를 통해 inner function scope 에서 outer function scope에 접근할 수 있으며, JavaScript 에서는 함수가 생성되는 시점에 클로저도 생성된다.</p>
<p>흔히 함수 내에서 함수를 정의하고 사용하면 클로저라고 한다. 하지만 대개는 정의한 함수를 리턴하고 사용은 바깥에서 하게된다.</p>
<p>이해를 돕기 위해 다음 코드를 보자.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getClosure</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> text = <span class="string">&#x27;variable 1&#x27;</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> text;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> closure = getClosure();</span><br><span class="line"><span class="built_in">console</span>.log(closure()); <span class="comment">// &#x27;variable 1&#x27;</span></span><br></pre></td></tr></table></figure>
<p>위에서 정의한 <code>getClosure()</code>는 함수를 반환하고, 반환된 함수는 <code>getClosure()</code> 내부에서 선언된 변수를 참조하고 있다. 또한 이렇게 참조된 변수는 함수 실행이 끝났다고 해서 사라지지 않았고, 여전히 제대로 된 값을 반환하고 있는 걸 알 수 있다. <strong>여기서 반환된 함수가 클로저이다.</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> base = <span class="string">&#x27;Hello, &#x27;</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHelloTo</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> text = base + name;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(text);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> hello1 = sayHelloTo(<span class="string">&#x27;승민&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> hello2 = sayHelloTo(<span class="string">&#x27;현섭&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> hello3 = sayHelloTo(<span class="string">&#x27;유근&#x27;</span>);</span><br><span class="line">hello1(); <span class="comment">// &#x27;Hello, 승민&#x27;</span></span><br><span class="line">hello2(); <span class="comment">// &#x27;Hello, 현섭&#x27;</span></span><br><span class="line">hello3(); <span class="comment">// &#x27;Hello, 유근&#x27;</span></span><br></pre></td></tr></table></figure>
<p>출력된 결과를 보면 <code>text</code> 변수가 동적으로 변화하고 있는 것처럼 보인다. 실제로는 <code>text</code>라는 변수 자체가 여러 번 생성된 것이다. 즉, <code>hello1()</code>과 <code>hello2()</code>, <code>hello3()</code>은 서로 다른 환경을 가지고 있다.</p>
<br />



<h3 id="Lexical-Scoping"><a href="#Lexical-Scoping" class="headerlink" title="Lexical Scoping"></a>Lexical Scoping</h3><p><code>Lexical Scoping</code> 은 함수들이 중첩되어 있을 때, parser가 변수 이름을 어떻게 해석하는지에 대해 설명한다. 즉, lexical scope는 중첩 함수가 연속적으로 존재하는 그룹에서, inner function이 그의 parent scope의 변수를 포함한 자원들에 접근이 가능함을 의미한다. 결국 자식 함수들이 부모 함수가 실행되는 문맥에 <em>어휘적으로 묶이는 것</em> 을 의미한다.  이를 <code>static scope</code> 라고 칭하기도 한다.</p>
<p>이를 직관적으로 이해하기 위해 다음 코드를 보자.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">grandfather</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name = <span class="string">&#x27;Hammad&#x27;</span>;</span><br><span class="line">    <span class="comment">// &#x27;likes&#x27; is not accessible here</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">parent</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// &#x27;name&#x27; is accessible here</span></span><br><span class="line">        <span class="comment">// &#x27;likes&#x27; is not accessible here</span></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">child</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="comment">// Innermost level of the scope chain</span></span><br><span class="line">            <span class="comment">// &#x27;name&#x27; is also accessible here</span></span><br><span class="line">            <span class="keyword">var</span> likes = <span class="string">&#x27;Coding&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>위 예시에서 lexical scope은 forward 방향으로 작동한다는 것을 알 수 있다. 이는 child 함수가 실행될 때 해당 문맥에 name 변수가 포함되어 접근이 가능하다는 것을 의미한다. 하지만 반대로, backward로는 작동하지 않기 때문에 likes는 child의 부모 함수에서 접근이 불가능하다.</p>
<p>이는 같은 이름을 가졌지만 다른 실행 문맥을 가진 변수들이 위에서부터 아래로 코드가 작동하면서 실행 스택 (execution stack) 에 선행 값들 (우선순위) 을 가지고 있음을 의미한다. 이 때 같은 이름을 가진 변수의 경우 안쪽에 존재하는 함수 (실행 스택에서 위쪽에 존재하는 문맥, 함수) 일수록 높은 우선순위를 가진다.</p>
<p>다른 예시를 보자.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> name = <span class="string">&#x27;Mozilla&#x27;</span>; <span class="comment">// name is a local variable created by init</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">displayName</span>(<span class="params"></span>) </span>&#123; <span class="comment">// displayName() is the inner function, a closure</span></span><br><span class="line">    alert(name); <span class="comment">// use variable declared in the parent function</span></span><br><span class="line">  &#125;</span><br><span class="line">  displayName();</span><br><span class="line">&#125;</span><br><span class="line">init();</span><br></pre></td></tr></table></figure>
<p>위 코드에서,</p>
<ul>
<li><code>outer(parent) function</code> 은 <code>init()</code> 이 되고,</li>
<li><code>inner(child) function</code> 은 <code>displayName()</code> 이 된다.</li>
</ul>
<p><code>init</code> 함수가 지역변수인 <code>name</code> 과 <code>displayName</code> 함수를 생성한다. 이 때, displayName은 init 안에 정의된 inner function 이므로 init 내에서만 작동할 수 있다. 특히 해당 함수는 그만의 지역 변수를 생성하지 않는데, inner function의 경우 outer function의 변수에 접근할 수 있으므로 displayName은 그의 parent function인 init 함수의 지역변수인 name에 접근할 수 있다.</p>
<br />



<h3 id="Closure"><a href="#Closure" class="headerlink" title="Closure"></a>Closure</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">makeFunc</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> name = <span class="string">&#x27;Mozilla&#x27;</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">displayName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(name);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> displayName;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> myFunc = makeFunc();</span><br><span class="line">myFunc();</span><br></pre></td></tr></table></figure>
<p>위와 동일한 코드이지만, displayName이 실행되기 전 outer function에서 반환된다는 점이 다르다.</p>
<p>보통 함수의 실행이 끝나면 그 내부에 있는 지역변수에 더이상 접근이 불가한 것이 일반적인 경우이지만, 위 코드에서는 makeFunc의 실행이 종료되어도 name 변수에 접근이 가능하다. </p>
<p>그 이유는 JavaScript의 함수는 클로저를 생성하기 때문이다. 클로저는 앞서 말했듯이 함수와 해당 함수가 선언된 lexical environment을 아울러 정의하는데, 이 ‘환경’ 은 클로저가 생성된 그 시기의, in-scope에 해당하는 모든 지역변수를 포함한다.</p>
<p>따라서 위 코드의 경우, myFunc은 makeFunc이 실행될 때 생성된 displayName instance의 참조변수이며, displayName 인스턴스는 그의 lexical environment - name 변수가 존재하는 - 를 지속적으로 참조 (유지) 한다. 따라서, myFunc이 호출되었을 때 name 변수에 계속해서 접근 가능하므로 alert에 “Mozilla”가 전달된다.</p>
<p>또 다른 예시를 보자.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">makeAdder</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">y</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> add5 = makeAdder(<span class="number">5</span>);</span><br><span class="line"><span class="keyword">var</span> add10 = makeAdder(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(add5(<span class="number">2</span>));  <span class="comment">// 7</span></span><br><span class="line"><span class="built_in">console</span>.log(add10(<span class="number">2</span>)); <span class="comment">// 12</span></span><br></pre></td></tr></table></figure>
<p>위 코드에서는 하나의 인자 x 를 받는 makeAdder(x) 함수가 존재하고, 이는 또 다시 다른 하나의 인자 y 를 받아 x와 y의 합을 반환하는 함수를 반환한다. 결국 makeAdder는 함수 공장으로 작용하는데, 이는 특정 값(y) 을 인자(x) 에 더하는 함수를 생성한다.</p>
<p>위 예시에서는 2개의 함수가 생성되는데,</p>
<ul>
<li><code>add5</code> : 하나는 5를 그의 인자에 더하는 함수이고</li>
<li><code>add10</code> : 다른 하나는 10을 더하는 함수이다.</li>
</ul>
<p><code>add5</code> 와 <code>add10</code> 은 모두 클로저이다. 이들은 같은 body를 가진 함수를 공유하지만 다른 lexical environment를 가진다. 이는 <code>add5</code> 의 lexical environment는 x=5이고, <code>add10</code> 에서는 x=10 임을 의미한다.</p>
<br />



<h3 id="Closure-Scope-Chain"><a href="#Closure-Scope-Chain" class="headerlink" title="Closure Scope Chain"></a>Closure Scope Chain</h3><p>모든 클로저는</p>
<ol>
<li>Local Scope (Own Scope)</li>
<li>Outer Functions Scope</li>
<li>Global Scope</li>
</ol>
<p>를 가진다.</p>
<p>주의해야 할 부분은 outer function이 중첩된 함수 (중 하나) 일 경우에, 해당 함수의 scope에 접근하는 것은 그를 둘러싼 scope 또한 포함한다는 것 - 결국 함수 scope의 chain을 생성한다 - 이다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// global scope</span></span><br><span class="line"><span class="keyword">var</span> e = <span class="number">10</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">c</span>)</span>&#123;</span><br><span class="line">      <span class="comment">// outer functions scope</span></span><br><span class="line">      <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">d</span>)</span>&#123;</span><br><span class="line">        <span class="comment">// local scope</span></span><br><span class="line">        <span class="keyword">return</span> a + b + c + d + e;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(sum(<span class="number">1</span>)(<span class="number">2</span>)(<span class="number">3</span>)(<span class="number">4</span>)); <span class="comment">// log 20</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// You can also write without anonymous functions:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// global scope</span></span><br><span class="line"><span class="keyword">var</span> e = <span class="number">10</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="title">sum2</span>(<span class="params">b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="title">sum3</span>(<span class="params">c</span>)</span>&#123;</span><br><span class="line">      <span class="comment">// outer functions scope</span></span><br><span class="line">      <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="title">sum4</span>(<span class="params">d</span>)</span>&#123;</span><br><span class="line">        <span class="comment">// local scope</span></span><br><span class="line">        <span class="keyword">return</span> a + b + c + d + e;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> s = sum(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">var</span> s1 = s(<span class="number">2</span>);</span><br><span class="line"><span class="keyword">var</span> s2 = s1(<span class="number">3</span>);</span><br><span class="line"><span class="keyword">var</span> s3 = s2(<span class="number">4</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s3) <span class="comment">// log 20</span></span><br></pre></td></tr></table></figure>
<p>위 예시에서는 중첩 함수가 연속적으로 정의되어 있으며 이들은 모두 outer function scope에 접근이 가능하다. 이 때, 클로저는 모든 outer function scope에 접근 가능하다고 정의된다.</p>
<br />



<hr>
<h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h3><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures</a></p>
<p><a target="_blank" rel="noopener" href="https://hyunseob.github.io/2016/08/30/javascript-closure/">https://hyunseob.github.io/2016/08/30/javascript-closure/</a></p>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2021/05/29/7%EC%B0%A8-%EC%84%B8%EB%AF%B8%EB%82%98-Closure/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2021/05/27/THUREE-Redux/"
                            aria-label=": Redux"
                        >
                            Redux
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2021-05-27T20:56:54+09:00">
	
		    May 27, 2021
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/SOPT/">SOPT</a>, <a class="category-link" href="/categories/SOPT/THUREE/">THUREE</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p style="color: orange; font-weight: bold;">많은 상태를 관리할 필요가 생겨났다.</p>

<blockquote>
<p> <code>상태</code> </p>
<p> 서버 응답, 캐시 데이터, 지역적으로 생성해서 사용하고 있지만 아직 서버에 저장되지 않은 데이터,</p>
<p> 활성화된 라우트, 선택된 탭, 로딩을 보여줄지 여부, 페이지네이션 컨트롤 등 다양한 UI 상태</p>
</blockquote>
<p>모델이 다른 모델을 업데이트하고, 그리고 뷰가 모델을 업데이트 할 수 있고, 이 뷰가 다시 다른 모델을 업데이트하고, 이에 따라 또 다른 뷰가 업데이트 된다.</p>
<p>더하여, <strong>프론트엔트 제품 개발에 있어서 새로 갖춰야할 복잡한 요건들이 늘어나고 있다.</strong> 낙관적 업데이트(Optimistic update), 서버 렌더링, 라우트가 일어나기 전에 데이터 가져오기 등이 이에 해당한다. 이러한 복잡함은 <code>변화(mutation)</code> 나 <code>비동기(asyncronicity)</code> 와 같이 사람이 연동하여 추론하기 어려운 개념을 <em>섞어서 사용한다</em> 는 데서 비롯된다.</p>
<blockquote>
<p><strong>비관적(pessimistic) 업데이트</strong></p>
<p><code>사용자 입력 -&gt; 수정 요청 -&gt; 성공 시 화면 갱신</code></p>
<ul>
<li>사용자에게는 불편하지만, 개발자에게는 쉬움</li>
</ul>
<p><strong>낙관적(optimistic) 업데이트</strong></p>
<p><code>사용자 입력 -&gt; 바로 화면 먼저 갱신 -&gt; 수정 요청</code></p>
<ul>
<li>e.g. slack, trello</li>
</ul>
</blockquote>
<br />



<h3 style="color: purple">Redux</h3>

<ul>
<li><p>자바스크립트 앱을 위한 <strong>예측 가능한 상태 컨테이너</strong></p>
</li>
<li><p><strong>일관적</strong>, 서로 <strong>다른 환경</strong>(서버, 클라이언트, 네이티브)에서 작동, <strong>테스트하기 쉬운</strong> 앱 작성을 도와준다.</p>
</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npx create-react-app my-app --template redux</span><br><span class="line">npm install redux</span><br></pre></td></tr></table></figure>
<br />



<ol>
<li><p><strong>애플리케이션의 모든 <u>상태</u>는 하나의 <u>저장소</u> 안에 하나의 <u>객체 트리 구조</u>로 저장</strong></p>
<ul>
<li>범용적인 애플리케이션(universal application, 하나의 코드 베이스로 다양한 환경에서 실행 가능한 코드)을 만들기 쉽다.</li>
<li>서버로부터 가져온 <code>상태</code> 는 연결되거나(serialized) 수화되어(hydrated) 전달되며 클라이언트에서 추가적인 코딩 없이도 사용할 수 있다.</li>
</ul>
</li>
<li><p><strong>상태를 변화시키는 유일한 방법은 무슨 일이 벌어지는 지를 묘사하는 <u>액션</u> 객체를 전달하는 방법뿐</strong></p>
<ul>
<li>뷰나 네트워크 콜백 등에서 상태를 직접 바꾸지 못 하도록 보장한다.</li>
</ul>
</li>
<li><p><strong>변화는 <u>순수 함수</u>로 작성되어야</strong></p>
<ul>
<li><code>reducer</code>는 <code>이전 상태</code> 와 <code>액션</code> 을 받아 다음 상태를 반환하는 순수 함수이다. 이 때, 이전 상태를 변경하는 대신 <strong>새로운 상태 객체를 생성</strong>해서 반환해야한다.</li>
<li>처음에는 하나의 reducer 만으로 충분하지만, 애플리케이션이 성장해나가면 상태 트리의 특정한 부분들을 조작하는 더 <strong>작은 개별적인 리듀서들</strong>로 나누는 것도 가능하다. (React 의 경우 하나의 루트 컴포넌트에서 시작해서 여러 작은 컴포넌트의 조합으로 나누는 것과 동일)</li>
</ul>
</li>
</ol>
<br />



<h2 id="Concepts"><a href="#Concepts" class="headerlink" title="Concepts"></a>Concepts</h2><h3 id="상태"><a href="#상태" class="headerlink" title="상태"></a>상태</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type State &#x3D; any</span><br></pre></td></tr></table></figure>
<ul>
<li><p><strong>상태</strong>(<strong>상태 트리</strong>)는 넓은 의미의 단어이지만, Redux API에서는 보통 저장소에 의해 관리되고 <a target="_blank" rel="noopener" href="https://ko.redux.js.org/api/store#getState"><code>getState()</code></a>에 의해 반환되는 <em>하나의 상태값</em> 을 지칭한다.</p>
</li>
<li><p>(넓은 의미의) 상태는 Redux 애플리케이션의 <em>전체 상태</em> 를 나타내며, 보통 <strong>깊게 중첩되어 있는 객체</strong>입니다.</p>
</li>
</ul>
<br />



<h3 id="액션"><a href="#액션" class="headerlink" title="액션"></a>액션</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type Action &#x3D; Object</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>액션</strong>은 상태를 변화시키려는 객체이다.</li>
<li>어떤 형태의 액션이 행해질지 표시하는 <code>type</code> 필드를 가져야 한다. type은 상수로 정의되고 다른 모듈에서 임포트할 수 있다.</li>
</ul>
<br />



<h3 id="리듀서"><a href="#리듀서" class="headerlink" title="리듀서"></a>리듀서</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type Reducer&lt;S, A&gt; &#x3D; (state: S, action: A) &#x3D;&gt; S</span><br></pre></td></tr></table></figure>
<ul>
<li><p><strong>리듀서</strong>(<strong>리듀싱 함수</strong>)는 <code>누적(state)값</code> 과 <code>(누적될) 값</code> 을 받아서 <em>새로운 누적값을 반환</em> 하는 함수이다. 이들은 값들의 컬렉션을 받아서 하나의 값으로 줄이는데 사용된다.</p>
</li>
<li><p>Redux에서 <strong>누적”값”은 상태 객체이고, 누적”될” 값은 액션</strong>이다. 리듀서는 주어진 이전 상태와 액션에서 <strong>새로운 상태</strong>를 계산한다. </p>
</li>
<li><p>반드시 <em>같은 입력이 있으면 같은 출력을 반환</em> 하는 <strong>순수 함수</strong>여야 한다.</p>
</li>
</ul>
<hr>
<p>![image-20210527130716974](/Users/JungHyunLah/Library/Application Support/typora-user-images/image-20210527130716974.png)</p>
<br />



<h3 id="디스패치-함수"><a href="#디스패치-함수" class="headerlink" title="디스패치 함수"></a>디스패치 함수</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 기본 디스패치 함수</span></span><br><span class="line">type BaseDispatch = <span class="function">(<span class="params">a: Action</span>) =&gt;</span> Action</span><br><span class="line"><span class="comment">// 비동기 디스패치 함수 (보통 디스패치 함수)</span></span><br><span class="line">type Dispatch = <span class="function">(<span class="params">a: Action | AsyncAction</span>) =&gt;</span> any</span><br></pre></td></tr></table></figure>
<ul>
<li><p><strong>디스패치 함수</strong>는 액션이나 비동기 액션을 받는 함수이다.</p>
<blockquote>
<ol>
<li><p>저장소 인스턴스가 미들웨어를 거치지 않고 제공하는 <strong>기본 <a target="_blank" rel="noopener" href="https://ko.redux.js.org/api/store#dispatchaction"><code>dispatch</code></a> 함수</strong></p>
<ul>
<li><strong>반드시</strong> <em>동기적으로</em> 저장소의 리듀서에 액션을 보내야 한다. 그러면 리듀서는 저장소가 반환한 이전 상태와 함께 새 상태를 계산한다.</li>
<li>👾 리듀서를 사용하기 위해서 액션은 평범한 객체여야 한다.</li>
</ul>
</li>
<li><p>비동기 dispatch 함수 (<strong>보통 dispatch 함수</strong>)</p>
<ul>
<li><em>미들웨어를 통해</em> 디스패치 함수는 <strong>비동기 액션</strong>을 처리할 수도 있다. 미들웨어가 기본 디스패치 함수를 감쌈으로써 액션이나 비동기 액션을 다음 미들웨어에 넘기기 전에, 변환하거나, 지연시키거나, 무시하거나, 해석할 수 있다.</li>
</ul>
</li>
</ol>
</blockquote>
</li>
</ul>
<br />



<h3 id="액션-생산자"><a href="#액션-생산자" class="headerlink" title="액션 생산자"></a>액션 생산자</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type ActionCreator&lt;A, P <span class="keyword">extends</span> any[] = any[]&gt; = <span class="function">(<span class="params">...args: P</span>) =&gt;</span> Action | AsyncAction</span><br></pre></td></tr></table></figure>
<ul>
<li><p><strong>액션 생산자</strong>는 단지 액션을 만드는 함수이다. 이 때, 액션은 정보의 묶음이고, 액션 생산자는 액션을 만드는 곳이다.</p>
</li>
<li><p>액션 생산자를 호출하면 <em>액션을 만들어낼 뿐 dispatch하지는 않는다.</em> 따라서 저장소를 <strong>변경하기 위해서는 <code>dispatch</code> 함수</strong>를 호출해야 한다.</p>
<ul>
<li>액션 생산자를 호출해 그 결과를 저장소 인스턴스로 바로 dispatch하는 함수를 <strong>바인드된 액션 생산자</strong>라고 부르기도 한다.</li>
<li><strong>비동기 액션</strong>은 디스패치 함수로 보내지는 값이지만 <em>아직 reducer에게 받아들여질 준비가 되어 있지 않아,</em> 기본 <code>dispatch()</code> 함수로 전달되기 전에 미들웨어를 통해 액션(이나 일련의 액션들)으로 바뀌어야 한다.<ul>
<li>이들은 종종 <code>Promise</code> 나 <code>Thunk</code> 와 같은 비동기 기본형으로, 리듀서에게 직접 전달되지는 않지만, 작업이 완료되면 액션을 보낸다.</li>
</ul>
</li>
</ul>
</li>
</ul>
<br />



<h3 id="미들웨어"><a href="#미들웨어" class="headerlink" title="미들웨어"></a>미들웨어</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">type MiddlewareAPI = &#123; <span class="attr">dispatch</span>: Dispatch, <span class="attr">getState</span>: <span class="function">() =&gt;</span> State &#125;</span><br><span class="line">type Middleware = <span class="function">(<span class="params">api: MiddlewareAPI</span>) =&gt;</span> <span class="function">(<span class="params">next: Dispatch</span>) =&gt;</span> Dispatch</span><br></pre></td></tr></table></figure>
<blockquote>
<p>중간 (단계) 역할자</p>
</blockquote>
<ul>
<li>미들웨어는 dispatch 함수를 결합해서 새 dispatch 함수를 반환하는 고차함수이다. </li>
<li>종종 비동기 액션을 액션으로 전환한다.</li>
</ul>
<br />



<h3 id="저장소"><a href="#저장소" class="headerlink" title="저장소"></a>저장소</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">type Store = &#123;</span><br><span class="line">  dispatch: Dispatch,</span><br><span class="line">  getState: <span class="function">() =&gt;</span> State,</span><br><span class="line">  subscribe: <span class="function">(<span class="params">listener: () =&gt; <span class="keyword">void</span></span>) =&gt;</span> <span class="function">() =&gt;</span> <span class="keyword">void</span>,</span><br><span class="line">  replaceReducer: <span class="function">(<span class="params">reducer: Reducer</span>) =&gt;</span> <span class="keyword">void</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>저장소는 애플리케이션의 상태 트리를 가지고 있는 객체이다. <u>reducer 수준 (상태 관리)</u> 에서 결합이 일어나기 때문에, Redux 앱에는 <strong>단 하나의 저장소만</strong> 있어야 한다.<ul>
<li><a target="_blank" rel="noopener" href="https://ko.redux.js.org/api/store#dispatchaction"><code>dispatch(action)</code> </a>: 기본 디스패치 함수</li>
<li><a target="_blank" rel="noopener" href="https://ko.redux.js.org/api/store#getState"><code>getState()</code></a> : 저장소의 현재 상태를 반환</li>
<li><a target="_blank" rel="noopener" href="https://ko.redux.js.org/api/store#subscribelistener"><code>subscribe(listener)</code></a> : 상태가 바뀔 때 호출될 함수를 등록</li>
<li><a target="_blank" rel="noopener" href="https://ko.redux.js.org/api/store#replacereducernextreducer"><code>replaceReducer(nextReducer)</code></a> : 핫 리로딩과 코드 분할을 구현할때 사용</li>
</ul>
</li>
</ul>
<br />



<h3 id="저장소-생산자"><a href="#저장소-생산자" class="headerlink" title="저장소 생산자"></a>저장소 생산자</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type StoreCreator &#x3D; (reducer: Reducer, preloadedState: ?State) &#x3D;&gt; Store</span><br></pre></td></tr></table></figure>
<ul>
<li>Redux 저장소를 만드는 함수</li>
</ul>
<br />



<h3 id="저장소-인핸서"><a href="#저장소-인핸서" class="headerlink" title="저장소 인핸서"></a>저장소 인핸서</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type StoreEnhancer &#x3D; (next: StoreCreator) &#x3D;&gt; StoreCreator</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>저장소 생산자를 결합</strong>하여 강화된 새 저장소 생산자를 반환하는 고차함수</li>
<li>미들웨어와 비슷하게 <em>조합가능</em> 한 방식으로 저장소 인터페이스를 바꿀 수 있도록 한다.</li>
</ul>
<br />



<h2 id="Do-I-really-need"><a href="#Do-I-really-need" class="headerlink" title="Do I really need?"></a>Do I really need?</h2><p>Redux를 사용하기 적절한 때는,</p>
<ul>
<li><strong>계속해서 바뀌는 상당한 양</strong>의 데이터가 있다</li>
<li>상태를 위한 <strong>단 하나의 근원</strong> (루트 저장소) 이 필요하다</li>
<li>최상위 컴포넌트가 <strike><strong>모든 상태를 가지고 있는 것</strong></strike>은 더 이상 적절하지 않다.</li>
</ul>
<br />



<h2 id="Basic-Example"><a href="#Basic-Example" class="headerlink" title="Basic Example"></a>Basic Example</h2><ol>
<li><p>앱의 <strong>상태 전부</strong>는 하나의 저장소(<em>store</em>)안에 있는 객체 트리에 저장된다.</p>
</li>
<li><p><strong>상태 트리를 변경하</strong>는 유일한 방법은 무엇이 일어날지 서술하는 객체인 액션(<em>action</em>)을 보내는 것 뿐이며,</p>
</li>
<li><p><strong>액션이 상태 트리를 어떻게 변경할지</strong> 명시하기 위해 리듀서(<em>reducer</em>)를 작성해야 한다.</p>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">&#x27;redux&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 이것이 (state, action) =&gt; state 형태의 순수 함수인 리듀서입니다.</span></span><br><span class="line"><span class="comment"> * 리듀서는 액션이 어떻게 상태를 다음 상태로 변경하는지 서술합니다.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">counter</span>(<span class="params">state = <span class="number">0</span>, action</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">switch</span> (action.type) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;INCREMENT&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> state + <span class="number">1</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;DECREMENT&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> state - <span class="number">1</span></span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="keyword">return</span> state</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 앱의 상태를 보관하는 Redux 저장소를 만듭니다.</span></span><br><span class="line"><span class="comment">// API로는 &#123; subscribe, dispatch, getState &#125;가 있습니다.</span></span><br><span class="line"><span class="keyword">let</span> store = createStore(counter)</span><br><span class="line"></span><br><span class="line"><span class="comment">// subscribe()를 이용해 상태 변화에 따라 UI가 변경되게 할 수 있습니다.</span></span><br><span class="line"><span class="comment">// 보통은 subscribe()를 직접 사용하기보다는,</span></span><br><span class="line"><span class="comment">// 뷰 바인딩 라이브러리(예를 들어 React Redux)를 사용합니다.</span></span><br><span class="line"><span class="comment">// 하지만 현재 상태를 localStorage에 영속적으로 저장할 때도 편리합니다.</span></span><br><span class="line">store.subscribe(<span class="function">() =&gt;</span> <span class="built_in">console</span>.log(store.getState())))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 내부 상태를 변경하는 유일한 방법은 액션을 보내는 것뿐입니다.</span></span><br><span class="line"><span class="comment">// 액션은 직렬화할수도, 로깅할수도, 저장할수도 있으며 나중에 재실행할수도 있습니다.</span></span><br><span class="line">store.dispatch(&#123; <span class="attr">type</span>: <span class="string">&#x27;INCREMENT&#x27;</span> &#125;)</span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line">store.dispatch(&#123; <span class="attr">type</span>: <span class="string">&#x27;INCREMENT&#x27;</span> &#125;)</span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line">store.dispatch(&#123; <span class="attr">type</span>: <span class="string">&#x27;DECREMENT&#x27;</span> &#125;)</span><br><span class="line"><span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<p>상태를 바로 변경하는 대신, <strong>액션</strong>이라 불리는 평범한 객체를 통해 일어날 변경을 명시한다. </p>
<p>그리고 각각의 액션이 전체 애플리케이션의 상태를 어떻게 변경할지 결정하는 특별한 함수인 <strong>리듀서</strong>를 작성합니다.</p>
<ul>
<li>보통의 Redux 앱에는 <strong>하나의 루트 리듀서 함수를 가진 단 하나의 저장소</strong>가 있다. </li>
</ul>
<br />



<h2 id="Sample"><a href="#Sample" class="headerlink" title="Sample"></a>Sample</h2><p>action은 <code>setter</code> 가 없는 모델(클래스)과 같은 객체이다. 다른 코드가 임의로 이를 수정할 수 없기 때문에, 버그 발생률을 낮춘다.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  todos: [&#123;</span><br><span class="line">    text: &#x27;Eat food&#x27;,</span><br><span class="line">    completed: true</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    text: &#x27;Exercise&#x27;,</span><br><span class="line">    completed: false</span><br><span class="line">  &#125;],</span><br><span class="line">  visibilityFilter: &#x27;SHOW_COMPLETED&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>state을 바꾸기 위해서는 action을 dispatch 해야 한다.</strong> action은 (플레인) 자바스크립트 객체로 전달한다.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123; type: &#x27;ADD_TODO&#x27;, text: &#x27;Go to swimming pool&#x27; &#125;</span><br><span class="line">&#123; type: &#x27;TOGGLE_TODO&#x27;, index: 1 &#125;</span><br><span class="line">&#123; type: &#x27;SET_VISIBILITY_FILTER&#x27;, filter: &#x27;SHOW_ALL&#x27; &#125;</span><br></pre></td></tr></table></figure>
<p>이렇게 모든 변화를 action으로 표현하는 것은 앱의 세부적인 변화부터 전체적인 변화까지 파악할 수 있도록 한다.</p>
<p>이러한 state과 action을 묶기 위해서, reducer를 사용한다. 다만, reducer은 큰 규모로 다루는 것보다 <em>작은 규모로 나누어서 함수당 하나의 역할을 담당</em> 하도록 한다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// reducer 1</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">visibilityFilter</span>(<span class="params">state = <span class="string">&#x27;SHOW_ALL&#x27;</span>, action</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (action.type === <span class="string">&#x27;SET_VISIBILITY_FILTER&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> action.filter</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> state</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// reducer 2</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">todos</span>(<span class="params">state = [], action</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">switch</span> (action.type) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;ADD_TODO&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> state.concat([&#123; <span class="attr">text</span>: action.text, <span class="attr">completed</span>: <span class="literal">false</span> &#125;])</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;TOGGLE_TODO&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> state.map(<span class="function">(<span class="params">todo, index</span>) =&gt;</span></span><br><span class="line">        action.index === index</span><br><span class="line">          ? &#123; <span class="attr">text</span>: todo.text, <span class="attr">completed</span>: !todo.completed &#125;</span><br><span class="line">          : todo</span><br><span class="line">      )</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="keyword">return</span> state</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>최종적으로, 위와 같이 잘게 나눈 reducer를 통합하여 전체적인 reducer 기능을 하는 루트 reducer를 생성한다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">todoApp</span>(<span class="params">state = &#123;&#125;, action</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    todos: todos(state.todos, action),</span><br><span class="line">    visibilityFilter: visibilityFilter(state.visibilityFilter, action)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



                    
                        


                    
                    
                        <p>
                            <a
                                href="/2021/05/27/THUREE-Redux/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2021/05/08/4%EC%B0%A8-%EC%84%B8%EB%AF%B8%EB%82%98-08-05-21/"
                            aria-label=": 4차 세미나_08/05/21"
                        >
                            4차 세미나_08/05/21
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2021-05-08T22:38:42+09:00">
	
		    May 08, 2021
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/SOPT/">SOPT</a>, <a class="category-link" href="/categories/SOPT/WEB-28th/">WEB_28th</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h2 id="React-실전"><a href="#React-실전" class="headerlink" title="React 실전"></a>React 실전</h2><br />



<h3 id="조건부-렌더링"><a href="#조건부-렌더링" class="headerlink" title="조건부 렌더링"></a>조건부 렌더링</h3><blockquote>
<p><code>if-else</code> : 조건에 따라 다른 컴포넌트를 렌더링할 때 사용한다. </p>
</blockquote>
<ol>
<li><code>&amp;&amp;</code> : 조건이 <code>true</code> 면 다음 컴포넌트 (설정값) 를 보여줌 / 다음 조건으로 넘어감</li>
<li><code>삼항연산자</code> : 조건이 <code>true</code> 면 첫번째, 조건이 <code>false</code> 면 두번째 설정값 보여줌</li>
<li><code>switch</code> : 조건이 <code>여러 개 </code> 일 때 사용하면 좋음</li>
</ol>
<br />



<h3 id="List-amp-Key"><a href="#List-amp-Key" class="headerlink" title="List &amp; Key"></a>List &amp; Key</h3><ul>
<li><strong>list를 렌더링</strong> 할 때는 반드시 <em><strong>props에 key를 설정해야 한다.</strong></em></li>
<li>key를 설정하지 않으면 오류 메시지가 뜬다.</li>
<li>key 는 각 요소의 <strong>고유값</strong> (id, index 등) 으로 설정해야 한다.</li>
<li>key가 있어야 배열을 <em>효율적으로 렌더링</em> 할 수 있다.<ul>
<li>배열이 변경되면, <strong>바뀌는 부분만 업데이트</strong> 한다.</li>
<li>key를 <em>설정하지 않으면, 하나만 바뀌어도 전체가 리렌더링</em> 됨</li>
</ul>
</li>
</ul>
<br />



<h3 id="BEM-방법론"><a href="#BEM-방법론" class="headerlink" title="BEM 방법론"></a>BEM 방법론</h3><blockquote>
<p>Block Element Modifier</p>
</blockquote>
<br />



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.block__element--modifier</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>css className</strong>을 정하는 방법론 중 하나<ul>
<li><em>class 이름</em> 에만 사용 가능함</li>
<li><strong>camelCase는 class 이름에는 사용하지 않음</strong><ul>
<li>대신 <code>camel-case</code> 처럼 <code>하이픈</code> 사용!</li>
</ul>
</li>
</ul>
</li>
<li><strong>구조를 쉽게 파악</strong>할 수 있다는 장점이 있음</li>
</ul>
<br />



<img align="center" src="https://user-images.githubusercontent.com/49134038/117648288-011aab80-b1c9-11eb-8ed3-0e1035d6829c.png" />

<ol>
<li><code>block</code> : <strong>재사용 가능</strong>한, <strong>기능적으로 독립적</strong>인 컴포넌트</li>
<li><code>element</code> : <em>block을 구성</em> 하는 단위</li>
<li><code>modifier</code> : block 이나 element 의 <strong>속성</strong></li>
</ol>
<br />



<table>
  <thead>
      <th>
      장점
    </th>
    <th>
      단점
    </th>
  </thead>
  <tbody>
      <tr>
        <td>
          className의 중복 방지
      </td>
      <td>
          className이 길고 복잡해질 수 있음
      </td>
    </tr>
    <tr>
        <td>
          className 만으로 마크업 구조 파악 가능
      </td>
    </tr>
    <tr>
        <td>
          SASS에서 부모 선택자와 사용하면 편리함
      </td>
    </tr>
    <tr>
        <td>
          유지 보수에 유리함
      </td>
    </tr>
  </tbody>
</table>

<br />



<h3 id="SASS"><a href="#SASS" class="headerlink" title="SASS"></a>SASS</h3><blockquote>
<p>Syntactically Awesome Style Sheets</p>
</blockquote>
<br />



<ul>
<li><p>CSS <u>Pre-processor (전처리기)</u></p>
<ul>
<li>SASS 문법으로 작성하나 CSS로 컴파일 됨</li>
</ul>
</li>
<li><p>CSS의 불편한 점들을 보완하고, 확장된 기능을 사용할 수 있다.</p>
<ul>
<li>CSS의 확장판으로 볼 수 있으나, 문법이 다르다.</li>
</ul>
</li>
</ul>
<br />



<h3 id="SCSS"><a href="#SCSS" class="headerlink" title="SCSS"></a>SCSS</h3><blockquote>
<p>Sassy CCS</p>
</blockquote>
<br />



<ul>
<li><p>SASS의 기능을 지원하는 <em>CSS의 Superset</em></p>
<ul>
<li>CSS의 확장판</li>
</ul>
</li>
<li><p>기존의 CSS 문법과 유사하고, SASS보다 사용성이 높다.</p>
</li>
<li><p>변수, 연산자, 내장함수, 중첩 등 다양한 기능 지원</p>
<ul>
<li><p><code>변수</code></p>
<ul>
<li><code>$</code> 로 변수 선언</li>
<li>block scope</li>
<li>재할당 가능</li>
</ul>
</li>
<li><p><code>연산</code></p>
<ul>
<li>연산자 사용 가능 (e.g. +, -, *, /, %, ==, !=)</li>
</ul>
</li>
<li><p><code>import</code></p>
<ul>
<li><code>@import &quot;다른 스타일 파일&quot;</code></li>
<li>scss 확장자 생략 가능</li>
<li><code>_</code> 로 시작하는 파일은 컴파일되지 않음</li>
</ul>
</li>
<li><p><code>extend</code></p>
<ul>
<li><code>@extend</code> 로 상속</li>
</ul>
</li>
<li><p><code>mixin</code></p>
<ul>
<li><code>@mixin</code> 으로 인수를 받을 수 있음</li>
<li><code>@include</code> 를 이용해 <em>선언한 mixin 사용</em></li>
</ul>
</li>
<li><p><code>중첩</code></p>
<ul>
<li>선택자 중첩 가능</li>
<li><code>&amp;</code> 로 부모 선택자 사용</li>
</ul>
<img align="center" src="https://user-images.githubusercontent.com/49134038/117648295-024bd880-b1c9-11eb-8585-7705099e333b.png" />

</li>
</ul>
</li>
</ul>
<br />



<h3 id="Grid-Layout"><a href="#Grid-Layout" class="headerlink" title="Grid Layout"></a>Grid Layout</h3><blockquote>
<p>2차원 레이아웃 시스템</p>
</blockquote>
<img align="center" src="https://miro.medium.com/max/871/1*kI78qZQjw_ax1kJo4lPOcw.png" />

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># <span class="selector-tag">Grid</span> <span class="selector-tag">Layout</span> 적용</span><br><span class="line"><span class="selector-tag">display</span>: <span class="selector-tag">grid</span>;</span><br><span class="line"></span><br><span class="line"># 가로/ 세로 기준 나열 방법</span><br><span class="line"><span class="selector-tag">grid-template-columns</span>: 1<span class="selector-tag">fr</span> 2<span class="selector-tag">fr</span> 3<span class="selector-tag">fr</span>;</span><br><span class="line"><span class="selector-tag">grid-template-rows</span>: 100<span class="selector-tag">px</span> 200<span class="selector-tag">px</span>;</span><br><span class="line"></span><br><span class="line"># 속성값으로 사용할 수 있는 함수</span><br><span class="line"><span class="selector-tag">repeat</span>(반복횟수, 반복값)</span><br><span class="line"><span class="selector-tag">minmax</span>(최소값, 최대값)</span><br><span class="line"><span class="selector-tag">repeat</span>(<span class="selector-tag">auto-fit</span>, <span class="selector-tag">minmax</span>(20%, <span class="selector-tag">auto</span>))</span><br><span class="line"></span><br><span class="line"># <span class="selector-tag">Grid</span> 셀을 병합할 때</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">grid-column-start</span>: 2;</span><br><span class="line"><span class="selector-tag">grid-column-end</span>: 4;</span><br><span class="line">### <span class="selector-tag">grid-column</span>: 2 / 4;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">grid-row-start</span>: 1;</span><br><span class="line"><span class="selector-tag">grid-row-end</span>: 3;</span><br><span class="line">### <span class="selector-tag">grid-row</span>: 1 / 3;</span><br></pre></td></tr></table></figure>
<br />



<ul>
<li>row 또는 column 만을 사용한 1차원 (i.e. Flexbox) 을 넘어 2차원 시스템 (i.e. Grid) 으로 유연하게 레이아웃 배치 및 사용 가능</li>
<li>왼쪽 위부터 차례대로 1번~ 순서 할당</li>
<li><strong>보통 repeat의 반복값에 <em>minmax</em> 함수 이용</strong></li>
<li><code>auto-fill</code> : 간격이 자동적으로 조절됨, 균등하게 나누어짐</li>
<li><code>auto-fit</code> : 정해진 구역에서 자리 할당</li>
<li><code>grid-@@-end</code> : 끝나는 자리 <strong>+1</strong> 값<ul>
<li>e.g. <code>grid-column-end = 3</code> 일 때, <strong>end 위치는 2</strong>임</li>
</ul>
</li>
</ul>
<br />



<h3 id="React-Router"><a href="#React-Router" class="headerlink" title="React Router"></a>React Router</h3><blockquote>
<p>화면 전환을 도와주는 React의 서드파티 라이브러리</p>
</blockquote>
<br />



<ul>
<li><p>SPA에서는 하나의 html 파일로 변화하는 부분만 교체함</p>
</li>
<li><p>SPA에서는 React Router의 <code>Link</code> 를 이용해서 페이지 이동</p>
<ul>
<li><code>a</code> tag 사용하면 안 됨 ( 기존의 웹 페이지는 <code>&lt;a href=&quot;&quot;&gt;&lt;/a&gt;</code> 로 페이지 이동 )</li>
</ul>
</li>
</ul>
<br />



<ol>
<li><p>Link</p>
<ul>
<li><p>페이지 이동</p>
</li>
<li><p>브라우저의 주소만 변경되고 레이아웃에서 변경된 부분만 리렌더링 됨, 전체 화면은 동일 (Single Page Application) 하다!</p>
</li>
</ul>
</li>
<li><p>Route</p>
<ul>
<li>주소가 path 일 때, component를 렌더링한다.</li>
<li><code>exact</code> : <strong>path가 정확하게 일치할 때만</strong> 이동</li>
</ul>
</li>
<li><p>Router</p>
<ul>
<li>Link, Route 태그를 묶는 인터페이스<ul>
<li><code>&lt;BrowserRouter&gt;</code> 태그 안에 <code>&lt;Route&gt;</code> 태그가 존재해야 함!</li>
</ul>
</li>
<li>최상위에 하나만 존재한다.</li>
<li>BrowserRouter &gt;&gt; HashRouter<ul>
<li>BrowserRouter : <strong>history 데이터</strong> (API) 가 내장됨</li>
</ul>
</li>
</ul>
</li>
<li><p>Switch</p>
<ul>
<li>첫번째로 매칭되는 path의 component를 렌더링한다.</li>
<li>Default 처리를 할 때 유용하다. (e.g. “Page Not Found”)</li>
<li><strong>Switch를 사용하지 않은 상태에서 path가 없는 컴포넌트가 밑에 있을 경우 순서에 상관 없이 해당 컴포넌트부터 렌더링 된다. (순서가 무너지게 됨)</strong></li>
</ul>
</li>
<li><p>withRouter</p>
<ul>
<li>고차 컴포넌트 <strong>( Higher Order Component )</strong></li>
<li><strong>Route가 아닌 컴포넌트에서</strong> <code>match</code>, <code>history</code>, <code>location</code> 사용 가능</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; withRouter &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> ComponentName = <span class="function">(<span class="params">&#123; history &#125;</span>) =&gt;</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> withRouter(ComponentName);</span><br></pre></td></tr></table></figure>
<br />



</li>
</ol>
<h4 id="Route의-기본-props"><a href="#Route의-기본-props" class="headerlink" title="Route의 기본 props"></a>Route의 기본 props</h4><ol>
<li>history<ul>
<li>주소를 임의로 변경하거나 돌아갈 수 있음</li>
<li><code>history.push()</code> : 새로운 경로를 history stack에 push하여 이동</li>
<li>history stack에 방문 기록을 저장하기 때문에 go / goBack 등이 가능함</li>
</ul>
</li>
<li>match<ul>
<li>Route path와 URL 매칭에 대한 정보</li>
<li><code>match.params</code> :  path 설정값<ul>
<li>현재 주소창의 위치를 반환</li>
</ul>
</li>
</ul>
</li>
<li>location<ul>
<li>현재 페이지의 정보</li>
<li><code>location.search</code> : url 쿼리스트링</li>
<li><em>history의 속성에도 location이 있음</em></li>
</ul>
</li>
</ol>
<br />



<h3 id="React-Hooks"><a href="#React-Hooks" class="headerlink" title="React Hooks"></a>React Hooks</h3><ul>
<li><p><code>useRef</code></p>
<blockquote>
<p>React에서 <strong>DOM 요소</strong>를 가져올 때 사용함</p>
</blockquote>
<ul>
<li><p><code>const 변수명 = useRef();</code> 로 선언한다.</p>
</li>
<li><p><em>가져올 요소의</em> attribute에 <code>ref=&#123;변수명&#125;</code> 을 추가한다.</p>
</li>
<li><p><code>변수명.current</code> 로 DOM 요소를 <em>가져올</em> 수 있다.</p>
</li>
</ul>
</li>
</ul>
<br />



<h3 id="json-server"><a href="#json-server" class="headerlink" title="json-server"></a>json-server</h3><blockquote>
<p>JSON 파일로 로컬에 연습용 서버 만들기</p>
</blockquote>
<br />



<ul>
<li>src 폴더 밖에 data.json 파일을 생성한 후, 더미 데이터 넣기</li>
<li><strong>React 기본 port가 3000번</strong>이기 때문에, 서버는 다르게 지정할 것!</li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2021/05/08/4%EC%B0%A8-%EC%84%B8%EB%AF%B8%EB%82%98-08-05-21/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2021/05/05/THUREE-Hooks/"
                            aria-label=": Hooks"
                        >
                            Hooks
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2021-05-05T23:44:17+09:00">
	
		    May 05, 2021
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/SOPT/">SOPT</a>, <a class="category-link" href="/categories/SOPT/THUREE/">THUREE</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h2 id="Hooks"><a href="#Hooks" class="headerlink" title="Hooks"></a>Hooks</h2><br />



<h3 id="기본-Hook"><a href="#기본-Hook" class="headerlink" title="기본 Hook"></a>기본 Hook</h3><br />



<h4 id="useState"><a href="#useState" class="headerlink" title="useState"></a>useState</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [state, setState] = useState(initialState);</span><br></pre></td></tr></table></figure>
<ul>
<li><p><code>useState()</code> : <code>state</code> 와 <code>setState</code> 을 반환하는 함수</p>
<ul>
<li><code>initialState</code> : 초기값<ul>
<li>보통 <code>null</code> 이나 <code>&quot;&quot;</code> 등의 default value로 설정한다.</li>
</ul>
</li>
</ul>
</li>
<li><p><code>state</code> : 상태 유지 (저장) 값</p>
<ul>
<li>최초 렌더링 시 반환된 <code>state</code> 는 <code>initialValue</code> 이다.</li>
</ul>
</li>
<li><p><code>setState</code> : <code>state</code> 값을 갱신하는 함수</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setState(newState);</span><br></pre></td></tr></table></figure>
<ul>
<li>새 <code>state</code> 값을 받으면 컴포넌트 리렌더링을 큐에 등록한다.</li>
<li>리렌더링 시 <code>useState</code> 가 반환하는 첫번째 값 (인자) 은 갱신된 최신 <code>state</code> 이다.</li>
</ul>
</li>
</ul>
<br />



<blockquote>
<p>Note</p>
<p>React guarantees that <code>setState</code> function identity is stable and won’t change on re-renders. This is why it’s safe to omit from the <code>useEffect</code> or <code>useCallback</code> dependency list.</p>
</blockquote>
<br />

<h5 id="Functional-Updates"><a href="#Functional-Updates" class="headerlink" title="Functional Updates"></a>Functional Updates</h5><blockquote>
<p> 함수적 갱신</p>
</blockquote>
<br />



<ol>
<li><p><code>setState</code> 가 값을 갱신하는 과정을 직접 코드로 작성하면 다음과 같다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [state, setState] = useState(&#123;&#125;);</span><br><span class="line">setState(<span class="function"><span class="params">prevState</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// Object.assign would also work</span></span><br><span class="line">  <span class="keyword">return</span> &#123;...prevState, ...updatedValues&#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>갱신된 객체를 자동으로 merge하는 <code> useState</code> 와 반대로, <code>setState</code> 는 <code>initialValue</code> 를 유지한다.</p>
</blockquote>
<p>이전 <code>state</code> 를 이용해서 값을 <strong>갱신</strong>하는 경우, 이전 값을 받아 갱신된 값을 반환하는 함수를 <code>setState</code> 로 전달하면 된다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Counter</span> (<span class="params">&#123; initialCount &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(initialCount);</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      Count: &#123;count&#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 초기화</span></span><br><span class="line">      &lt;button onClick=&#123;<span class="function">() =&gt;</span> setCount(initialCount)&#125;&gt;Reset&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 이전 값을 이용해서 값을 갱신하는 경우</span></span><br><span class="line">			<span class="comment">// parameter value : 현재 값</span></span><br><span class="line">			<span class="comment">// return value : 갱신할 값</span></span><br><span class="line">      &lt;button onClick=&#123;<span class="function">() =&gt;</span> setCount(<span class="function"><span class="params">prevCount</span> =&gt;</span> prevCount - <span class="number">1</span>)&#125;&gt;-&lt;/button&gt;</span><br><span class="line">      &lt;button onClick=&#123;<span class="function">() =&gt;</span> setCount(<span class="function"><span class="params">prevCount</span> =&gt;</span> prevCount + <span class="number">1</span>)&#125;&gt;+&lt;/button&gt;</span><br><span class="line">    &lt;/&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br />



</li>
</ol>
<blockquote>
<p>Note</p>
<p>Another option is <code>useReducer</code>, which is more suited for managing state objects that contain multiple sub-values.</p>
</blockquote>
<br />



<ol start="2">
<li>업데이트 함수 (setState에 전달한 함수) 가 현재 상태와 정확히 동일한 값을 반환한다면 바로 뒤에 일어날 리렌더링은 완전히 건너뛰게 된다.</li>
</ol>
<br />



<blockquote>
<p><strong>React에서 <code>&#123;&#125;</code> 를 쓰는 경우</strong></p>
<ul>
<li>JSX 내부에서는 객체를 받아옴<ul>
<li><code>&#123;&#123;&#125;&#125;</code> : 객체를 받아오는 것이 아니라 JSX 내부에서 생성할 때</li>
</ul>
</li>
<li>JSX 외부에서는 일반 JS의 문법 중 function destructurizing을 실행</li>
</ul>
</blockquote>
<br />



<h5 id="Lazy-Initial-State"><a href="#Lazy-Initial-State" class="headerlink" title="Lazy Initial State"></a>Lazy Initial State</h5><blockquote>
<p> 지연 초기 state</p>
</blockquote>
<br />



<p><code>initialState</code> 인자는 초기 렌더링 시에 사용하는 <code>state (값)</code> 으로, 리렌더링 시 이 값은 무시된다.</p>
<p>만약 초기 state가 고비용 계산의 결과라면, 초기 렌더링 시에만 실행될 함수를 정의하여 전달하는 것이 효율적이다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [state, setState] = useState(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> initialState = someExpensiveComputation(props);</span><br><span class="line">  <span class="keyword">return</span> initialState;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<br />



<h5 id="Bailing-Out-of-a-State-Update"><a href="#Bailing-Out-of-a-State-Update" class="headerlink" title="Bailing Out of a State Update"></a>Bailing Out of a State Update</h5><blockquote>
<p>state 갱신의 취소</p>
</blockquote>
<br />



<p>앞서 설명한 <em>“업데이트 함수 (setState에 전달한 함수) 가 현재 상태와 정확히 동일한 값을 반환한다면 바로 뒤에 일어날 리렌더링은 완전히 건너뛰게 된다.”</em> 를 추가적으로 설명하자면,</p>
<p>State Hook을 현재 state와 동일한 값으로 갱신 (update) 할 경우, 리액트는 children or firing effects를 렌더링하는 과정을 건너뛰고 실행 (처리) 을 종료한다.</p>
<br />



<blockquote>
<p>Note</p>
<p>React may still need to render that specific component again before bailing out. That shouldn’t be a concern because React won’t unnecessarily go “deeper” into the tree. If you’re doing expensive calculations while rendering, you can optimize them with <code>useMemo</code>.</p>
</blockquote>
<br />



<h4 id="useEffect"><a href="#useEffect" class="headerlink" title="useEffect"></a>useEffect</h4><p>함수형 컴포넌트 내에서는 <em>React’s render phase</em>에 따라 <em>Mutations, subscriptions, timers, logging, and other side effects</em> 가 허용되지 않는다.</p>
<p>이를 위해 <code>useEffect</code> 를 사용할 수 있다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useEffect(didUpdate);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>useEffect()</code> : 모든 렌더링이 완료된 후 / 어떤 값이 변경되었을 때에만 동작 ( <code>didUpdate</code> ) 을 수행</li>
<li><code>didUpdate</code> : 특정 effect를 발생시키는 (명령형) 함수</li>
</ul>
<br />



<h5 id="Cleaning-Up-an-Effect"><a href="#Cleaning-Up-an-Effect" class="headerlink" title="Cleaning Up an Effect"></a>Cleaning Up an Effect</h5><blockquote>
<p>effect 정리</p>
</blockquote>
<br />



<p>Effect는 컴포넌트가 화면에서 제거될 때 정리되어야 하는 요소 (e.g. subscription, timer ID 등) 를 만들곤 한다. 이를 정리하는 함수를 <code>useEffect</code> 에 전달할 수 있다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">useEffect(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// new subscription is created on every update</span></span><br><span class="line">  <span class="keyword">const</span> subscription = props.source.subscribe();</span><br><span class="line">  <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// Clean up the subscription</span></span><br><span class="line">    subscription.unsubscribe();</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>clean-up function</code> (e.g. <code>subscription.unsubscribe()</code> )은 <strong>컴포넌트가 제거되기(=== 다음의 effect) <em>이전</em> 에 실행되어</strong> memory leaks를 방지한다.</li>
<li>컴포넌트가 여러번 리렌더링 될 경우, <strong>이전의 effect는 다음의 effect가 실행되기 <em>이전</em> 에 정리된다.</strong></li>
</ul>
<br />



<h5 id="Timing-of-Effects"><a href="#Timing-of-Effects" class="headerlink" title="Timing of Effects"></a>Timing of Effects</h5><blockquote>
<p>effect 타이밍</p>
</blockquote>
<br />



<p><code>useEffect</code>에 전달된 함수의 경우 레이아웃 배치과 그리기를 완료한 후, 지연된 이벤트가 발생하는 동안 실행된다. 이는 브라우저가 화면을 업데이트하는 과정을 방해하지 않기 때문에, 여러 <em>side effects (e.g. setting up subscriptions and event handlers)</em> 를 실행하기에 적합한 때이다.</p>
<p><code>useEffect</code> 는 브라우저가 그려지기 이전까지는 대기하지만, 새로운 렌더링이 발생하기 이전에 실행되는 것을 보장한다. 리액트는 언제나 새로운 업데이트가 발생하기 이전에 이전의 렌더링 effect를 모두 제거한다.</p>
<br />



<blockquote>
<p><code>useLayoutEffect</code></p>
<p>DOM 변경과 같이 사용자에게 effect가 보여지는 경우, visual inconsistency 방지를 위해 다음 execution (event) 이 실행되기 이전에 현재 화면이 렌더링이 됨과 동시에 effect가 (<em>synchronously</em>) 발생하여야 한다.</p>
</blockquote>
<br />



<h5 id="Conditionally-Firing-an-Effect"><a href="#Conditionally-Firing-an-Effect" class="headerlink" title="Conditionally Firing an Effect"></a>Conditionally Firing an Effect</h5><blockquote>
<p>조건부 effect 발생</p>
</blockquote>
<br />



<p>Effect의 default behavior은 렌더링이 모두 완료된 이후 실행되는 것이다. 이는 해당 effect의 dependency 중 하나가 변경될 때마다 새로 실행됨을 의미한다.</p>
<p>앞선 예제를 통해서 자세히 보면,</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">useEffect(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// new subscription is created on every update</span></span><br><span class="line">  <span class="keyword">const</span> subscription = props.source.subscribe();</span><br><span class="line">  <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// Clean up the subscription</span></span><br><span class="line">    subscription.unsubscribe();</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><code>subscription</code> 은 매 업데이트마다 생성될 필요 없이, <code>source prop</code> 이 변할 때만 새로 생성되면 된다.</p>
<p>이와 같은 현상을 방지하기 위해, <code> useEffect</code> 의 2번째 argument로 effect가 의존하는 (<em>depend on, dependency</em>) 배열을 전달한다.</p>
<p>따라서 위 예제를 수정해보면,</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">useEffect(</span><br><span class="line">  <span class="comment">// 전달하는 함수는 동일하되,</span></span><br><span class="line">  () =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> subscription = props.source.subscribe();</span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      subscription.unsubscribe();</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 두번째 인자로 dependency array (depend on하는 배열) 을 전달한다.</span></span><br><span class="line">  [props.source],</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>이를 통해 <code>subscription</code>은 <code>props.source</code>가 변경될 때에만 재생성된다.</p>
<br />



<p>만약 effect를 (mount 또는 unmount 시) 한 번만 수행하고 싶다면 두번째 인자로 빈 배열 ( <code>[]</code> ) 을 전달하면 된다. 이를 통해 effect는 컴포넌트 범위에서 가져온 값들 (e.g. props, state 등) 에 전혀 의존하지 않으므로 해당 값들이 변경되어도 다시 실행되지 않는다.</p>
<p>빈 배열 ( <code>[]</code> ) 은 effect 안에 있는 <code>props</code> 와 <code>state</code> 가 항상 초기값을 가지게 됨을 의미한다. 이는 <code>componentDidMount</code> 와 <code>componentWillUnMount</code> 의 기능과 같다.</p>
<br />



<blockquote>
<p>두번째 인자로 전달하는 배열은 effect에 사용되는 컴포넌트 범위의 모든 값 (e.g. props, state 등) 들을 포함해야 한다. 이를 위반할 시 이전 렌더링에서 설정한 값을 참조하는 버그가 발생한다.</p>
<p>이렇게 전달된 dependency 배열은 effect 함수에 인자로 전달되지 않는다. 하지만 effect 함수 내에서 참조된 모든 값들이 해당 배열에 포함되어야 하므로, 전달 여부는 유의미하지 않다.</p>
</blockquote>
<br />



<h4 id="useContext"><a href="#useContext" class="headerlink" title="useContext"></a>useContext</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> value = useContext(MyContext);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>useContext()</code> : <em>( <code>React.createContext</code> 를 통해 반환된 값인 )</em> context 객체에 **현재 context 값 (<code>MyContext</code>) **을 반환한다.<ul>
<li>가장 가까운 상위 컴포넌트 <code>&lt;MyContext.Provider&gt;</code> 가 업데이트 되면, <code>useContext</code> 는 해당 컴포넌트에 전달 (포함) 된 <strong>가장 최신</strong>의 context value 에 따라 화면을 리렌더링 한다.</li>
</ul>
</li>
<li><code>MyContext</code> : <strong>현재 context 값 (객체)</strong> 으로, 트리 구조에서 해당 컴포넌트의 <strong>상위 컴포넌트이면서 가장 가까운</strong> <code>&lt;MyContext.Provider&gt;</code> 의 <code>value prop</code> 에 따라 결정된다.<ul>
<li><code>useContext()</code> 의 인자는 <strong>context 객체</strong>여야 한다.<ul>
<li><strong>Correct:</strong> <code>useContext(MyContext)</code></li>
<li><strong>Incorrect:</strong> <code>useContext(MyContext.Consumer)</code></li>
<li><strong>Incorrect:</strong> <code>useContext(MyContext.Provider)</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<br />



<p><code>useContext</code> 를 사용한 컴포넌트는 context 값이 변경될 때마다 리렌더링된다. 리렌더링 되는 컴포넌트가 비싸다면, <code>momoization</code> 을 이용해 효율성을 높일 수 있다.</p>
<blockquote>
<p>상위 컴포넌트에서 <code>React.memo</code> 나 <code>shouldComponentUpdate</code> 를 쓰더라도, <code>useContext</code> 를 사용한 컴포넌트부터 리렌더링이 진행 (시작) 된다.</p>
</blockquote>
<br />



<p><code>useContext</code> 는 context를 <strong>읽고 변경사항을 구독 (확인)</strong> 하는 것만 가능하기 때문에, 해당 context의 값을 <strong>전달</strong>하기 위해 트리 구조 내 상위 컴포넌트로서 <code>&lt;MyContext.Provider&gt;</code> 가 필요하다.</p>
<br />



<h5 id="Putting-it-together-with-Context-Provider"><a href="#Putting-it-together-with-Context-Provider" class="headerlink" title="Putting it together with Context.Provider"></a>Putting it together with Context.Provider</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> themes = &#123;</span><br><span class="line">  light: &#123;</span><br><span class="line">    foreground: <span class="string">&quot;#000000&quot;</span>,</span><br><span class="line">    background: <span class="string">&quot;#eeeeee&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  dark: &#123;</span><br><span class="line">    foreground: <span class="string">&quot;#ffffff&quot;</span>,</span><br><span class="line">    background: <span class="string">&quot;#222222&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> ThemeContext = React.createContext(themes.light);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;ThemeContext.Provider value=&#123;themes.dark&#125;&gt;</span><br><span class="line">      &lt;Toolbar /&gt;</span><br><span class="line">    &lt;/ThemeContext.Provider&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Toolbar</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;ThemedButton /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ThemedButton</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// useContext의 인자로서 ThemeContext 객체 전달</span></span><br><span class="line">  <span class="comment">// theme = &lt;ThemeContext.Provider&gt;의 value인 &#123;themes.dark&#125; // 객체</span></span><br><span class="line">  <span class="keyword">const</span> theme = useContext(ThemeContext);</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;button style=&#123;&#123; <span class="attr">background</span>: theme.background, <span class="attr">color</span>: theme.foreground &#125;&#125;&gt;</span><br><span class="line">      I am styled by theme context!</span><br><span class="line">    &lt;/button&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br />

<br />



<hr>
<h3 id="추가-Hooks"><a href="#추가-Hooks" class="headerlink" title="추가 Hooks"></a>추가 Hooks</h3><br />



<h4 id="useReducer"><a href="#useReducer" class="headerlink" title="useReducer"></a>useReducer</h4><p><code>useState()</code> 의 대체재로서 사용한다. 여러 하위 값을 포함하거나 다음 state가 이전의 state 값에 영향을 받는 복잡한 state 로직을 가진 경우 선호된다.</p>
<p>컴포넌트의 state 업데이트 로직을 컴포넌트에서 분리하여 컴포넌트 바깥에서 작성하거나 다른 파일에서 작성한 후 불러와서 사용할 수도 있다.</p>
<p>또한 <code>callback</code> 대신 <code>dispatch</code>를 전달한 수 있어 <strong>deep update</strong>를 요구하는 컴포넌트의 경우 performance를 최적화할 수 있다.</p>
<blockquote>
<p><em>What is <strong>deep update</strong> in React?</em></p>
<p>먼저, React에서 <strong>update</strong>란; <code>useState()</code> 를 사용하는 모든 리액트 컴포넌트에서 사용가능한 함수로, 컴포넌트 state가 변경되었을 때 리액트에게 이를 알림으로써 해당 state에 종속된 UI를 업데이트하기 위해 컴포넌트에게 리렌더링이 필요하다는 것을 전달한다. </p>
<p>따라서, <strong>deep update</strong>란 <em>deep nested 객체 (many pieces of information과 fixed 스키마를 가진) 를 update</em> 하는 것을 의미한다. </p>
</blockquote>
<br />



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [state, dispatch] = useReducer(reducer, initialArg, init);</span><br></pre></td></tr></table></figure>
<ul>
<li><p><code>useReducer()</code> : <code>reducer</code> 를 받아 현재 <code>state</code>와 짝지어진 <code>dispatch</code> 함수를 반환한다.</p>
</li>
<li><p><code>reducer</code> : 현재 <code>state</code>와 <code>action</code> 객체를 파라미터로 받아와서 ( <code>(state, action)</code> ) 새로운 state를 반환하는 함수</p>
<ul>
<li><p><code>(state, action) =&gt; newState</code> 의 구조를 가진다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reducer</span>(<span class="params">state, action</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 새로운 state를 만드는 로직</span></span><br><span class="line">  <span class="comment">// const nextState = ...</span></span><br><span class="line">  <span class="keyword">return</span> nextState;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>반환하는 해당 state는 컴포넌트가 지닐 <strong>새로운 state</strong>가 된다.</p>
</li>
<li><p><code>action</code> : 업데이트를 위한 정보를 가지고 있다.</p>
<ul>
<li><p>주로 <code>type</code> 값을 지닌 객체 형태로 사용한다.</p>
<blockquote>
<p><code> type</code> 의 경우, <strong>대문자</strong> 를 사용하거나 <code>_</code> 로 시작하는 관습이 있다.</p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
<li><p><code>state</code> : 컴포넌트에서 사용할 수 있는 상태</p>
</li>
<li><p><code>dispatch</code> : <code>action</code> 을 (인자로 받아) 발생시키는 함수</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dispatch(&#123; <span class="attr">type</span>: <span class="string">&#x27;INCREMENT&#x27;</span> &#125;)</span><br></pre></td></tr></table></figure>
<br />



</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initialState = &#123;<span class="attr">count</span>: <span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reducer</span>(<span class="params">state, action</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">switch</span> (action.type) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;increment&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> &#123;<span class="attr">count</span>: state.count + <span class="number">1</span>&#125;;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;decrement&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> &#123;<span class="attr">count</span>: state.count - <span class="number">1</span>&#125;;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Counter</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [state, dispatch] = useReducer(reducer, initialState);</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      Count: &#123;state.count&#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// dispatch의 인자로 action (type) 전달</span></span><br><span class="line">      &lt;button onClick=&#123;<span class="function">() =&gt;</span> dispatch(&#123;<span class="attr">type</span>: <span class="string">&#x27;decrement&#x27;</span>&#125;)&#125;&gt;-&lt;/button&gt;</span><br><span class="line">      &lt;button onClick=&#123;<span class="function">() =&gt;</span> dispatch(&#123;<span class="attr">type</span>: <span class="string">&#x27;increment&#x27;</span>&#125;)&#125;&gt;+&lt;/button&gt;</span><br><span class="line">    &lt;/&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br />



<blockquote>
<p>Note</p>
<p>리액트는 리렌더링이 되더라도 dispatch 함수의 identity 는 동일하게 유지하기 때문에, useEffect 나 useCallback 의 dependency list에 포함하지 않는다.</p>
</blockquote>
<br />



<h5 id="Specifying-the-Initial-State"><a href="#Specifying-the-Initial-State" class="headerlink" title="Specifying the Initial State"></a>Specifying the Initial State</h5><blockquote>
<p>초기 state의 구체화</p>
</blockquote>
<br />



<p>useReducer() 의 state를 초기화하는 방법에는 2가지가 있다.</p>
<ol>
<li>가장 간단한 방법으로는, initial state를 2번째 인자로 전달하는 방법이 있다.</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [state, dispatch] = useReducer(</span><br><span class="line">	reducer,</span><br><span class="line">  &#123;<span class="attr">count</span>: initialCount&#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<br />



<h5 id="Lazy-Initialization"><a href="#Lazy-Initialization" class="headerlink" title="Lazy Initialization"></a>Lazy Initialization</h5><blockquote>
<p> 초기화 지연</p>
</blockquote>
<br />



<ol start="2">
<li>initial state를 lazily 생성하는 방법으로, init 함수를 3번째 인자로 전달하여 initial state를 init(initialArg) 로 설정할 수 있다.<ul>
<li>initial state 를 계산하는 로직을 reducer 밖에 정의하여 action 에 따른 state 재설정 시 유용하게 사용할 수 있다.</li>
</ul>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// initialization 함수를 외부에 정의</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params">initialCount</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;<span class="attr">count</span>: initialCount&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reducer</span>(<span class="params">state, action</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">switch</span> (action.type) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;increment&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> &#123;<span class="attr">count</span>: state.count + <span class="number">1</span>&#125;;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;decrement&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> &#123;<span class="attr">count</span>: state.count - <span class="number">1</span>&#125;;</span><br><span class="line">      </span><br><span class="line">    <span class="comment">// 재설정 시 init 함수 호출</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;reset&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> init(action.payload);</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Counter</span>(<span class="params">&#123;initialCount&#125;</span>) </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 3개의 인자 전달 (reducer, initial_value, initialization_function)</span></span><br><span class="line">  <span class="keyword">const</span> [state, dispatch] = useReducer(reducer, initialCount, init);</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      Count: &#123;state.count&#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 재설정 시 action 객체에 &#123;type, payload&#125; 전달</span></span><br><span class="line">      &lt;button</span><br><span class="line">        onClick=&#123;<span class="function">() =&gt;</span> dispatch(&#123;<span class="attr">type</span>: <span class="string">&#x27;reset&#x27;</span>, <span class="attr">payload</span>: initialCount&#125;)&#125;&gt;</span><br><span class="line">        Reset</span><br><span class="line">      &lt;/button&gt;</span><br><span class="line">      &lt;button onClick=&#123;<span class="function">() =&gt;</span> dispatch(&#123;<span class="attr">type</span>: <span class="string">&#x27;decrement&#x27;</span>&#125;)&#125;&gt;-&lt;/button&gt;</span><br><span class="line">      &lt;button onClick=&#123;<span class="function">() =&gt;</span> dispatch(&#123;<span class="attr">type</span>: <span class="string">&#x27;increment&#x27;</span>&#125;)&#125;&gt;+&lt;/button&gt;</span><br><span class="line">    &lt;/&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>payload</code></p>
<p>전송되는 데이터</p>
</blockquote>
<br />



<h5 id="Bailing-Out-of-a-Dispatch"><a href="#Bailing-Out-of-a-Dispatch" class="headerlink" title="Bailing Out of a Dispatch"></a>Bailing Out of a Dispatch</h5><blockquote>
<p> dispatch의 회피</p>
</blockquote>
<br />



<p>앞서 <code>useState()</code> 에서 설명한 것과 같이, Reducer Hook ( <code>useReducer()</code> ) 이 현재 state과 동일한 값을 반환할 경우, 자식을 렌더링하거나 effect를 실행하지 않고 처리 (i.e. 렌더링, 이벤트) 를 종료한다.</p>
<blockquote>
<p><strong><code>Object.is()</code> comparison 알고리즘</strong>을 이용</p>
</blockquote>
<p>처리를 종료하기 전에 해당 컴포넌트를 다시 렌더링해야 하는 경우가 존재하지만, 그 이상으로 깊게 트리를 탐색하지 않으므로 문제가 되지는 않는다. 만약 렌더링에 <em>비싼 계산 과정</em> 이 포함된다면, <code>useMemo()</code> 를 사용할 수 있다.</p>
<br />



<h4 id="useCallback"><a href="#useCallback" class="headerlink" title="useCallback"></a>useCallback</h4><p>memoized callback 을 반환한다.</p>
<br />



<blockquote>
<p><strong><code>memoization</code></strong></p>
<ol>
<li><p>비싼 함수의 호출 결과를 저장하고 같은 input이 발생할 경우 저장된 (캐시) 값을 반환하여 프로그램의 수행 속도를 증가시키는 최적화 (optimization) 기술</p>
</li>
<li><p>(some sort of) 캐시를 이용하여 (비싼) 함수를 부르는 횟수를 제한하는 것</p>
<ul>
<li>특정 input에 대한 캐시값이 없다면, original 함수가 한번 호출되어 (캐시) map에 결과값이 추가된다.</li>
<li>캐시를 지우지 않는 한 결과는 캐시 map에서 반환된다.</li>
</ul>
</li>
</ol>
<br />



<p>👉 <strong><code>useCallback</code> hook 은 다른 기능을 한다.</strong></p>
</blockquote>
<p>🌈 <strong><a target="_blank" rel="noopener" href="https://coder.earth/post/usecallback">REFERENCE</a>를 꼭 읽어보세염 (:-&gt;</strong></p>
<p><code>useCallback()</code> 을 이용하는 이유는, callback 함수인 <code>cb</code>의 <strong>memoized 버전</strong>을 받기 위해서이다.</p>
<p>컴포넌트가 처음으로 렌더링될 때, 새로운 <code>cb</code> 가 생성되고 똑같은 <code>cb</code> 함수가 <code>useCallback()</code> 에 의해 반환된다.</p>
<img src="https://coder.earth/static/usecallback_1-aa6572c6cb98757914009ef9063d2204-04c70.png" align="center" />

<br />



<p>위 예시에서 <code>memoizedCb()</code> 가 호출되면, original <code>cb</code> 콜백함수가 호출되어 결과적으로 original <code>cb 함수</code>를 호출한다.</p>
<p>컴포넌트가 리렌더링 (2번째) 되면, 새로운 <code>cb</code> 가 생성된다. 하지만 <code>useCallback()</code> 에 전달된 dependency가 변하지 않았기 때문에, 생성된 <code>cb</code>는 버려지고 <code>memoizedCb</code>는 첫번째 렌더링 때 생성된 <code>cb</code>를 유지한다. 결국 이 때의 <code>memoizedCb</code> 호출은 이전과 같이 기존의 (old) <code>cb</code> 를 호출하여 original <code>cb 함수</code>를 호출하게 된다.</p>
<p>dependency가 변하지 않는 이상, 모든 렌더링은 위와 같은 과정을 반복하여 사용하지 않는 콜백함수를 생성하고 기존의, memoized 콜백을 호출하여 결국 original <code>cb 함수</code>를 호출한다.</p>
<img src="https://coder.earth/static/usecallback_5-0aacccaf0b04a87b0fa2cf7eab59baaf-04c70.png" align="center" />

<br />



<p>dependency 가 변한 경우, <code>memoizedCb</code> 도 변한다.</p>
<p>이전의 <code>memoizedCb</code> 가 첫번째 <code>cb</code>를 호출하는 과정과 비슷하게, 이 때의 <code>memoizedCb</code> 또한 dependency 가 변한 시점부터 첫번째 <code>cb</code> 를 호출한다.</p>
<img src="https://coder.earth/static/usecallback_7-bd85d59569c0dc834c931abc121027b8-04c70.png" align="center" />

<br />



<blockquote>
<p><strong><code>callback</code></strong></p>
<p>특정 함수 (콜백함수) 를 다른 함수에 전달하고 이를 호출하는 특정 이벤트 (e.g. a query finished or an error occurs) 가 발생하면 콜백함수를 발생시키는 것</p>
<ul>
<li>여러 조각의 코드의 소통을 정의하여, 콜백함수를 호출하는 모듈이 결과를 사용하는 것이 아니라 이벤트가 발생했을 때 호출을 받는 함수에 콜백함수를 전달한다.</li>
<li>여기서 중요한 점은, one piece of code가 콜백함수를 호출하면 다른 (조각의) 코드가 이 호출을 받는다는 것이다. 여기서 어떠한 호출 코드도 잃으면 (생략되면) 안 되기 때문에, 콜백함수를 memoizing하여 모듈 간 소통 line을 끊는 방법이 탄생한 것이다.</li>
</ul>
</blockquote>
<p>결과적으로 <code>useCallback()</code> 이 하는 것은 똑같은 callback 의 횟수를 제한하는 것이다. 결과값들은 캐시에서 반환되지 않고, dependency 가 변한 시점으로부터 첫번째의 <code>cb</code> 와 같은 <code>memoizedCb</code> 를 반환한다.</p>
<br />



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> memoizedCallback = useCallback(</span><br><span class="line">  () =&gt; &#123;</span><br><span class="line">    doSomething(a, b);</span><br><span class="line">  &#125;,</span><br><span class="line">  [a, b],</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>useCallback()</code> : inline callback 함수와 dependencies 배열을 전달<ul>
<li><strong>memoized version of the callback</strong>을 반환하며, dependencies가 변했을 때만 memoized version 도 변경된다.</li>
<li><code>useCallback(fn, deps)</code> === <code>useMemo(() =&gt; fn, deps)</code></li>
</ul>
</li>
</ul>
<br />



<p>불필요한 렌더링을 방지하기 위해 reference의 동일성에 의존하는 (동일성에만 영향을 받는) (최적화된) 자식 컴포넌트에 콜백함수를 전달할 때 유용하다.</p>
<blockquote>
<p>앞선 <code>useEffect</code>와 마찬가지로, dependencies 배열은 콜백함수에 인자로 전달되지 않는다.</p>
<p>하지만 정의 자체가, <em>“콜백함수에서 참조하는 모든 값들은 dependencies 배열에 포함되어야 한다”</em> 이다.</p>
</blockquote>
<br />



<h4 id="useMemo"><a href="#useMemo" class="headerlink" title="useMemo"></a>useMemo</h4><p>memoized 값을 반환한다.</p>
<blockquote>
<p><code>useMemo</code> vs. <code>useCallback</code></p>
<p><code>useCallback()</code> : 함수 반환</p>
<p><code>useMemo()</code> : 값 반환</p>
</blockquote>
<br />



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> memoizedValue = useMemo(<span class="function">() =&gt;</span> computeExpensiveValue(a, b), [a, b]);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>useMemo()</code> : <code>create 함수</code>와 <code>dependencies 배열</code> 을 전달<ul>
<li>dependency 가 변할 때에만 memoized 값을 다시 계산한다. 이를 통해 비싼 계산 과정이 매 렌더링마다 발생하는 것을 방지한다.</li>
<li>2번째 인자 (<code>dependencies 배열</code> 로서) 에 빈 배열 ( <code>[]</code> ) 이 전달되면, 매 렌더링 마다 새로운 값이 계산된다.</li>
</ul>
</li>
</ul>
<br />



<p><code>useMemo()</code> 에 전달된 <code>create 함수</code> 는 <em><strong>렌더링 동안</strong></em> 실행된다.</p>
<blockquote>
<p>보통 side effect는 <code>useMemo</code> 가 아니라 <strong><code>useEffect</code> 에서 발생</strong>한다. 따라서 렌더링 동안은 다른 행동을 하지 않아야 한다. (당연함 -.-)</p>
</blockquote>
<br />



<blockquote>
<p>❗️<code>useMemo()</code> 는 성능 최적화에만 사용하고, 큰 의미적 기능 (semantic guarantee) 을 담지 않아야 한다. 따라서 <code>useMemo()</code> 를 사용하지 않고도 동작할 수 있도록 코드를 작성하고, 성능 최적화를 위해 <code>useMemo()</code> 를 추가하도록 한다.</p>
</blockquote>
<blockquote>
<p>앞선 <code>useEffect</code>, <code>useCallback</code> 과 마찬가지로, <code>depedencies 배열</code> 은 콜백함수에 인자로 전달되지 않는다.</p>
</blockquote>
<br />



<h4 id="useRef"><a href="#useRef" class="headerlink" title="useRef"></a>useRef</h4><p>JavaScript를 이용해 특정 <strong>DOM 을 선택</strong>해야 하는 경우 <code>getElementById</code>, <code>querySelector</code> 와 같은 <em>DOM Selector 함수</em> 를 사용한다.</p>
<p>리액트를 사용할 때도 특정 DOM 을 선택해야 하는 상황이 발생하는데, 이 때 <code>ref</code> 를 사용한다.</p>
<ul>
<li><strong>함수형 컴포넌트</strong>에서 <code>ref</code> 를 사용 할 때에는 <code>useRef</code> 라는 <em>Hook 함수</em> 를 사용한다.</li>
<li><strong>클래스형 컴포넌트</strong>에서는 <em>콜백 함수</em>를 사용하거나 <code>React.createRef</code> 라는 함수를 사용한다.</li>
</ul>
<br />



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> refContainer = useRef(initialValue);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>useRef()</code> : <em>(생성된 ref 객체의)</em> <code>.current</code> 프로퍼티 (속성) 가 전달된 인자 (e.g. <code>initialValue</code>) 로 초기화된, <strong>변경 가능한 ref 객체</strong>를 반환한다.<ul>
<li>변경가능한 값을 넣을 수 있는 <code>.current 프로퍼티</code>를 갖고 있는 <u>“박스”</u> 와 같다.</li>
<li>해당 객체는 컴포넌트의 <em>full lifetime</em> 동안 지속된다.</li>
</ul>
</li>
</ul>
<br />



<p><code>useRef()</code> 는 <strong>DOM에 접근</strong>하는 방법으로 많이 사용된다.</p>
<p><code>useRef()</code> 를 사용하여</p>
<ol>
<li><strong>Ref 객체</strong>를 만들고,</li>
<li>이 객체를 우리가 <strong>선택하고 싶은 DOM (노드) 에 <code>ref</code> 값으로</strong> 설정한다.</li>
<li>그러면, <strong>Ref 객체의 <code>.current</code> 값은 우리가 원하는 DOM 을 가르키</strong>게 된다.</li>
</ol>
<br />



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div ref=&#123;refContainer&#125; /&gt;</span><br></pre></td></tr></table></figure>
<p><code>refContainer</code> 의 <code>.current</code> 프로퍼티를 해당 ref 객체  ( <code>refContainer</code> ) 를 ref 로 설정한 DOM 노드로 설정하고, 노드가 변경될 때마다 그에 맞게 <code>.current</code> 프로퍼티를 조정한다.</p>
<blockquote>
<p>하지만 <code>useRef()</code> 는 <code>.current</code> 에 변경 사항이 존재하더라도 <strong>리렌더링 하지 않</strong>기 때문에, 이에 대해 <strong>notify 하지 않는다</strong>. 만약 리액트가 DOM 노드에 ref 객체를 연결하거나 제거할 때 notify 하고 싶다면, <code>callback ref</code> 를 이용해야 한다.</p>
</blockquote>
<br />



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">TextInput_With_FocusButton</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// inputEl : ref 객체 (null로 초기화됨)</span></span><br><span class="line">  <span class="keyword">const</span> inputEl = useRef(<span class="literal">null</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// button을 클릭하면 inputEl.current 인 input node에 focus() 를 적용한다.</span></span><br><span class="line">  <span class="keyword">const</span> onButtonClick = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// `current` points to the mounted text input element</span></span><br><span class="line">    inputEl.current.focus();</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">    	<span class="comment">// inputEl ref 객체를 ref로 설정하여 inputEl.current 프로퍼티를 input node 로 설정한다.</span></span><br><span class="line">      &lt;input ref=&#123;inputEl&#125; type=<span class="string">&quot;text&quot;</span> /&gt;</span><br><span class="line">    </span><br><span class="line">    	<span class="comment">// onClick 시 onButtonClick 함수를 실행하고 // 👉 goto onButtonClick comment</span></span><br><span class="line">      &lt;button onClick=&#123;onButtonClick&#125;&gt;Focus the input&lt;/button&gt;</span><br><span class="line">    &lt;/&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong><code>HTMLElement.focus()</code></strong></p>
<p>특정 element 에 <em>(focus를 맞출 수 있을 때)</em> focus를 맞추는 함수로, 해당 element는 키보드 등의 이벤트를 받는 default element로 정의된다.</p>
</blockquote>
<br />



<hr>
<br />



<p><code>useRef()</code> 는 ref 속성 외에도, 클래스가 instance field (인스턴스 변수) 를 가지고 있는 것처럼 ref 객체에 변경 가능한 어떠한 값도 담을 수 있다는 장점이 있다.</p>
<p>이는 <code>useRef()</code> 가 <em>plain JavaScript 객체</em> 를 생성하기 때문인데, 직접 <code>&#123;current: ...&#125;</code> 로 객체를 생성하는 것과 유일한 차이점은 <code>useRef()</code> 는 매 렌더링마다 <strong>똑같은 ref 객체를 제공 (반환) 한다</strong>는 것이다.</p>
<blockquote>
<p><strong><code>class field (클래스 변수)</code> vs. <code>instance field (인스턴스 변수)</code></strong></p>
<ul>
<li>클래스 변수 : 여러 인스턴스 (서로 다른 객체) 간에 <strong>공유해야 하는 값</strong>을 바인딩</li>
<li>인스턴스 변수 : 각 인스턴스 (객체) 마다 가지고 있는 고유한 값</li>
</ul>
<p>파이썬은 인스턴스를 통해 접근한 이름 (변수) 이 인스턴스의 name_space (name들을 정의한 공간) 에 없을 경우, 그 다음으로 클래스의 name_space에서 찾아본다.</p>
<p>참고로 클래스 변수에 접근할 때에는 클래스 이름을 사용하여 바로 변수 (값) 에 접근할 수 있다.</p>
</blockquote>
<br />



<h4 id="useImperativeHandle"><a href="#useImperativeHandle" class="headerlink" title="useImperativeHandle"></a>useImperativeHandle</h4><blockquote>
<p>❗️ref를 사용하는 <em>imperative code</em> 는 되도록이면 피하는 것이 좋다. <strong>):-&lt;</strong></p>
</blockquote>
<p>ref를 사용할 때 부모 컴포넌트에 노출되는 <em>인스턴스 값 (변수) 을 커스터마이징</em> 한다.</p>
<p>즉, forwarding된 ref를 replace할 수 있는 기능을 제공한다.</p>
<br />



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useImperativeHandle(ref, createHandle, [deps])</span><br></pre></td></tr></table></figure>
<ul>
<li><p>useImperativeHandle() : <code>ref</code>, <code>콜백함수 (createHandle)</code>, <code>dependnecies 배열</code> 을 전달</p>
<ul>
<li><code>createHandle()</code> : 현재 컴포넌트의 값을 부모 컴포넌트가 접근할 수 있도록 하는 콜백함수</li>
</ul>
</li>
<li><p><code>forwardRef()</code> 와 함께 사용되어야 한다.</p>
<blockquote>
<p><code>forwardRef()</code> </p>
<p>(말 그대로) reference를 전달해주는 기능을 하는 함수</p>
</blockquote>
</li>
</ul>
<br />



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FancyInput</span>(<span class="params">props, ref</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> inputRef = useRef();</span><br><span class="line">  useImperativeHandle(ref, <span class="function">() =&gt;</span> (&#123;</span><br><span class="line">    focus: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      inputRef.current.focus();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;));</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">ref</span>=<span class="string">&#123;inputRef&#125;</span> <span class="attr">...</span> /&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line">FancyInput = forwardRef(FancyInput);</span><br></pre></td></tr></table></figure>
<p><code>&lt;FancyInput ref=&#123;inputRef&#125; /&gt;</code> 를 수행 (렌더링) 하는 부모 컴포넌트는 <code>inputRef.current.focus()</code> 를 호출할 수 있다.</p>
<br />



<h4 id="useLayoutEffect"><a href="#useLayoutEffect" class="headerlink" title="useLayoutEffect"></a>useLayoutEffect</h4><p><code>useEffect</code> 와 동일한 기능을 DOM 변경 시 동시에 (synchronously) 실행하는 함수로, DOM 에서 레이아웃을 읽음과 동시에 리렌더링을 해야할 때 사용한다.</p>
<p><code>useLayoutEffect</code> 내부에 정의된 예정된 업데이트 또한 브라우저가 레이아웃을 그리기 이전에, 읽음과 동시에 발생한다.</p>
<blockquote>
<p>화면 업데이트를 차단하지 않아도 되는 경우에는 <code>useEffect</code> 를 사용하는 것이 좋다.</p>
</blockquote>
<br />



<blockquote>
<p> 클래스 컴포넌트에서 코드를 옮길 때 <code>useLayoutEffect()</code> 는 <code>componentDidMount</code> 나 <code>componentDidUpdate</code> 와 같은 단계에서 발생한다. 하지만, 먼저 <code>useEffect</code> 를 시도해보고 에러가 발생할 때 <code>useLayoutEffect</code> 를 사용하는 것이 좋다.</p>
</blockquote>
<blockquote>
<p><strong>SSR (서버 사이드 렌더링)</strong> 의 경우, <code>useLayoutEffect</code> 나 <code>useEffect</code> 는 JavaScript 가 모두 다운되기 전까지는 실행되지 않는다. SSR 컴포넌트가 <code>useLayoutEffect</code> 를 포함한 경우,</p>
<ul>
<li>첫 렌더링 시 해당 컴포넌트가 필요하지 않다면 <code>useEffect</code> 로 로직을 옮기고,</li>
<li><code>useLayoutEffect</code> 가 실행되기 전까지 HTML이 망가져 보인다면 클라이언트 렌더링이 완료될 때까지 해당 컴포넌트를 보여주는 것을 딜레이시킨다.</li>
</ul>
<p>서버 렌더링 HTML에서 레이아웃 effect를 필요로 하는 컴포넌트를 제외하기 위해서, </p>
<ul>
<li><code>showCild &amp;&amp; &lt;Child /&gt;</code> 를 이용하여 해당 컴포넌트를 조건적으로 렌더링을 하고, </li>
<li><code>useEffect(() =&gt; &#123; setShowChild(true); &#125;, [])</code> 를 이용하여 보이는 것을 미룬다 (defer).</li>
</ul>
<p>이를 통해 HTML이 hydration (<code>useLayoutEffect</code>, <code>useEffect</code> 실행) 이전에 망가져 보이는 것을 방지한다.</p>
</blockquote>
<br />



<h4 id="useDebugValue"><a href="#useDebugValue" class="headerlink" title="useDebugValue"></a>useDebugValue</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useDebugValue(value)</span><br></pre></td></tr></table></figure>
<p>React DevTools 에서 커스텀 Hooks의 <code>label (value)</code> 을 보여준다.</p>
<br />



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useFriendStatus</span>(<span class="params">friendID</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [isOnline, setIsOnline] = useState(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// Show a label in DevTools next to this Hook</span></span><br><span class="line">  <span class="comment">// e.g. &quot;FriendStatus: Online&quot;</span></span><br><span class="line">  useDebugValue(isOnline ? <span class="string">&#x27;Online&#x27;</span> : <span class="string">&#x27;Offline&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> isOnline;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br />



<blockquote>
<p>모든 커스텀 Hook에 debug value를 추가하는 것은 좋지 않다.</p>
<p><strong>shared libraries에 속하는 커스텀 Hooks</strong>에 유용하게 사용될 수 있다.</p>
</blockquote>
<br />



<h5 id="Defer-Formatting-Debug-Values"><a href="#Defer-Formatting-Debug-Values" class="headerlink" title="Defer Formatting Debug Values"></a>Defer Formatting Debug Values</h5><blockquote>
<p> 디버그 값 포맷팅 지연하기</p>
</blockquote>
<br />



<p>디스플레이 (되는) 값을 포매팅하는 것은 고비용 연산일 수 있고, <em>Hook이 감지되지 않은 경우 사실상 포매팅은 불필요하다</em>. 따라서, <code>useDebugValue</code> 의 (optional한) 2번째 인자로 <code>포매팅 함수</code> 를 전달하여 <strong>Hook이 감지되었을 때만 해당 함수를 호출</strong>하여 포매팅할 수 있다.</p>
<br />



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useDebugValue(value, <span class="function"><span class="params">value</span> =&gt;</span> value.formatting_function());</span><br></pre></td></tr></table></figure>
<ul>
<li><code>useDebugValue()</code> : <code>value</code> 와 <code>optional formatting 함수</code> 를 전달<ul>
<li><code>optional formatting function</code> : <code>debug value</code> 를 인자로 전달하고 <code>formatted display value</code> 를 반환한다.</li>
</ul>
</li>
</ul>
<br />



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useDebugValue(date, <span class="function"><span class="params">date</span> =&gt;</span> date.toDateString());</span><br></pre></td></tr></table></figure>
<p>2번째 인자로 <code>fomatting function</code> 을 전달하여 Date value 를 반환하는 커스텀 Hook이 <code>toDateString()</code> 을 <strong>불필요하게 호출하는 것을 방지</strong>한다.</p>
<br />



<hr>
<br />



<h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h3><p><a target="_blank" rel="noopener" href="https://ko.reactjs.org/docs/hooks-reference.html">https://ko.reactjs.org/docs/hooks-reference.html</a></p>
<p><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-reference.html">https://reactjs.org/docs/hooks-reference.html</a></p>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2021/05/05/THUREE-Hooks/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2021/04/24/3%EC%B0%A8-%EC%84%B8%EB%AF%B8%EB%82%98-24-04-21/"
                            aria-label=": 3차 세미나_24/04/21"
                        >
                            3차 세미나_24/04/21
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2021-04-24T21:45:11+09:00">
	
		    Apr 24, 2021
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/SOPT/">SOPT</a>, <a class="category-link" href="/categories/SOPT/WEB-28th/">WEB_28th</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h2 id="들어가기에-앞서"><a href="#들어가기에-앞서" class="headerlink" title="들어가기에 앞서"></a>들어가기에 앞서</h2><h4 id="Framework"><a href="#Framework" class="headerlink" title="Framework"></a>Framework</h4><p>개발에 필요한 뼈대를 제공하여 사용자가 덧붙이는 형식으로 코드를 완성시킨다.</p>
<blockquote>
<p> e.g. 집</p>
</blockquote>
<br />

<h4 id="Library"><a href="#Library" class="headerlink" title="Library"></a>Library</h4><p>개발에 필요한 도구들을 제공하여 사용자가 필요할 때 리소스를 가져와 사용한다.</p>
<blockquote>
<p> e.g. 가구</p>
</blockquote>
<br />

<p>👉 둘 다 공통의 <code>개발환경을 제공</code> 하여 개발 시간과 리소스 비용을 줄여주는 도구</p>
<br />

<h2 id="React-이해하기"><a href="#React-이해하기" class="headerlink" title="React 이해하기"></a>React 이해하기</h2><br />



<h3 id="React는…"><a href="#React는…" class="headerlink" title="React는…"></a>React는…</h3><ul>
<li>지속해서 데이터가 변화하는 <code>대규모 애플리케이션</code> 을 구축하기 좋다.</li>
<li>점유율이 가장 높다.</li>
</ul>
<hr>
<br />

<h4 id="JQuery"><a href="#JQuery" class="headerlink" title="JQuery"></a>JQuery</h4><blockquote>
<p><code>$</code> 이용</p>
</blockquote>
<ol>
<li>자바스크립트 라이브러리</li>
<li>DOM 조작을 쉽고 효율적으로</li>
<li>브라우저마다 자바스크립트 호환성이 달랐던 문제를 해결</li>
</ol>
<p>👉 ES6로 인해 사용률 ↓</p>
<hr>
<br />



<h3 id="SPA-Single-Page-Application-의-등장"><a href="#SPA-Single-Page-Application-의-등장" class="headerlink" title="SPA (Single Page Application) 의 등장"></a>SPA (Single Page Application) 의 등장</h3><ol>
<li>웹의 규모가 커지면서 단순한 웹 페이지가 아닌, <code>웹 어플리케이션 </code>으로 발전</li>
<li>엄청난 JS 파일을 유지, 보수하기 위해 웹 라이브러리/ 프레임워크의 중요성 대두</li>
</ol>
<ul>
<li>웹 페이지 전체를 재로딩하지 않고, <code>필요한 데이터만 동적으로 로딩</code>하는 웹 어플리케이션</li>
<li>기존의 MPA (Multiple Page Application) 는 페이지를 이동할 때마다 HTML, CSS, JS 파일을 전부 로딩해야 해서 속도가 상대적으로 느리다.</li>
<li>SPA는 필요한 <code>정적 파일을 최초 1회 다운</code> 받은 후, 필요한 데이터만 <code>서버로부터 동적으로 전달받아</code> DOM을 조작한다.</li>
</ul>
<table>
  <thead>
      <tr>
        <th>장점</th>
      <th>단점</th>
    </tr>
  </thead>
  <tbody>
      <tr>
      <td>속도가 빠르고 새로고침이 발생하지 않음</td>
      <td>처음에 필요한 모든 정적 리소스를 다운로드하기 때문에 초기 구동 속도가 상대적으로 느림</td>
    </tr>
    <tr>
        <td>처리과정이 효율적임</td>
      <td>데이터가 AJAX를 통해 로드되기 때문에 검색 엔진 최적화가 어려움<br />
      👉 SSR (Server Side Rendering) 으로 해결 가능함
      </td>
    </tr>
    <tr>
        <td colspan="2">네트워크 동작을 모니터링 할 수 있어 디버깅 하기가 쉬움</td>
    </tr>
    <tr>
        <td>네이티브 앱과 유사한 사용자 경험을 제공함으로써 UX를 향상시킬 수 있음</td>
    </tr>
  </tbody>
</table>



<br />

<h4 id="SPA-Web-Framework"><a href="#SPA-Web-Framework" class="headerlink" title="SPA Web Framework"></a>SPA Web Framework</h4><ol>
<li>Angular<ul>
<li>Framework에 가까움</li>
<li>TS 기반, 양방향 바인딩 지원</li>
</ul>
</li>
<li>React<ul>
<li>Library에 가까움</li>
<li>Native로 앱 개발도 가능함 (React Native)</li>
<li>Virtual DOM, JSX</li>
</ul>
</li>
<li>Vue<ul>
<li>오픈소스 프로젝트</li>
<li>가장 최근에 개발됨</li>
<li>Virtual DOM, 양방향 바인딩 지원, Single File Component</li>
</ul>
</li>
</ol>
<br />

<h2 id="React-기본-문법-익히기"><a href="#React-기본-문법-익히기" class="headerlink" title="React 기본 문법 익히기"></a>React 기본 문법 익히기</h2><ul>
<li><p>Component</p>
<ul>
<li>UI 를 구성하는 <code>개별적인 뷰</code> 단위<ul>
<li>적절하게 분리하여 재사용성을 높이는 게 좋다. (너무 많아도/ 적어도 안 좋다!)</li>
</ul>
</li>
<li>컴포넌트를 조합하여 새로운 컴포넌트를 만들거나, 복잡한 웹 페이지를 구성할 수 있다.</li>
<li><strike>클래스형</strike>/ <strong>함수형</strong> 2가지 종류의 컴포넌트가 있다.</li>
</ul>
</li>
<li><p>Virtual DOM</p>
<p><img src="https://user-images.githubusercontent.com/49134038/116570542-4f1bed80-a945-11eb-8e27-007628e88ddb.png" alt="Screenshot 2021-04-24 at 15 26 29"></p>
<ul>
<li><p>DOM 요소가 변경되면, Render Tree를 만들어서 다시 화면에 보여주기까지 연산이 오래 걸린다.</p>
</li>
<li><p>데이터 변경이 자주 발생하는 웹 페이지는 속도가 느려진다.</p>
<p>👇 <strong><em>변경된 부분을 한 번에 처리하자!</em></strong> 🚀</p>
</li>
<li><p>가상 DOM을 통해 <strong>변경된 부분만 탐지</strong>하여 실제 DOM에 적용</p>
<ul>
<li>연산을 최소화하여 성능이 개선됨</li>
</ul>
</li>
</ul>
</li>
<li><p>One-way Data Flow</p>
<blockquote>
<p>바인딩은 <code>뷰에 보여지는 값</code> 과 <code>메모리 상의 값이 일치하는지</code> 여부에 따라 방식이 달라진다.</p>
</blockquote>
<br />



</li>
</ul>
<p>  <img src="https://user-images.githubusercontent.com/49134038/116570539-4e835700-a945-11eb-8fe2-8b6d547a4ebc.png" alt="Screenshot 2021-04-24 at 15 29 25"></p>
<ul>
<li><p>React는 기본적으로 <code>단방향 데이터 바인딩</code> 이다.</p>
<ul>
<li><p>단순하고 예측 가능한 구조</p>
</li>
<li><p>뷰에서 사용자가 입력한 값이 변수에 <code>반영</code> 되기 위해서는 <code>event</code> 를 거쳐야 한다.</p>
<blockquote>
<p>e.g. onChange()</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>Two-way Data Flow</p>
<p><img src="https://user-images.githubusercontent.com/49134038/116570536-4deac080-a945-11eb-905e-0a9e4c3e1cf2.png" alt="Screenshot 2021-04-24 at 15 30 02"></p>
<ul>
<li>양방향 데이터 바인딩에서는 사용자가 입력한 값이 바로 변수에 반영된다.</li>
</ul>
</li>
</ul>
<ul>
<li>JSX<ul>
<li>JavaScript를 확장하여 React의 요소를 생성하는 문법</li>
<li>HTML과 JavaScript를 결합한 형태이며, 중괄호 <code>&#123;&#125;</code> 안에 모든 JS 문법을 사용할 수 있다.</li>
</ul>
</li>
</ul>
<br />

<hr>
<blockquote>
<p><strong>Node.js</strong></p>
<ul>
<li><p>npm 패키지 매니저를 사용하기 위해서 필요한 라이브러리</p>
</li>
<li><p>React 패키지가 포함되어 있음</p>
</li>
</ul>
</blockquote>
<br />

<h4 id="CRA-Create-React-App"><a href="#CRA-Create-React-App" class="headerlink" title="CRA (Create React App)"></a>CRA (Create React App)</h4><p>React를 사용하기 위해 폴더를 초기화하는 과정이 필요함</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx create-react-app [fileName]</span><br></pre></td></tr></table></figure>


<h3 id="Functional-Component"><a href="#Functional-Component" class="headerlink" title="Functional Component"></a>Functional Component</h3><blockquote>
<p>src &gt; App.js에서 시작</p>
</blockquote>
<br />



<ul>
<li><p>컴포넌트를 만들 때는 react를 <code>import</code> 해야 한다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br></pre></td></tr></table></figure></li>
<li><p>함수형 컴포넌트의 이름은 반드시 <strong>대문자</strong>로 시작해야 한다.</p>
</li>
<li><p>return 값이 실질적으로 화면에 보여지는 내용이다.</p>
</li>
<li><p>return 값의 <strong>최상위에는 하나의 요소</strong>만 있어야 한다.</p>
<ul>
<li><code>&lt;&gt;</code> 는 <code>&lt;React.Fragment&gt;</code> 와 동일하며, return 값의 최상위에 의미 없는 <code>&lt;div&gt; </code>를 추가하지 않도록 사용한다.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;&gt;</span><br><span class="line">...</span><br><span class="line">&lt;/&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>다른 컴포넌트에서 사용하기 위해서는 <code>export</code> 해야 한다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> [name];</span><br></pre></td></tr></table></figure></li>
</ul>
<ul>
<li><p>최종적으로 <code>App.js</code> 에서 컴포넌트를 import하고, <code>&lt;&gt;</code> 를 통해 요소로써 사용한다.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> [name] <span class="keyword">from</span> <span class="string">&#x27;./[file_path]&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> (</span><br><span class="line">		&lt;&gt;</span><br><span class="line">			&lt;[name] /&gt;</span><br><span class="line">		&lt;/&gt;</span><br><span class="line">	);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>컴포넌트는 여러번 반복해서 사용할 수 있다.</p>
</li>
</ul>
<br />

<h3 id="JSX"><a href="#JSX" class="headerlink" title="JSX"></a>JSX</h3><ul>
<li><p>JSX는 기본적으로 <code>객체</code> 이며, React 요소를 나타낸다.</p>
</li>
<li><p>HTML 요소 내부에 JavaScript를 사용할 때는 <strong>중괄호 {} 내부에 변수</strong>를 넣는다.</p>
</li>
<li><p>HTML 요소 외부에서는 JavaScript를 자유롭게 사용할 수 있다.</p>
</li>
<li><p>HTML <strong>attribute의 value에도</strong> 사용할 수 있다.</p>
</li>
<li><p>JavaScript 기반이기 때문에 attribute 이름은 <strong>CamelCase</strong>로 작성한다.</p>
</li>
<li><p>inline style은 두가지 방법을 사용할 수 있다.</p>
<ul>
<li>직접 지정 : 객체이기 때문에 <code>&#123;&#125;</code> 2번 사용해야 함!</li>
<li>변수로 지정</li>
</ul>
<blockquote>
<p>변수 : <code>&#123;&#125;</code></p>
<p>객체 : <code>&#123;&#123;&#125;&#125;</code></p>
</blockquote>
</li>
</ul>
<br />

<h3 id="Props-amp-State"><a href="#Props-amp-State" class="headerlink" title="Props &amp; State"></a>Props &amp; State</h3><blockquote>
<p>React에서 다루는 데이터의 종류</p>
</blockquote>
<br />

<img width="418" alt="Screenshot 2021-04-29 at 23 33 02" src="https://user-images.githubusercontent.com/49134038/116570524-4aefd000-a945-11eb-904d-6970dc7f2e2f.png">

<ul>
<li><strong>Props</strong> 는 정적 데이터로서, 부모 컴포넌트에서 자식 컴포넌트로 <code>데이터를 넘겨주는</code> 방식이다.</li>
<li>Props를 넘겨줄 때는 <code>넘겨줄 자식변수명=&#123;부모(본인) 변수명&#125;</code>으로, 받을 때는 <code>parameter</code> 에 전체를 <code>props</code> 로 받아오거나 구조분해할당 하여 <code>&#123;자식변수명&#125;</code> 으로 받아온다.<ul>
<li>같은 이름으로 지정해서 넘겨주는 것이 좋다.</li>
</ul>
</li>
<li><strong>State</strong>는 <strong>동적 데이터</strong>를 다루는 방식으로서, <strong>useState</strong>라는 <code>Hook</code> 을 통해서 사용한다.</li>
</ul>
<br />

<h3 id="LifeCycle"><a href="#LifeCycle" class="headerlink" title="LifeCycle"></a>LifeCycle</h3><blockquote>
<p>Component의 생명 주기</p>
</blockquote>
<br />

<p><img src="https://user-images.githubusercontent.com/49134038/116570533-4d522a00-a945-11eb-989f-675c46064a5e.png" alt="Screenshot 2021-04-24 at 16 23 37"></p>
<ul>
<li>클래스형 컴포넌트는 생명 주기에 따라서 다음 메소드가 실행된다.</li>
<li><code>componentDidMount</code> : 최초 렌더링 직후</li>
<li><code>componentDidUpdate</code> : 변경된 내용 렌더링 직후</li>
<li><code>componentWillUnmount</code> : DOM에서 제거될 때</li>
</ul>
<p>👇</p>
<p><strong>함수형 컴포넌트</strong>는 <code>useEffect</code> 를 이용하여 한 번에 처리 가능함</p>
<br />

<h3 id="Hooks"><a href="#Hooks" class="headerlink" title="Hooks"></a>Hooks</h3><blockquote>
<p>함수형 컴포넌트에서 State와 LifeCycle을 다룰 수 있는 기술</p>
</blockquote>
<br />

<ul>
<li>클래스형 컴포넌트에서는 <strong>constructor 내부</strong>에서 <code>this.state</code>를 통해 state를 저장하고 관리한다.</li>
<li>componentDidMount, componentDidUpdate가 컴포넌트 생명주기에 따라 호출된다.</li>
</ul>
<br />

<h4 id="useState"><a href="#useState" class="headerlink" title="useState"></a>useState</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useState &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>; <span class="comment">// 가져오기</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// count : getter</span></span><br><span class="line"><span class="comment">// setCount : setter</span></span><br><span class="line"><span class="comment">// useState() === React.useState()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> [ _var, setVar ] = useState(initVal); <span class="comment">// 선언하기</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useState</span>(<span class="params">initialValue</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> _var = initialValue;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">getVar</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> _count;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">setVar</span>(<span class="params">newValue</span>) </span>&#123;</span><br><span class="line">    _var = newValue;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>_var</code> 은 <strong>읽기만 가능</strong>한 변수</li>
<li><code>setVar(newVal)</code> 은 <strong>변수(<code>_var</code>)를 변경</strong>할 수 있는 함수</li>
</ul>
<br />

<h4 id="useEffect"><a href="#useEffect" class="headerlink" title="useEffect"></a>useEffect</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useEffect &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"></span><br><span class="line">useEffect(callBackFunc, dependencies);</span><br></pre></td></tr></table></figure>
<ul>
<li>useEffect의…<ul>
<li>deps가 <strong>비어있다면</strong> 렌더링 <code>될 때마다</code> 초기화</li>
<li>deps가 <strong>[]</strong> 라면 <code>최초 렌더링 시</code> 에만 초기화</li>
<li>deps에 <strong>state의 배열</strong>이 들어가면 update; <code>최초 렌더링 + 해당 state가 변경되었을 때</code>만 실행</li>
</ul>
</li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2021/04/24/3%EC%B0%A8-%EC%84%B8%EB%AF%B8%EB%82%98-24-04-21/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2021/04/24/2%EC%B0%A8-%EC%84%B8%EB%AF%B8%EB%82%98-DOM/"
                            aria-label=": DOM"
                        >
                            DOM
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2021-04-24T18:20:30+09:00">
	
		    Apr 24, 2021
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/SOPT/">SOPT</a>, <a class="category-link" href="/categories/SOPT/WEB-28th/">WEB_28th</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h2 id="DOM-Document-Object-Model"><a href="#DOM-Document-Object-Model" class="headerlink" title="DOM (Document Object Model)"></a>DOM (Document Object Model)</h2><h3 id="1-HTML-코드-Page-Source-코드-DOM"><a href="#1-HTML-코드-Page-Source-코드-DOM" class="headerlink" title="1. HTML 코드 (Page Source 코드) === DOM?"></a>1. HTML 코드 (Page Source 코드) === DOM?</h3><blockquote>
<p>코드 자체는 아님.</p>
<p>하지만 해당 코드가 브라우저에 파싱되면 DOM 임.</p>
</blockquote>
<h3 id="2-DevTools-코드-DOM"><a href="#2-DevTools-코드-DOM" class="headerlink" title="2. DevTools 코드 === DOM?"></a>2. DevTools 코드 === DOM?</h3><blockquote>
<p>맞음.</p>
<p>기존에 작성한 HTML 코드와 동일할 수도 있지만, 대게 브라우저에 파싱됨에 따라 변경사항이 적용되어 브라우저에 보여지는 형태로 변형되어 보여짐.</p>
</blockquote>
<ul>
<li><p>웹 페이지는 일종의 문서(document)</p>
<ul>
<li>The backbone of an HTML document is <code>tag</code>s</li>
</ul>
</li>
<li><p>웹 페이지의 객체 지향 표현 (독립적인 객체) 이며, 자바스크립트와 같은 스크립팅 언어를 이용해 DOM 을 수정</p>
</li>
<li><p>HTML, XML 문서의 <code>프로그래밍 interface</code> 로, 프로그래밍 언어가 DOM 구조에 접근할 수 있는 방법을 제공한다.</p>
<ul>
<li>DOM 은 문서를 표현하고, 저장하고, 조작하는 (문서 구조, 스타일, 내용 등을 변경) 방법을 제공한다.</li>
<li>웹 페이지를 스크립트 또는 프로그래밍 언어들에서 사용될 수 있게 연결시켜주는 역할</li>
</ul>
</li>
<li><p>문서의 구조화된 표현(structured representation)</p>
<ul>
<li><p>node, property, method 를 갖고 있는 object들로 구조화된 문서를 표현</p>
</li>
<li><p>document object 는 document 자체</p>
<blockquote>
<p>e.g. table object 는 HTML table 에 접근하기 위한 <code>HTMLTableElement</code> DOM interface를 구현하는 것이다.</p>
</blockquote>
</li>
</ul>
</li>
<li><p><em>동일한 문서를 사용하여 다른 형태로 나타날 수 있다.</em></p>
<ul>
<li>웹 브라우저를 통해 그 내용이 파싱(해석)되어 웹 브라우저 화면에 나타나거나,</li>
<li>기존 HTML 소스 자체로 나타나기도 한다.</li>
</ul>
</li>
<li><p><strong>Everything in HTML, even comments, becomes a part of the DOM.</strong></p>
</li>
</ul>
<h3 id="DOM과-기존-HTML-코드가-달라지는-경우"><a href="#DOM과-기존-HTML-코드가-달라지는-경우" class="headerlink" title="DOM과 기존 HTML 코드가 달라지는 경우"></a>DOM과 기존 HTML 코드가 달라지는 경우</h3><ol>
<li><p>브라우저가 HTML을 수정하는 경우 : 브라우저 파싱 시 <strong>자동 교정 (Autocorrection)</strong></p>
<blockquote>
<ol>
<li>Spaces and newlines before <code>&lt;head&gt;</code> are ignored for historical reasons.</li>
<li>If we put something after <code>&lt;/body&gt;</code>, then that is automatically moved inside the <code>body</code>, at the end, as the HTML spec requires that all content must be inside <code>&lt;body&gt;</code>. So there can’t be any spaces after <code>&lt;/body&gt;</code>.<ul>
<li>if there are spaces (just like any character) in the document, then they become text nodes in the DOM</li>
</ul>
</li>
<li>Tables always have <code>&lt;tbody&gt;</code></li>
</ol>
</blockquote>
</li>
<li><p><strong>JavaScript로 DOM을 조작하는 경우</strong> : 조작 (변경) 사항이 반영되어 DOM 출력</p>
</li>
<li><p>Ajax : 컨텐츠를 가져와 (c.f. <code>fetch</code>) 페이지에 추가하는 경우</p>
</li>
<li><p>Templating : server의 내용을 테스트하기 위해 임의의 client-side template을 적용</p>
<blockquote>
<p>e.g. handlebars.js</p>
</blockquote>
</li>
</ol>
<h3 id="DOM과-JavaScript"><a href="#DOM과-JavaScript" class="headerlink" title="DOM과 JavaScript"></a>DOM과 JavaScript</h3><blockquote>
<p>JavaScript : 브라우저가 <code>읽고 작업</code>을 할 수 있는 언어, 브라우저에 기록되는 것들을 조작할 수 있는 문법/ 언어</p>
<ul>
<li><code>DOM API</code> 를 이용해서 작업</li>
</ul>
<p>DOM : 작업이 이루어지는 <code>장소</code>, 브라우저에 의해 기록되는 모든 것</p>
</blockquote>
<ul>
<li><p>DOM 이 없다면 자바스크립트 언어는 웹 페이지 또는 XML 페이지의 요소들과 관련된 모델이나 개념들에 대한 정보를 갖지 (불러오지) 못하게 된다.</p>
</li>
<li><p>문서의 모든 element는 DOM의 한 부분</p>
</li>
<li><p>페이지 콘텐츠 (element) 는 DOM 에 저장되고 자바스크립트를 통해 접근하거나 조작</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">API (web or XML page) &#x3D; DOM + JS (scripting language)</span><br></pre></td></tr></table></figure></li>
<li><p>DOM 의 구현은 어떠한 언어에서도 가능</p>
<blockquote>
<p>e.g. python 에서도 구현 가능</p>
</blockquote>
</li>
</ul>
<h3 id="DOM에-접근하는-방법"><a href="#DOM에-접근하는-방법" class="headerlink" title="DOM에 접근하는 방법"></a>DOM에 접근하는 방법</h3><ul>
<li><p>문서가 로드될 때는 모든 DOM을 사용할 수 있게 되는 때이다.</p>
</li>
<li><p>스크립트를 작성할 때</p>
<ul>
<li>직접적으로 문서 자체를 조작하거나,</li>
<li>간접적인 조작을 위해 문서의 children 을 얻는, <code>document</code> 또는 <code>window</code> element 를 이용하는 <code>API 를 사용</code>할 수 있다.</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">onload</span>=<span class="string">&quot;window.alert(&#x27;welcome to my home page!&#x27;);&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">       <span class="comment">// run this function when the document is loaded</span></span></span><br><span class="line"><span class="javascript">       <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">         <span class="comment">// create a couple of elements in an otherwise empty HTML page</span></span></span><br><span class="line"><span class="javascript">         <span class="keyword">var</span> heading = <span class="built_in">document</span>.createElement(<span class="string">&quot;h1&quot;</span>);</span></span><br><span class="line"><span class="javascript">         <span class="keyword">var</span> heading_text = <span class="built_in">document</span>.createTextNode(<span class="string">&quot;Big Head!&quot;</span>);</span></span><br><span class="line">         heading.appendChild(heading_text);</span><br><span class="line"><span class="javascript">         <span class="built_in">document</span>.body.appendChild(heading);</span></span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>




</li>
</ul>
<h3 id="Data-Type"><a href="#Data-Type" class="headerlink" title="Data Type"></a>Data Type</h3><blockquote>
<p><code>Tag</code>s are <em>element nodes</em> (or just elements) and form the tree structure.</p>
<ul>
<li><p>DOM <code>node</code>는 <code>element</code> 로,</p>
<ul>
<li><code>document</code> – the “entry point” into DOM.</li>
<li>element nodes – HTML-tags, the tree building blocks.</li>
<li>text nodes – contain text.</li>
<li>comments – sometimes we can put information there, it won’t be shown, but JS can read it from the DOM.</li>
</ul>
</li>
<li><p>노드의 array는 <code>nodeList</code> (또는 <code>element</code>),</p>
</li>
<li><p>attribute 노드는 <code>attribute </code>로</p>
</li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th><code>document</code></th>
<th>document type 의 object 를 리턴할 때, 이 object 는 root document object 자체이다. <br />예를 들어 element의 <strong><code>ownerDocument</code></strong> property 는 그것이 속해 있는 document 를 return 한다.</th>
</tr>
</thead>
<tbody><tr>
<td><code>element</code></td>
<td><code>element</code> 는 DOM API에 의해 리턴된 <code>element</code> 또는 element type 의 DOM <code>node</code> 를 의미한다.  <br />예를 들어 <code>document.createElement()</code> 는 node를 참조하는 object 를 리턴하며, DOM 안에서 생성되는 element를 리턴한다고 말할 수 있다.</td>
</tr>
<tr>
<td><code>nodeList</code></td>
<td><code>nodeList</code> 는 element들의 배열이다. <code>document.getElementsByTagName()</code> 와 같은 method에 의해 리턴된 nodeList의 Item들은 <code>index</code> 를 통해 접근 가능하며, 다음과 같이 두 가지 방식이 있다 (동일한 방식임) : <br />- list.item(1) <br />- list[1] <br /><strong><code>item()</code></strong> 은 <code>nodeList</code> object 의 단일 method 이다. <br />두번째 방식은 list 에서 두번째 item 을 <code>fetch </code>하는 전형적인 array syntax 이다.</td>
</tr>
<tr>
<td><code>attribute</code></td>
<td>API에 의해 attribute가 리턴되는 것은 attribute에 대한 특별한 인터페이스를 노출하는 object reference 가 표현됨을 의미한다. attribute는 DOM 에서 element와 같은 <code>node</code>이다.</td>
</tr>
<tr>
<td><code>namedNodeMap</code></td>
<td><code>namedNodeMap</code> 는 array 와 유사한 list로, item은 <code>name</code> 또는 <code>index</code> 에 의해 접근 가능하다. 리스트는 특별한 정렬이 적용되지 않았기 enumeration (열거, 목록화) 할 때 index 를 주로 사용한다. <code>namedNodeMap</code> 는 이를 위해 <code>item()</code> method 가 있으며, <code>namedNodeMap</code> 에 item 을 추가하거나 삭제할 수 있다.</td>
</tr>
</tbody></table>
<h3 id="DOM-interface"><a href="#DOM-interface" class="headerlink" title="DOM interface"></a>DOM interface</h3><ul>
<li>object 와 DOM 에서 <code>조작 가능</code> 한 것</li>
<li><code>API</code> 를 이용해 접근 및 조작</li>
</ul>
<h4 id="Interface와-Object"><a href="#Interface와-Object" class="headerlink" title="Interface와 Object"></a>Interface와 Object</h4><ul>
<li><p>Every tree <code>node</code> is an <code>object</code>.</p>
</li>
<li><p>많은 object가 여러 개의 다른 interface와 연관되어 있다.</p>
</li>
<li><p>HTML <code>element</code> 는 DOM 이 연관되어 있는 한 node 트리에서 하나의 <code>node</code>를 담당한다.</p>
<ul>
<li><code>Node</code> : 기본적인 <code>Element</code></li>
</ul>
</li>
<li><p>node 트리는 웹 페이지 또는 XML 페이지를 위한 <code>object</code> model을 구성한다.</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">table object 는 createCaption, insertRow method 들이 포함된 HTMLTableElement 을 구현한 것이다</span><br></pre></td></tr></table></figure>
<ul>
<li>table <code>Element</code> 는 <code>Node</code> interface 를 구현하고 있다.</li>
<li>table <code>object</code> 는 HTML <code>Element</code> (object model) 이기도 하기 때문에, <code>table</code> 은 <code>Element</code> interface도 구현한다.</li>
<li>table <code>object</code> 를 참조하게 되면, 기본적으로 이 3 가지 interface를 사용할 수 있다.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> table = <span class="built_in">document</span>.getElementById(<span class="string">&quot;table&quot;</span>); <span class="comment">// table === node/ element</span></span><br><span class="line"><span class="keyword">var</span> tableAttrs = table.attributes; <span class="comment">// Node/Element interface</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; tableAttrs.length; i++) &#123;</span><br><span class="line">  <span class="comment">// HTMLTableElement interface: border attribute</span></span><br><span class="line">  <span class="keyword">if</span>(tableAttrs[i].nodeName.toLowerCase() == <span class="string">&quot;border&quot;</span>)</span><br><span class="line">    table.border = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// HTMLTableElement interface: summary attribute</span></span><br><span class="line">table.summary = <span class="string">&quot;note: increased border&quot;</span>;</span><br></pre></td></tr></table></figure>




<h4 id="핵심-Interface"><a href="#핵심-Interface" class="headerlink" title="핵심 Interface"></a>핵심 Interface</h4><p><em><code>Document</code> 와 <code>window</code> object 는 DOM 프로그래밍에서 가장 자주 사용하는 object</em></p>
<ul>
<li><code>window</code> object 는 브라우저와 같다.</li>
<li><code>document</code> object 는 root document 자체이다.</li>
</ul>
<h5 id="DOM-을-사용하는-공통적인-API"><a href="#DOM-을-사용하는-공통적인-API" class="headerlink" title="DOM 을 사용하는 공통적인 API"></a>DOM 을 사용하는 공통적인 API</h5><blockquote>
<ul>
<li><code>document.getElementById(id)</code></li>
<li><code>document.getElementsByTagName(name)</code></li>
<li><code>document.createElement(name)</code></li>
<li><code>parentNode.appendChild(node)</code></li>
<li><code>element.innerHTML</code></li>
<li><code>element.style.left</code></li>
<li><code>element.setAttribute()</code></li>
<li><code>element.getAttribute()</code></li>
<li><code>element.addEventListener()</code></li>
<li><code>window.content</code></li>
<li><code>window.onload</code></li>
<li><code>window.dump</code></li>
<li><code>window.scrollTo</code></li>
</ul>
</blockquote>
<h3 id="Interaction-with-console"><a href="#Interaction-with-console" class="headerlink" title="Interaction with console"></a>Interaction with console</h3><ol>
<li><p>select the particular element (e.g. <code>&lt;li&gt;</code>) and press <code>Esc</code> opens the console</p>
<ul>
<li>or just run <code>inspect(node)</code></li>
</ul>
</li>
<li><p>the last selected element is available as <code>$0</code>, the previously selected is <code>$1</code> etc.</p>
</li>
<li><p>in console tab, run the command on the element</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// changes the background color of the inspected &lt;li&gt; element</span></span><br><span class="line">$<span class="number">0.</span>style.background = <span class="string">&#x27;red&#x27;</span></span><br></pre></td></tr></table></figure>




</li>
</ol>
<h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h3><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction">https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction</a></p>
<p><a target="_blank" rel="noopener" href="https://javascript.info/dom-nodes">https://javascript.info/dom-nodes</a></p>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2021/04/24/2%EC%B0%A8-%EC%84%B8%EB%AF%B8%EB%82%98-DOM/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2021/04/22/position/"
                            aria-label=": position"
                        >
                            position
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2021-04-22T02:00:36+09:00">
	
		    Apr 22, 2021
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Web/">Web</a>, <a class="category-link" href="/categories/Web/CSS/">CSS</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h3 id="Position-value"><a href="#Position-value" class="headerlink" title="Position value"></a>Position value</h3><ol>
<li><p>static</p>
<ul>
<li>default value</li>
</ul>
</li>
<li><p>relative</p>
<ul>
<li>move relatively from static position</li>
</ul>
</li>
<li><p>absolute</p>
</li>
<li><p>sticky</p>
</li>
</ol>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2021/04/22/position/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2021/04/10/2%EC%B0%A8-%EC%84%B8%EB%AF%B8%EB%82%98-10-04-21/"
                            aria-label=": 2차 세미나_10/04/21"
                        >
                            2차 세미나_10/04/21
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2021-04-10T23:02:26+09:00">
	
		    Apr 10, 2021
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/SOPT/">SOPT</a>, <a class="category-link" href="/categories/SOPT/WEB-28th/">WEB_28th</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><ul>
<li>웹 페이지의 동적인 부분을 담당한다.</li>
</ul>
<h3 id="ES6-ECMAScript-2015"><a href="#ES6-ECMAScript-2015" class="headerlink" title="ES6 (ECMAScript 2015)"></a>ES6 (ECMAScript 2015)</h3><ul>
<li>브라우저 호환성을 위해 트랜스컴파일러로 컴파일 됨</li>
</ul>
<blockquote>
<ul>
<li>class</li>
<li>const &amp; let</li>
<li>block scope</li>
<li>arrow function</li>
<li>promise</li>
<li>spread operator</li>
<li>template literal<ul>
<li><code>$&#123;expression&#125;</code> with `</li>
</ul>
</li>
<li>destructuring</li>
</ul>
</blockquote>
<img width="443" alt="Screenshot 2021-04-10 at 15 08 48" src="https://user-images.githubusercontent.com/49134038/114866308-595ec780-9e2e-11eb-8a12-714e054b6017.png">

<ul>
<li><p>let</p>
<ul>
<li>변하는 값을 할당할 때</li>
<li>변수명은 lowerCamelCase</li>
</ul>
</li>
<li><p>const</p>
<ul>
<li>변하지 않는 값을 할당할 때</li>
<li>변수명은 SNAKE_CASE</li>
</ul>
</li>
</ul>
<blockquote>
<p>hoisting (변수 할당 전에 접근 시)</p>
<ul>
<li>var : undefined</li>
<li>let : <code>reference error</code></li>
</ul>
</blockquote>
<h4 id="Scope"><a href="#Scope" class="headerlink" title="Scope"></a>Scope</h4><ol>
<li>Function Scope</li>
</ol>
<ul>
<li>function 블록 내에서 유효</li>
<li>함수 내부에 선언되면 <strong>지역변수</strong></li>
<li>외부에 선언되면 <strong>전역변수</strong></li>
</ul>
<blockquote>
<p><code>지역변수</code></p>
<ul>
<li>함수 내부에 선언</li>
<li>함수 내부에서만 접근 가능</li>
<li>함수가 시작될 때 생성되고, 함수 context가 종료될 때 삭제됨</li>
</ul>
<p><code>전역변수</code></p>
<ul>
<li>함수 외부에 선언</li>
<li>어디에서나 접근 가능</li>
</ul>
</blockquote>
<ol start="2">
<li>Block Scope</li>
</ol>
<ul>
<li><code>&#123;&#125;</code> 가 있는 경우<ul>
<li>if, switch 문…</li>
</ul>
</li>
</ul>
<img width="227" alt="Screenshot 2021-04-10 at 15 13 27" src="https://user-images.githubusercontent.com/49134038/114866307-595ec780-9e2e-11eb-96fc-a456cb2c048c.png">

<ul>
<li><p><code>var a</code></p>
</li>
<li><p>전역 변수</p>
</li>
<li><p><code>var b</code></p>
<ul>
<li><p>지역 변수</p>
</li>
<li><p>function scope</p>
<ul>
<li>if문 밖에서도 접근 가능 (if문이 function 안에 있기 때문)</li>
</ul>
<blockquote>
<p><code>var</code> variables are <em>function scope</em>.</p>
<p>: It means they are only available <em>inside</em> the function they’re created in, or if not created inside a function, they are ‘globally scoped.’</p>
<blockquote>
<p><code>globally scoped</code></p>
<p>: returns <code>undefined</code></p>
</blockquote>
</blockquote>
</li>
</ul>
</li>
<li><p><code>let c</code></p>
<ul>
<li>지역 변수</li>
<li>block scope<ul>
<li>if문 밖에서 접근 불가 (참조 불가능)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="Hoisting"><a href="#Hoisting" class="headerlink" title="Hoisting"></a>Hoisting</h4><ul>
<li>scope에 따라 <code>선언</code> 과 <code>할당</code> 으로 구분됨</li>
<li>변수의 선언문과 함수의 선언식을 <strong>유효 범위의 최상단</strong>으로 끌어올리는 것</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hoisting</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(d);</span><br><span class="line">	<span class="built_in">console</span>.log(e);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">var</span> d = <span class="string">&quot;be&quot;</span>;</span><br><span class="line">	<span class="keyword">let</span> e = <span class="string">&quot;sopt&quot;</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">&quot;28th&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">hoisting();</span><br><span class="line"></span><br><span class="line">👇</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hoisting</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 변수 선언문 (메모리 할당)</span></span><br><span class="line">	<span class="keyword">var</span> d;</span><br><span class="line">  <span class="keyword">let</span> e;</span><br><span class="line">  <span class="comment">// 함수 선언식</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">&quot;28th&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 기존 식 순차적으로 실행</span></span><br><span class="line">  <span class="built_in">console</span>.log(d); <span class="comment">// undefined</span></span><br><span class="line">	<span class="built_in">console</span>.log(e); <span class="comment">// ReferenceError</span></span><br><span class="line">  </span><br><span class="line">  d = <span class="string">&quot;be&quot;</span>;</span><br><span class="line">	e = <span class="string">&quot;sopt&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">hositing();</span><br></pre></td></tr></table></figure>


<img width="407" alt="Screenshot 2021-04-10 at 15 15 15" src="https://user-images.githubusercontent.com/49134038/114866304-58c63100-9e2e-11eb-9344-88f64fe40543.png">

<img width="521" alt="Screenshot 2021-04-10 at 15 20 20" src="https://user-images.githubusercontent.com/49134038/114866302-582d9a80-9e2e-11eb-9319-2441ba6374c7.png">



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> g = <span class="string">&quot;web&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">outer</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(g);</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">inner</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(g);</span><br><span class="line">		<span class="keyword">var</span> g = <span class="string">&quot;part&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	inner();</span><br><span class="line">	<span class="built_in">console</span>.log(g);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">outer();</span><br><span class="line"><span class="built_in">console</span>.log(g);</span><br><span class="line"></span><br><span class="line">👇</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> g;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">outer</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">inner</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> g;</span><br><span class="line">    <span class="built_in">console</span>.log(g); <span class="comment">// undefined</span></span><br><span class="line">    g = <span class="string">&quot;part&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(g); <span class="comment">// web</span></span><br><span class="line">  inner();</span><br><span class="line">  <span class="built_in">console</span>.log(g); <span class="comment">// web</span></span><br><span class="line">&#125;</span><br><span class="line">g = <span class="string">&quot;web&quot;</span>;</span><br><span class="line">outer();</span><br><span class="line"><span class="built_in">console</span>.log(g); <span class="comment">// web</span></span><br></pre></td></tr></table></figure>


<h4 id="원시-자료형"><a href="#원시-자료형" class="headerlink" title="원시 자료형"></a>원시 자료형</h4><blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> == object</span><br></pre></td></tr></table></figure>

<ul>
<li>Boolean</li>
<li>Number<ul>
<li>BigInt</li>
</ul>
</li>
<li>String<ul>
<li>`` <code>내부에</code>${}` 변수 사용 가능 </li>
</ul>
</li>
<li>Symbol<ul>
<li>유일한 식별자</li>
<li>내용이 같아도 변수가 다르면 다른 객체임</li>
</ul>
</li>
<li>Null<ul>
<li>값이 존재하지 않음</li>
<li>값을 알 수 없음</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> == <span class="literal">undefined</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Undefined<ul>
<li>값이 할당되지 않음</li>
</ul>
</li>
</ul>
</blockquote>
<h4 id="객체-자료형"><a href="#객체-자료형" class="headerlink" title="객체 자료형"></a>객체 자료형</h4><h4 id="배열"><a href="#배열" class="headerlink" title="배열"></a>배열</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 배열 생성</span></span><br><span class="line">arr = [];</span><br><span class="line">arr = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 배열 길이</span></span><br><span class="line">arr.length;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 배열 참조</span></span><br><span class="line">arr[i];</span><br></pre></td></tr></table></figure>
<ul>
<li>배열의 각 요소의 타입이 모두 다를 수 있다</li>
<li>배열의 index가 연속적이지 않아도 된다<ul>
<li>비어있는 index는 <code>undefined</code> 로 처리된다</li>
</ul>
</li>
</ul>
<h5 id="method"><a href="#method" class="headerlink" title="method"></a>method</h5><ol>
<li>push<ul>
<li>배열의 맨 마지막 요소부터 접근<ul>
<li>마지막에 요소 추가</li>
</ul>
</li>
</ul>
</li>
<li>pop<ul>
<li>배열의 맨 마지막 요소부터 접근<ul>
<li>마지막 요소 제거</li>
</ul>
</li>
</ul>
</li>
<li>shift<ul>
<li>배열의 맨 처음 요소부터 접근<ul>
<li>처음 요소 제거 후 다음 요소부터 하나씩 왼쪽으로 옮김</li>
</ul>
</li>
<li>시간 복잡도 안 좋음</li>
</ul>
</li>
<li>unshift<ul>
<li>배열의 맨 처음 요소부터 접근<ul>
<li>처음에 요소 삽입 후 하나씩 오른쪽으로 옮김</li>
</ul>
</li>
<li>시간 복잡도 안 좋음</li>
</ul>
</li>
<li>length</li>
<li>concat<ul>
<li>두 배열을 합친 <code>새로운 배열</code> 반환</li>
</ul>
</li>
<li>sort<ul>
<li>배열 요소들을 <code>사전 기준</code> 으로 순서대로 나열</li>
</ul>
</li>
<li><strong>map</strong><ul>
<li>요소에 하나씩 접근하여 함수의 내용을 적용한 뒤 <code>새로운 배열</code> 반환</li>
</ul>
</li>
</ol>
<blockquote>
<p>JavaScript method</p>
<ul>
<li>반복문</li>
</ul>
<img width="468" alt="Screenshot 2021-04-10 at 15 37 47" src="https://user-images.githubusercontent.com/49134038/114866296-56fc6d80-9e2e-11eb-81f3-88a483e80a13.png">

<ol>
<li><p><code>for ... in</code></p>
<ul>
<li>index 접근</li>
</ul>
</li>
<li><p><code>for ... of</code></p>
<ul>
<li>element 접근</li>
</ul>
</li>
<li><p><code>forEach</code></p>
<ul>
<li>index, element 모두 접근</li>
<li><strong><code>(element, index)</code> 순서 바꾸면 안 됨!</strong></li>
</ul>
</li>
</ol>
<ul>
<li>String 반복</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// String의 `repeat` 함수</span></span><br><span class="line"><span class="built_in">String</span>.repeat(i)</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="함수"><a href="#함수" class="headerlink" title="함수"></a>함수</h4><ul>
<li><code>일급 객체</code><ul>
<li>변수나 데이터 구조에 할당 가능</li>
<li>다른 함수의 파라미터로 전달 가능</li>
<li>반환 값으로 사용 가능</li>
<li>런타임 시 생성 가능</li>
</ul>
</li>
<li><code>()</code> 를 이용하여 함수를 호출하지 않으면 실행되지 않음</li>
</ul>
<blockquote>
<p>사용하는 이유</p>
<ul>
<li>코드 재사용<ul>
<li>같은 함수에 다른 인자를 넣으면 다른 결과를 냄</li>
</ul>
</li>
</ul>
</blockquote>
<h5 id="선언"><a href="#선언" class="headerlink" title="선언"></a>선언</h5><img width="356" alt="Screenshot 2021-04-10 at 16 04 05" src="https://user-images.githubusercontent.com/49134038/114866293-5663d700-9e2e-11eb-94f4-8e700418b379.png">



<ul>
<li><p><strong>함수 선언문</strong></p>
</li>
<li><p>기명함수 표현식</p>
<ul>
<li>변수에 할당<ul>
<li>hoisting에 영향을 받지 않음</li>
</ul>
</li>
<li>함수 이름 따로 선언<ul>
<li><code>_name</code> 형식</li>
</ul>
</li>
</ul>
<blockquote>
<p>잘 사용하지 않음</p>
</blockquote>
</li>
<li><p><strong>익명함수 표현식</strong></p>
<blockquote>
<p>가장 많이 사용!</p>
</blockquote>
<ul>
<li>변수에 할당<ul>
<li>hoisting에 영향을 받지 않음</li>
</ul>
</li>
<li>함수 이름 따로 지정하지 않음</li>
</ul>
</li>
</ul>
<h5 id="화살표-함수"><a href="#화살표-함수" class="headerlink" title="화살표 함수"></a>화살표 함수</h5><ul>
<li>익명함수 표현식을 간결하게 표현한 것</li>
<li>매개변수가 하나면 소괄호 생략 가능</li>
<li>함수 내부에 return 문만 있다면 return 생략 가능</li>
</ul>
<h5 id="매개변수와-인자"><a href="#매개변수와-인자" class="headerlink" title="매개변수와 인자"></a>매개변수와 인자</h5><ul>
<li>매개변수 <em>(parameter)</em><ul>
<li>함수 <strong>정의</strong>에 사용되는 변수</li>
<li>함수가 실행되기 전까지는 값을 가지지 않음</li>
</ul>
</li>
<li>인자 <em>(argument)</em><ul>
<li>함수를 호출할 때 전달하는 값</li>
<li>함수에 <strong>적용</strong>되는 실질적인 값</li>
</ul>
</li>
</ul>
<h5 id="반환-값-return"><a href="#반환-값-return" class="headerlink" title="반환 값 (return)"></a>반환 값 (return)</h5><ul>
<li>함수 실행을 종료하고 함수 호출 지점으로 값을 반환함</li>
<li>함수 내부에서 return이 실행될 경우, 이후 코드는 실행되지 않음</li>
<li>return이 지정되지 않은 경우는 <code>undefined</code> 반환<ul>
<li><code>return undefined;</code> 와 동일</li>
</ul>
</li>
</ul>
<blockquote>
<h5 id="좋은-함수-만들기"><a href="#좋은-함수-만들기" class="headerlink" title="좋은 함수 만들기"></a>좋은 함수 만들기</h5><ul>
<li>하나의 함수는 <strong>하나의 기능</strong>만</li>
<li>함수명은 짧고 명확해야 하며, 동사로 시작</li>
<li>lowerCamelCase</li>
<li>arrow function으로 작성하는 것이 권장됨</li>
</ul>
</blockquote>
<h4 id="Operator"><a href="#Operator" class="headerlink" title="Operator"></a>Operator</h4><img width="325" alt="Screenshot 2021-04-10 at 16 10 51" src="https://user-images.githubusercontent.com/49134038/114866290-5663d700-9e2e-11eb-80dc-70f2cefefebc.png">

<blockquote>
<p>주로 <code>===</code> 이용할 것!</p>
</blockquote>
<h4 id="객체"><a href="#객체" class="headerlink" title="객체"></a>객체</h4><img width="233" alt="Screenshot 2021-04-10 at 15 50 41" src="https://user-images.githubusercontent.com/49134038/114866677-d25e1f00-9e2e-11eb-98c0-e40ac96f4a4b.png">



<ul>
<li><p>**property === (<code>key</code> , <code>value</code>) ** 쌍 1개</p>
<ul>
<li><code>key: value,</code></li>
</ul>
</li>
<li><p>value에는 어떤 것이든 올 수 있음</p>
</li>
<li><p>property 간에는 쉼표로 구분됨</p>
</li>
<li><p>method : property value로 함수가 오는 것</p>
<ul>
<li>사용 시 <code>varName.methodName()</code> 으로 호출</li>
<li>e.g. <code>sayHi </code> method</li>
</ul>
</li>
</ul>
<h4 id="JSON-JavaScript-Object-Notation"><a href="#JSON-JavaScript-Object-Notation" class="headerlink" title="JSON (JavaScript Object Notation)"></a>JSON (JavaScript Object Notation)</h4><ul>
<li><p><code>객체</code> 표현식</p>
</li>
<li><p>(key, value) 로 구성된 <code>property</code>들의 정렬되지 않은 집합</p>
</li>
<li><p>서버-클라이언트 통신할 때 사용함</p>
</li>
<li><p>localStorage 등 웹 저장소에 저장할 때도 사용함</p>
<ul>
<li><p><code>localStorage</code> data <strong>is specific to the protocol of the document</strong></p>
<blockquote>
<p>In particular, for a site loaded over HTTP (e.g., <code>http://example.com</code>), <code>localStorage</code> returns a different object than <code>localStorage</code> for the corresponding site loaded over HTTPS (e.g., <code>https://example.com</code>).</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<img width="610" alt="Screenshot 2021-04-10 at 16 15 50" src="https://user-images.githubusercontent.com/49134038/114866285-55cb4080-9e2e-11eb-930a-5d6f0ddb7aed.png">



<h4 id="동기와-비동기"><a href="#동기와-비동기" class="headerlink" title="동기와 비동기"></a>동기와 비동기</h4><blockquote>
<p>JavaScript</p>
<ul>
<li><p>synchronous</p>
<blockquote>
<p><code>Synchronous</code> means that if you need to wait for something, then everything stops until the wait is over.</p>
</blockquote>
</li>
<li><p>single thread</p>
<blockquote>
<p><code>Single threaded</code> means that only one thing happens at a time.</p>
</blockquote>
</li>
</ul>
</blockquote>
<ul>
<li><p><strong>Sync</strong></p>
<ul>
<li>차례대로 실행</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> getCoffee = <span class="function">(<span class="params">coffee</span>) =&gt;</span> &#123; <span class="comment">// coffee === null</span></span><br><span class="line">	<span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">		coffee = <span class="string">&quot;Ice Americano&quot;</span>;</span><br><span class="line">	&#125;, <span class="number">3000</span>);</span><br><span class="line">	<span class="built_in">console</span>.log(coffee); <span class="comment">// coffee === null</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> coffee = <span class="literal">null</span>;</span><br><span class="line">getCoffee(coffee); <span class="comment">// null</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p><strong>Async</strong></p>
<ul>
<li>해당 코드가 끝날 때까지 다른 코드를 실행하지 않음</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> getCoffee = <span class="function">(<span class="params">coffee</span>) =&gt;</span> &#123; <span class="comment">// coffee === null</span></span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    coffee = <span class="string">&quot;Ice Americano&quot;</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(coffee); <span class="comment">// coffee = &quot;Ice Americano&quot;</span></span><br><span class="line">  &#125;, <span class="number">3000</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> coffee = <span class="literal">null</span>;</span><br><span class="line">getCoffee(coffee); <span class="comment">// Ice Americano</span></span><br></pre></td></tr></table></figure>


</li>
</ul>
<h4 id="콜백-함수"><a href="#콜백-함수" class="headerlink" title="콜백 함수"></a>콜백 함수</h4><ul>
<li>자바스크립트는 <code>single thread</code> 이기 때문에 효율성을 위해서 기본적으로 <code>동기적 </code>으로 처리함<ul>
<li>비동기적으로 처리할 시 waiting time이 무한대로 길어질 수도 있음</li>
</ul>
</li>
<li>비동기로 처리하기 위해서는 <code>콜백 함수</code>를 이용함</li>
<li>다른 함수의 인자로 전달된 콜백함수는 특정 이벤트가 발생하면 호출됨<ul>
<li>e.g. <code>setTimeout</code> </li>
</ul>
</li>
<li>❓다른 객체에게 “이벤트가 끝나면 알려달라”고 일을 맡기고, 해당 이벤트가 끝나면 해당 콜백함수를 실행함</li>
</ul>
<img width="346" alt="Screenshot 2021-04-10 at 16 20 59" src="https://user-images.githubusercontent.com/49134038/114866282-5532aa00-9e2e-11eb-890c-f521c6dc69b0.png">

<ul>
<li><p>Asynchronous : setTimeout()에 모두 묶어버림</p>
</li>
<li><p>callback function : <code>const second</code></p>
</li>
</ul>
<blockquote>
<h5 id="콜백-지옥"><a href="#콜백-지옥" class="headerlink" title="콜백 지옥"></a>콜백 지옥</h5><ul>
<li><em>클린 코드를 위해 피해야 할 것!</em><ul>
<li>if문 분기와 error handling을 어렵게 만듦</li>
</ul>
</li>
</ul>
<ol>
<li><p>익명함수를 분리하여 <code>기명함수</code>로 작성하거나</p>
</li>
<li><p><code>promise</code> 와 같은 비동기 처리를 사용할 것</p>
</li>
</ol>
</blockquote>
<h4 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h4><ul>
<li><p>자바스크립트 비동기 처리에 사용되는 객체</p>
</li>
<li><p><code>new Promise()</code> 를 통해 선언, 인자는 <code>(resolve, reject)</code></p>
<ul>
<li><code>const promise = new Promise((res, rej) =&gt; &#123;&#125;);</code></li>
</ul>
</li>
<li><p>return 값은 resolve나 reject 내부의 메시지</p>
</li>
<li><p>resolve, reject 둘 중 하나만 실행</p>
<ul>
<li>둘 다 있다면 나중에 작성된 코드 무시</li>
</ul>
</li>
<li><p><code>fetch</code> 를 사용하여 실제 API를 호출하면 Promise 객체가 반환됨</p>
</li>
<li><p><code>response.json()</code> 을 통해 response의 body를 JSON 객체로 변환함</p>
<ul>
<li>이 메소드의 <strong>실행 결과도 Promise</strong>임</li>
</ul>
</li>
</ul>
<h5 id="Promise의-3가지-상태"><a href="#Promise의-3가지-상태" class="headerlink" title="Promise의 3가지 상태"></a>Promise의 3가지 상태</h5><img width="276" alt="Screenshot 2021-04-15 at 20 43 45" src="https://user-images.githubusercontent.com/49134038/114866259-4f3cc900-9e2e-11eb-885b-be61da0cc5f6.png">

<ol>
<li>pending : 아직 비동기 처리가 완료되지 않음</li>
<li>fulfilled : 비동기 처리가 완료되어 결과값이 반환됨<ul>
<li><code>then</code> 실행</li>
<li>then을 연속으로 사용할 수 있음</li>
<li>catch 이후에도 then 설정 가능</li>
<li><code>throw Error()</code> 를 통해 에러가 발생하면 catch 실행</li>
</ul>
</li>
<li>rejected : 비동기 처리 중 오류가 발생함<ul>
<li><code>catch</code> 실행</li>
</ul>
</li>
</ol>
<blockquote>
<p><code>finally</code> 는 결과 상관 없이 실행됨</p>
</blockquote>
<h4 id="Async-Await"><a href="#Async-Await" class="headerlink" title="Async / Await"></a>Async / Await</h4><img width="583" alt="Screenshot 2021-04-10 at 16 31 05" src="https://user-images.githubusercontent.com/49134038/114866280-549a1380-9e2e-11eb-9375-d00612bc3e01.png">

<ul>
<li>await은 async 함수 안에서만 사용 가능</li>
<li>await은 결과가 resolve, reject이든 상관 없이 Promise가 끝날 때까지 기다림</li>
<li><code>then</code>, <code>catch</code> 를 사용하지 않고 무조건 Promise 결과를 얻음</li>
</ul>
<h4 id="Notification"><a href="#Notification" class="headerlink" title="Notification"></a>Notification</h4><ol>
<li><p>Alert : 사용자가 확인을 누를 때까지 메시지를 보여줌</p>
</li>
<li><p>Prompt : 사용자에게 값을 입력받음</p>
<ul>
<li><p>첫번째 인자는 notifying message</p>
</li>
<li><p>두번째 인자는 default 값, 사용자가 취소를 누르면 <code>null</code> 리턴</p>
</li>
</ul>
</li>
<li><p>Confirm : 사용자에게 질문을 보여주고 true / false 리턴</p>
</li>
</ol>
<h4 id="async-defer"><a href="#async-defer" class="headerlink" title="async / defer"></a>async / defer</h4><img width="532" alt="Screenshot 2021-04-10 at 16 36 52" src="https://user-images.githubusercontent.com/49134038/114866279-549a1380-9e2e-11eb-8571-fbfef343dc76.png">

<ul>
<li>async : script가 html의 영향을 받지 않을 때<ul>
<li>e.g. DOM 조작 요소가 없을 때</li>
<li>HTML pausing해도 영향 없음</li>
</ul>
</li>
<li><strong>defer</strong> : script가 html의 영향을 받을 때<ul>
<li>e.g. DOM 조작 요소가 있을 때</li>
<li>일단 모두 로딩하고 reloading</li>
</ul>
</li>
</ul>
<h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><h3 id="Canvas"><a href="#Canvas" class="headerlink" title="Canvas"></a>Canvas</h3><ul>
<li>애니메이션, 게임 그래픽, 사진 조작, 영상 처리 등 그래픽을 그리기 위한 방법</li>
<li><strong><code>API</code>이기 때문에 <code>자바스크립트</code>로 조작한다</strong></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;!- 넓이와 높이 지정해야 함 (css로 조정해도 됨) -&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">&quot;canvas&quot;</span> <span class="attr">width</span>=<span class="string">&quot;500&quot;</span> <span class="attr">height</span>=<span class="string">&quot;500&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;canvas.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// canvas element 가져오기</span></span><br><span class="line"><span class="keyword">const</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">&quot;canvas&quot;</span>);</span><br><span class="line"><span class="comment">// canvas의 context를 &quot;2d&quot;로 지정하기</span></span><br><span class="line"><span class="keyword">const</span> ctx = canvas.getContext(<span class="string">&quot;2d&quot;</span>);</span><br></pre></td></tr></table></figure>


<img width="343" alt="Screenshot 2021-04-10 at 16 43 28" src="https://user-images.githubusercontent.com/49134038/114866278-54017d00-9e2e-11eb-8a51-e8ea25f388fd.png">

<img width="321" alt="Screenshot 2021-04-10 at 16 49 25" src="https://user-images.githubusercontent.com/49134038/114866275-54017d00-9e2e-11eb-8cd0-73ff7dca9c19.png">

<ul>
<li>모니터의 좌측 상단 : (0,0)</li>
</ul>
<img width="322" alt="Screenshot 2021-04-10 at 16 50 03" src="https://user-images.githubusercontent.com/49134038/114866273-5368e680-9e2e-11eb-9706-200626524a8c.png">

<img width="292" alt="Screenshot 2021-04-10 at 16 56 50" src="https://user-images.githubusercontent.com/49134038/114866261-51068c80-9e2e-11eb-9564-2ac4ee45d86c.png">



<img width="360" alt="Screenshot 2021-04-10 at 16 52 04" src="https://user-images.githubusercontent.com/49134038/114866271-52d05000-9e2e-11eb-8eab-0ab286a4ac6c.png">



<img width="206" alt="Screenshot 2021-04-10 at 16 54 07" src="https://user-images.githubusercontent.com/49134038/114866269-52d05000-9e2e-11eb-8b8a-1f93e633d2cc.png">

<img width="321" alt="Screenshot 2021-04-10 at 16 54 43" src="https://user-images.githubusercontent.com/49134038/114866263-5237b980-9e2e-11eb-8a66-ad0a57e4dfdf.png">





<h3 id="Drag-and-Drop"><a href="#Drag-and-Drop" class="headerlink" title="Drag-and-Drop"></a>Drag-and-Drop</h3><ul>
<li>특정 element를 마우스로 끌어서 원하는 위치로 옮기는 HTML API</li>
<li>element의 위치를 바꾸거나, 파일을 업로드할 때 자주 사용함</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bucket&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;cat.png&quot;</span> <span class="attr">id</span>=<span class="string">&quot;cat&quot;</span> <span class="attr">draggable</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bucket&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bucket&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bucket&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>id</code> 지정 후 <code>draggable=&quot;true&quot;</code></li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#cat</span> &#123;</span><br><span class="line">	<span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>z-index</code> 설정</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> buckets = <span class="built_in">document</span>.querySelectorAll(<span class="string">&quot;.bucket&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> cat = <span class="built_in">document</span>.getElementById(<span class="string">&quot;cat&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 상자에 allowDrop(dragover), drop event 추가</span></span><br><span class="line">buckets.forEach(<span class="function">(<span class="params">bucket</span>) =&gt;</span> addEventListener(<span class="string">&quot;dragover&quot;</span>, allowDrop));</span><br><span class="line">buckets.forEach(<span class="function">(<span class="params">bucket</span>) =&gt;</span> addEventListener(<span class="string">&quot;drop&quot;</span>, drop));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 고양이에 drag(dragstart) event 추가</span></span><br><span class="line">cat.addEventListener(<span class="string">&quot;dragstart&quot;</span>, drag);</span><br></pre></td></tr></table></figure>


<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">allowDrop</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">	<span class="comment">// 기본 동작 막기</span></span><br><span class="line">	event.preventDefault();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">drag</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">	<span class="comment">// 고양이 이미지의 id를 옮겨야하므로 유형은 &quot;text&quot;, 데이터(cat)는 event.target.id</span></span><br><span class="line">	event.dataTransfer.setData(<span class="string">&quot;text&quot;</span>, event.target.id);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">drop</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">	event.preventDefault();</span><br><span class="line">	<span class="comment">// 옮기려고 저장한 고양이 이미지의 id 가져오기</span></span><br><span class="line">	<span class="keyword">const</span> imageID = event.dataTransfer.getData(<span class="string">&quot;text&quot;</span>);</span><br><span class="line">	<span class="comment">// 현재 이벤트가 발생한 요소(dropBox)의 하위 요소에 element를 추가하여 자식 노드(cat)로 만들기</span></span><br><span class="line">	event.target.appendChild(<span class="built_in">document</span>.getElementById(<span class="string">&quot;imageID&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2021/04/10/2%EC%B0%A8-%EC%84%B8%EB%AF%B8%EB%82%98-10-04-21/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2021/04/10/const-function/"
                            aria-label=": const function"
                        >
                            const function
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2021-04-10T20:58:41+09:00">
	
		    Apr 10, 2021
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Web/">Web</a>, <a class="category-link" href="/categories/Web/JavaScript/">JavaScript</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h3 id="Function-Statement"><a href="#Function-Statement" class="headerlink" title="Function Statement"></a>Function Statement</h3><ul>
<li><em>hoisted</em> to the top of the <em>full lexical scope</em><ul>
<li>can break conflicting scripts</li>
<li>it’s difficult to debug</li>
</ul>
</li>
</ul>
<ul>
<li>named function is shown in the stack trace<ul>
<li>easier to debug when error occurs in the function</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Function declarations are given two passes,</span></span><br><span class="line"><span class="comment">where the first lifts them to the top (hoisting),</span></span><br><span class="line"><span class="comment">allowing &quot;out of order&quot; usage</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">doTheThing();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doTheThing</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`This is awesome number <span class="subst">$&#123;getAwesome()&#125;</span>`</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getAwesome</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (+((<span class="built_in">Math</span>.random() * <span class="number">10000</span>).toString().split(<span class="string">&#x27;.&#x27;</span>)[<span class="number">0</span>]))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="Const-Declaration"><a href="#Const-Declaration" class="headerlink" title="Const Declaration"></a>Const Declaration</h3><ul>
<li><em>edge-case hoisting</em></li>
</ul>
<ul>
<li>declare a variable<ul>
<li>gives it a block scope</li>
<li>stops the full hoisting</li>
</ul>
</li>
<li>cannot be re-declared<ul>
<li>throws exception if re-declared</li>
<li>easier to debug</li>
</ul>
</li>
<li>won’t be caught until called</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">This shows that, because of block-scoping,</span></span><br><span class="line"><span class="comment">const function references must be invoked in-order</span></span><br><span class="line"><span class="comment">or else things will fail silently.</span></span><br><span class="line"><span class="comment">consts are added serially (in the order in which they appear)</span></span><br><span class="line"><span class="comment">and much of the body isn&#x27;t declared when we first try to invoke or functions</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// use `getAwesome()`</span></span><br><span class="line"><span class="keyword">const</span> tryDoTheThing = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`This is me trying to be awesome <span class="subst">$&#123;getAwesome()&#125;</span>`</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// &quot;getAwesome is not defined&quot;, because it is referenced too early,</span></span><br><span class="line"><span class="comment">// before declaring `getAwesome()` function</span></span><br><span class="line">tryDoTheThing()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> getAwesome = <span class="function">() =&gt;</span> (+((<span class="built_in">Math</span>.random() * <span class="number">10000</span>).toString().split(<span class="string">&#x27;.&#x27;</span>)[<span class="number">0</span>]))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> doTheThing = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`This is awesome! <span class="subst">$&#123;getAwesome()&#125;</span>`</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">doTheThing()</span><br></pre></td></tr></table></figure>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2021/04/10/const-function/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2021/04/10/1%EC%B0%A8-%EC%84%B8%EB%AF%B8%EB%82%98-Responsive-Web/"
                            aria-label=": Responsive Web"
                        >
                            Responsive Web
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2021-04-10T04:36:47+09:00">
	
		    Apr 10, 2021
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/SOPT/">SOPT</a>, <a class="category-link" href="/categories/SOPT/WEB-28th/">WEB_28th</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="Responsive-Web"><a href="#Responsive-Web" class="headerlink" title="Responsive Web"></a>Responsive Web</h1><blockquote>
<h3 id="Always-Design-for-Mobile-First"><a href="#Always-Design-for-Mobile-First" class="headerlink" title="Always Design for Mobile First"></a>Always Design for Mobile First</h3></blockquote>
<center><img src="https://www.marketing91.com/wp-content/uploads/2018/04/website-responsiveness-2.jpg" /></center>



<ul>
<li><code>데스크탑</code>, <code>태블릿</code>, <code>노트북</code>, <code>스마트폰</code> 등의 다양한 기기가 등장하면서 데스크탑의 화면에 최적화되어 있던 레이아웃을 각 기기의 화면 크기에 맞게 유동적으로 변동해야 하는 필요성이 대두됨</li>
<li><code>내용은 동일</code>하지만 최적화된 레이아웃 렌더링</li>
</ul>
<h3 id="반응형의-중요성"><a href="#반응형의-중요성" class="headerlink" title="반응형의 중요성"></a>반응형의 중요성</h3><ol>
<li><p>모바일 시장</p>
</li>
<li><p>더 나은 User eXperience</p>
</li>
<li><p>빠른 페이지 로딩 속도</p>
</li>
<li><p>효율적이고 cost-effective</p>
<ul>
<li>버전을 나누어 유지, 보수할 필요가 없음</li>
</ul>
</li>
</ol>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><h3 id="종류"><a href="#종류" class="headerlink" title="종류"></a>종류</h3><h4 id="1-Responsive-Layout-adaptive-design"><a href="#1-Responsive-Layout-adaptive-design" class="headerlink" title="1) Responsive Layout (adaptive design)"></a>1) Responsive Layout (adaptive design)</h4><ul>
<li><code>media query</code> 이용해 <code>breakpoint</code> 적용</li>
<li>각 component가 <code>px</code> 으로 표현됨</li>
</ul>
<h4 id="2-Fluid-Layout"><a href="#2-Fluid-Layout" class="headerlink" title="2) Fluid Layout"></a>2) Fluid Layout</h4><ul>
<li>페이지의 크기에 따라 레이아웃의 크기도 변경됨</li>
<li>relative unit인 <code>em</code> 또는 <code>%</code> 으로 표현됨</li>
<li>time-consuming</li>
<li>매번 testing 해야 함</li>
</ul>
<h4 id="3-Fluid-responsive-Layout"><a href="#3-Fluid-responsive-Layout" class="headerlink" title="3) Fluid-responsive Layout"></a>3) Fluid-responsive Layout</h4><ul>
<li><p><code>responsive</code> 과 <code>fluid</code> 레이아웃의 결합</p>
</li>
<li><p><code>media query</code> 의 <code>breakpoints</code> 이용</p>
</li>
<li><p>더 자연스러운 레이아웃 변화</p>
</li>
</ul>
<h2 id="CSS-Media-Query-Fluid-grid-system"><a href="#CSS-Media-Query-Fluid-grid-system" class="headerlink" title="CSS Media Query (Fluid grid system)"></a>CSS Media Query (Fluid grid system)</h2><h3 id="media-rule"><a href="#media-rule" class="headerlink" title="@media rule"></a><code>@media</code> rule</h3><ul>
<li>width and height of the viewport</li>
<li>width and height of the device</li>
<li>orientation (landscape / portrait)</li>
<li>resolution</li>
</ul>
<h3 id="Media-Types"><a href="#Media-Types" class="headerlink" title="Media Types"></a>Media Types</h3><table>
<thead>
<tr>
<th align="left">Value</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">all</td>
<td align="left">Default. Used for all media type devices</td>
</tr>
<tr>
<td align="left">print</td>
<td align="left">Used for printers</td>
</tr>
<tr>
<td align="left">screen</td>
<td align="left">Used for computer screens, tablets, smart-phones etc.</td>
</tr>
<tr>
<td align="left">speech</td>
<td align="left">Used for screenreaders that “reads” the page out loud</td>
</tr>
</tbody></table>
<h3 id="Media-Features"><a href="#Media-Features" class="headerlink" title="Media Features"></a>Media Features</h3><table>
<thead>
<tr>
<th align="left">Value</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">max-height</td>
<td align="left">The maximum height of the display area, such as a browser window</td>
</tr>
<tr>
<td align="left">min-width</td>
<td align="left">The minimum width of the display area, such as a browser window</td>
</tr>
</tbody></table>
<p><em>css</em></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@media</span> <span class="keyword">not</span>|<span class="keyword">only</span> mediatype <span class="keyword">and</span> (mediafeature <span class="keyword">and</span>|<span class="keyword">or</span>|<span class="keyword">not</span> mediafeature) &#123;</span><br><span class="line">  <span class="selector-tag">CSS-Code</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>scss</em></p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Media Query Mixins</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Mobile</span></span><br><span class="line"><span class="keyword">@mixin</span> mediaSm &#123;</span><br><span class="line">  <span class="keyword">@media</span> screen <span class="keyword">and</span> (max-width: <span class="number">500px</span>) &#123;</span><br><span class="line">    <span class="keyword">@content</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Tablet</span></span><br><span class="line"><span class="keyword">@mixin</span> mediaMd &#123;</span><br><span class="line">  <span class="keyword">@media</span> screen <span class="keyword">and</span> (max-width: <span class="number">768px</span>) &#123;</span><br><span class="line">    <span class="keyword">@content</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Desktop</span></span><br><span class="line"><span class="keyword">@mixin</span> mediaLg &#123;</span><br><span class="line">  <span class="keyword">@media</span> screen <span class="keyword">and</span> (min-width: <span class="number">769px</span>) <span class="keyword">and</span> (max-width: <span class="number">1170px</span>) &#123;</span><br><span class="line">    <span class="keyword">@content</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// TV, etc.</span></span><br><span class="line"><span class="keyword">@mixin</span> mediaXl &#123;</span><br><span class="line">  <span class="keyword">@media</span> screen <span class="keyword">and</span> (min-width: <span class="number">1171px</span>) &#123;</span><br><span class="line">    <span class="keyword">@content</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>html</em></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">media</span>=<span class="string">&quot;screen and (min-width: 900px)&quot;</span> <span class="attr">href</span>=<span class="string">&quot;widescreen.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">media</span>=<span class="string">&quot;screen and (max-width: 600px)&quot;</span> <span class="attr">href</span>=<span class="string">&quot;smallscreen.css&quot;</span>&gt;</span></span><br><span class="line">....</span><br></pre></td></tr></table></figure>




<center><img src="https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/adc13334-06ab-4732-bb0a-80acb71cda07/sizes.jpg" /></center>

<center><img src="https://www.w3schools.com/css/rwd_desktop.png" /> <img src="https://www.w3schools.com/css/rwd_tablet.png" /> <img src="https://www.w3schools.com/css/rwd_phone.png" /></center>



<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Smartphones (portrait and landscape) ----------- */</span></span><br><span class="line"><span class="keyword">@media</span> <span class="keyword">only</span> screen</span><br><span class="line"><span class="keyword">and</span> (min-device-width : <span class="number">320px</span>)</span><br><span class="line"><span class="keyword">and</span> (max-device-width : <span class="number">480px</span>) &#123;</span><br><span class="line"><span class="comment">/* Styles */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Smartphones (landscape) ----------- */</span></span><br><span class="line"><span class="keyword">@media</span> <span class="keyword">only</span> screen</span><br><span class="line"><span class="keyword">and</span> (min-width : <span class="number">321px</span>) &#123;</span><br><span class="line"><span class="comment">/* Styles */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Smartphones (portrait) ----------- */</span></span><br><span class="line"><span class="keyword">@media</span> <span class="keyword">only</span> screen</span><br><span class="line"><span class="keyword">and</span> (max-width : <span class="number">320px</span>) &#123;</span><br><span class="line"><span class="comment">/* Styles */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




<h5 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h5><p><a target="_blank" rel="noopener" href="https://css-tricks.com/a-complete-guide-to-css-media-queries/">https://css-tricks.com/a-complete-guide-to-css-media-queries/</a></p>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2021/04/10/1%EC%B0%A8-%EC%84%B8%EB%AF%B8%EB%82%98-Responsive-Web/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
        
          <li class="pagination-next">
            <a
                class="btn btn--default btn--small"
                href="/tags/WEB/page/2/"
                aria-label="OLDER POSTS"
            >
              <span>OLDER POSTS</span>
              <i class="fa fa-angle-right text-base icon-ml"></i>
            </a>
          </li>
        
        <li class="pagination-number">page 1 of 2</li>
    </ul>
</div>

</section>


                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2021 JungHyun. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/profile.jpeg" alt="Author&#39;s picture"/>
        
            <h4 id="about-card-name">JungHyun</h4>
        
            <div id="about-card-bio"><p>author.bio</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br/>
                Seoul/South Korea, London/UK
            </div>
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/IMG_5960.jpeg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/jquery.js"></script>


<script src="/assets/js/jquery.fancybox.js"></script>


<script src="/assets/js/thumbs.js"></script>


<script src="/assets/js/tranquilpeak.js"></script>

<!--SCRIPTS END-->





    </body>
</html>
